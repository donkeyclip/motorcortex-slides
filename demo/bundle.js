!function(t){var e=window.webpackHotUpdate;window.webpackHotUpdate=function(t,n){!function(t,e){if(!w[t]||!x[t])return;for(var n in x[t]=!1,e)Object.prototype.hasOwnProperty.call(e,n)&&(f[n]=e[n]);0==--v&&0===y&&E()}(t,n),e&&e(t,n)};var n,i=!0,r="e3cfea182a603a0067ae",o={},s=[],a=[];function l(t){var e=A[t];if(!e)return T;var i=function(i){return e.hot.active?(A[i]?-1===A[i].parents.indexOf(t)&&A[i].parents.push(t):(s=[t],n=i),-1===e.children.indexOf(i)&&e.children.push(i)):(console.warn("[HMR] unexpected require("+i+") from disposed module "+t),s=[]),T(i)},r=function(t){return{configurable:!0,enumerable:!0,get:function(){return T[t]},set:function(e){T[t]=e}}};for(var o in T)Object.prototype.hasOwnProperty.call(T,o)&&"e"!==o&&"t"!==o&&Object.defineProperty(i,o,r(o));return i.e=function(t){return"ready"===p&&d("prepare"),y++,T.e(t).then(e,(function(t){throw e(),t}));function e(){y--,"prepare"===p&&(b[t]||O(t),0===y&&0===v&&E())}},i.t=function(t,e){return 1&e&&(t=i(t)),T.t(t,-2&e)},i}function c(e){var i={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(t,e){if(void 0===t)i._selfAccepted=!0;else if("function"==typeof t)i._selfAccepted=t;else if("object"==typeof t)for(var n=0;n<t.length;n++)i._acceptedDependencies[t[n]]=e||function(){};else i._acceptedDependencies[t]=e||function(){}},decline:function(t){if(void 0===t)i._selfDeclined=!0;else if("object"==typeof t)for(var e=0;e<t.length;e++)i._declinedDependencies[t[e]]=!0;else i._declinedDependencies[t]=!0},dispose:function(t){i._disposeHandlers.push(t)},addDisposeHandler:function(t){i._disposeHandlers.push(t)},removeDisposeHandler:function(t){var e=i._disposeHandlers.indexOf(t);e>=0&&i._disposeHandlers.splice(e,1)},invalidate:function(){switch(this._selfInvalidated=!0,p){case"idle":(f={})[e]=t[e],d("ready");break;case"ready":S(e);break;case"prepare":case"check":case"dispose":case"apply":(g=g||[]).push(e)}},check:C,apply:P,status:function(t){if(!t)return p;u.push(t)},addStatusHandler:function(t){u.push(t)},removeStatusHandler:function(t){var e=u.indexOf(t);e>=0&&u.splice(e,1)},data:o[e]};return n=void 0,i}var u=[],p="idle";function d(t){p=t;for(var e=0;e<u.length;e++)u[e].call(null,t)}var h,f,m,g,v=0,y=0,b={},x={},w={};function k(t){return+t+""===t?+t:t}function C(t){if("idle"!==p)throw new Error("check() is only allowed in idle status");return i=t,d("check"),(e=1e4,e=e||1e4,new Promise((function(t,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var i=new XMLHttpRequest,o=T.p+""+r+".hot-update.json";i.open("GET",o,!0),i.timeout=e,i.send(null)}catch(t){return n(t)}i.onreadystatechange=function(){if(4===i.readyState)if(0===i.status)n(new Error("Manifest request to "+o+" timed out."));else if(404===i.status)t();else if(200!==i.status&&304!==i.status)n(new Error("Manifest request to "+o+" failed."));else{try{var e=JSON.parse(i.responseText)}catch(t){return void n(t)}t(e)}}}))).then((function(t){if(!t)return d(I()?"ready":"idle"),null;x={},b={},w=t.c,m=t.h,d("prepare");var e=new Promise((function(t,e){h={resolve:t,reject:e}}));f={};return O(0),"prepare"===p&&0===y&&0===v&&E(),e}));var e}function O(t){w[t]?(x[t]=!0,v++,function(t){var e=document.createElement("script");e.charset="utf-8",e.src=T.p+""+t+"."+r+".hot-update.js",document.head.appendChild(e)}(t)):b[t]=!0}function E(){d("ready");var t=h;if(h=null,t)if(i)Promise.resolve().then((function(){return P(i)})).then((function(e){t.resolve(e)}),(function(e){t.reject(e)}));else{var e=[];for(var n in f)Object.prototype.hasOwnProperty.call(f,n)&&e.push(k(n));t.resolve(e)}}function P(e){if("ready"!==p)throw new Error("apply() is only allowed in ready status");return function e(i){var a,l,c,u,p;function h(t){for(var e=[t],n={},i=e.map((function(t){return{chain:[t],id:t}}));i.length>0;){var r=i.pop(),o=r.id,s=r.chain;if((u=A[o])&&(!u.hot._selfAccepted||u.hot._selfInvalidated)){if(u.hot._selfDeclined)return{type:"self-declined",chain:s,moduleId:o};if(u.hot._main)return{type:"unaccepted",chain:s,moduleId:o};for(var a=0;a<u.parents.length;a++){var l=u.parents[a],c=A[l];if(c){if(c.hot._declinedDependencies[o])return{type:"declined",chain:s.concat([l]),moduleId:o,parentId:l};-1===e.indexOf(l)&&(c.hot._acceptedDependencies[o]?(n[l]||(n[l]=[]),v(n[l],[o])):(delete n[l],e.push(l),i.push({chain:s.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:t,outdatedModules:e,outdatedDependencies:n}}function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];-1===t.indexOf(i)&&t.push(i)}}I();var y={},b=[],x={},C=function(){console.warn("[HMR] unexpected require("+E.moduleId+") to disposed module")};for(var O in f)if(Object.prototype.hasOwnProperty.call(f,O)){var E;p=k(O),E=f[O]?h(p):{type:"disposed",moduleId:O};var P=!1,S=!1,M=!1,_="";switch(E.chain&&(_="\nUpdate propagation: "+E.chain.join(" -> ")),E.type){case"self-declined":i.onDeclined&&i.onDeclined(E),i.ignoreDeclined||(P=new Error("Aborted because of self decline: "+E.moduleId+_));break;case"declined":i.onDeclined&&i.onDeclined(E),i.ignoreDeclined||(P=new Error("Aborted because of declined dependency: "+E.moduleId+" in "+E.parentId+_));break;case"unaccepted":i.onUnaccepted&&i.onUnaccepted(E),i.ignoreUnaccepted||(P=new Error("Aborted because "+p+" is not accepted"+_));break;case"accepted":i.onAccepted&&i.onAccepted(E),S=!0;break;case"disposed":i.onDisposed&&i.onDisposed(E),M=!0;break;default:throw new Error("Unexception type "+E.type)}if(P)return d("abort"),Promise.reject(P);if(S)for(p in x[p]=f[p],v(b,E.outdatedModules),E.outdatedDependencies)Object.prototype.hasOwnProperty.call(E.outdatedDependencies,p)&&(y[p]||(y[p]=[]),v(y[p],E.outdatedDependencies[p]));M&&(v(b,[E.moduleId]),x[p]=C)}var j,D=[];for(l=0;l<b.length;l++)p=b[l],A[p]&&A[p].hot._selfAccepted&&x[p]!==C&&!A[p].hot._selfInvalidated&&D.push({module:p,parents:A[p].parents.slice(),errorHandler:A[p].hot._selfAccepted});d("dispose"),Object.keys(w).forEach((function(t){!1===w[t]&&function(t){delete installedChunks[t]}(t)}));var B,V,L=b.slice();for(;L.length>0;)if(p=L.pop(),u=A[p]){var R={},z=u.hot._disposeHandlers;for(c=0;c<z.length;c++)(a=z[c])(R);for(o[p]=R,u.hot.active=!1,delete A[p],delete y[p],c=0;c<u.children.length;c++){var N=A[u.children[c]];N&&((j=N.parents.indexOf(p))>=0&&N.parents.splice(j,1))}}for(p in y)if(Object.prototype.hasOwnProperty.call(y,p)&&(u=A[p]))for(V=y[p],c=0;c<V.length;c++)B=V[c],(j=u.children.indexOf(B))>=0&&u.children.splice(j,1);d("apply"),void 0!==m&&(r=m,m=void 0);for(p in f=void 0,x)Object.prototype.hasOwnProperty.call(x,p)&&(t[p]=x[p]);var F=null;for(p in y)if(Object.prototype.hasOwnProperty.call(y,p)&&(u=A[p])){V=y[p];var $=[];for(l=0;l<V.length;l++)if(B=V[l],a=u.hot._acceptedDependencies[B]){if(-1!==$.indexOf(a))continue;$.push(a)}for(l=0;l<$.length;l++){a=$[l];try{a(V)}catch(t){i.onErrored&&i.onErrored({type:"accept-errored",moduleId:p,dependencyId:V[l],error:t}),i.ignoreErrored||F||(F=t)}}}for(l=0;l<D.length;l++){var H=D[l];p=H.module,s=H.parents,n=p;try{T(p)}catch(t){if("function"==typeof H.errorHandler)try{H.errorHandler(t)}catch(e){i.onErrored&&i.onErrored({type:"self-accept-error-handler-errored",moduleId:p,error:e,originalError:t}),i.ignoreErrored||F||(F=e),F||(F=t)}else i.onErrored&&i.onErrored({type:"self-accept-errored",moduleId:p,error:t}),i.ignoreErrored||F||(F=t)}}if(F)return d("fail"),Promise.reject(F);if(g)return e(i).then((function(t){return b.forEach((function(e){t.indexOf(e)<0&&t.push(e)})),t}));return d("idle"),new Promise((function(t){t(b)}))}(e=e||{})}function I(){if(g)return f||(f={}),g.forEach(S),g=void 0,!0}function S(e){Object.prototype.hasOwnProperty.call(f,e)||(f[e]=t[e])}var A={};function T(e){if(A[e])return A[e].exports;var n=A[e]={i:e,l:!1,exports:{},hot:c(e),parents:(a=s,s=[],a),children:[]};return t[e].call(n.exports,n,n.exports,l(e)),n.l=!0,n.exports}T.m=t,T.c=A,T.d=function(t,e,n){T.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},T.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},T.t=function(t,e){if(1&e&&(t=T(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(T.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)T.d(n,i,function(e){return t[e]}.bind(null,i));return n},T.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return T.d(e,"a",e),e},T.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},T.p="",T.h=function(){return r},l(6)(T.s=6)}([function(t,e,n){!function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=i(e),o=i(n);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function c(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?m(t):e}function v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=f(t);if(e){var r=f(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return g(this,n)}}function y(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=f(t)););return t}function b(t,e,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=y(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function x(t,e,n,i){return(x="undefined"!=typeof Reflect&&Reflect.set?Reflect.set:function(t,e,n,i){var r,o=y(t,e);if(o){if((r=Object.getOwnPropertyDescriptor(o,e)).set)return r.set.call(i,n),!0;if(!r.writable)return!1}if(r=Object.getOwnPropertyDescriptor(i,e)){if(!r.writable)return!1;r.value=n,Object.defineProperty(i,e,r)}else u(i,e,n);return!0})(t,e,n,i)}function w(t,e,n,i,r){if(!x(t,e,n,i||t)&&r)throw new Error("failed to set property");return n}function k(t,e){return O(t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(t){r=!0,o=t}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}}(t,e)||P(t,e)||S()}function C(t){return function(t){if(Array.isArray(t))return I(t)}(t)||E(t)||P(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t){if(Array.isArray(t))return t}function E(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function P(t,e){if(t){if("string"==typeof t)return I(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(t,e):void 0}}function I(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var i=n.call(t,e);if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t,"string");return"symbol"==typeof e?e:String(e)}function T(t,e,n,i){var r=function(){var t={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(t,e){["method","field"].forEach((function(n){e.forEach((function(e){e.kind===n&&"own"===e.placement&&this.defineClassElement(t,e)}),this)}),this)},initializeClassElements:function(t,e){var n=t.prototype;["method","field"].forEach((function(i){e.forEach((function(e){var r=e.placement;if(e.kind===i&&("static"===r||"prototype"===r)){var o="static"===r?t:n;this.defineClassElement(o,e)}}),this)}),this)},defineClassElement:function(t,e){var n=e.descriptor;if("field"===e.kind){var i=e.initializer;n={enumerable:n.enumerable,writable:n.writable,configurable:n.configurable,value:void 0===i?void 0:i.call(t)}}Object.defineProperty(t,e.key,n)},decorateClass:function(t,e){var n=[],i=[],r={static:[],prototype:[],own:[]};if(t.forEach((function(t){this.addElementPlacement(t,r)}),this),t.forEach((function(t){if(!j(t))return n.push(t);var e=this.decorateElement(t,r);n.push(e.element),n.push.apply(n,e.extras),i.push.apply(i,e.finishers)}),this),!e)return{elements:n,finishers:i};var o=this.decorateConstructor(n,e);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(t,e,n){var i=e[t.placement];if(!n&&-1!==i.indexOf(t.key))throw new TypeError("Duplicated element ("+t.key+")");i.push(t.key)},decorateElement:function(t,e){for(var n=[],i=[],r=t.decorators,o=r.length-1;o>=0;o--){var s=e[t.placement];s.splice(s.indexOf(t.key),1);var a=this.fromElementDescriptor(t),l=this.toElementFinisherExtras((0,r[o])(a)||a);t=l.element,this.addElementPlacement(t,e),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],e);n.push.apply(n,c)}}return{element:t,finishers:i,extras:n}},decorateConstructor:function(t,e){for(var n=[],i=e.length-1;i>=0;i--){var r=this.fromClassDescriptor(t),o=this.toClassDescriptor((0,e[i])(r)||r);if(void 0!==o.finisher&&n.push(o.finisher),void 0!==o.elements){t=o.elements;for(var s=0;s<t.length-1;s++)for(var a=s+1;a<t.length;a++)if(t[s].key===t[a].key&&t[s].placement===t[a].placement)throw new TypeError("Duplicated element ("+t[s].key+")")}}return{elements:t,finishers:n}},fromElementDescriptor:function(t){var e={kind:t.kind,key:t.key,placement:t.placement,descriptor:t.descriptor};return Object.defineProperty(e,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),"field"===t.kind&&(e.initializer=t.initializer),e},toElementDescriptors:function(t){var e;if(void 0!==t)return(e=t,O(e)||E(e)||P(e)||S()).map((function(t){var e=this.toElementDescriptor(t);return this.disallowProperty(t,"finisher","An element descriptor"),this.disallowProperty(t,"extras","An element descriptor"),e}),this)},toElementDescriptor:function(t){var e=String(t.kind);if("method"!==e&&"field"!==e)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+e+'"');var n=A(t.key),i=String(t.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var r=t.descriptor;this.disallowProperty(t,"elements","An element descriptor");var o={kind:e,key:n,placement:i,descriptor:Object.assign({},r)};return"field"!==e?this.disallowProperty(t,"initializer","A method descriptor"):(this.disallowProperty(r,"get","The property descriptor of a field descriptor"),this.disallowProperty(r,"set","The property descriptor of a field descriptor"),this.disallowProperty(r,"value","The property descriptor of a field descriptor"),o.initializer=t.initializer),o},toElementFinisherExtras:function(t){return{element:this.toElementDescriptor(t),finisher:B(t,"finisher"),extras:this.toElementDescriptors(t.extras)}},fromClassDescriptor:function(t){var e={kind:"class",elements:t.map(this.fromElementDescriptor,this)};return Object.defineProperty(e,Symbol.toStringTag,{value:"Descriptor",configurable:!0}),e},toClassDescriptor:function(t){var e=String(t.kind);if("class"!==e)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+e+'"');this.disallowProperty(t,"key","A class descriptor"),this.disallowProperty(t,"placement","A class descriptor"),this.disallowProperty(t,"descriptor","A class descriptor"),this.disallowProperty(t,"initializer","A class descriptor"),this.disallowProperty(t,"extras","A class descriptor");var n=B(t,"finisher");return{elements:this.toElementDescriptors(t.elements),finisher:n}},runClassFinishers:function(t,e){for(var n=0;n<e.length;n++){var i=(0,e[n])(t);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");t=i}}return t},disallowProperty:function(t,e,n){if(void 0!==t[e])throw new TypeError(n+" can't have a ."+e+" property.")}};return t}();if(i)for(var o=0;o<i.length;o++)r=i[o](r);var s=e((function(t){r.initializeInstanceElements(t,a.elements)}),n),a=r.decorateClass(function(t){for(var e=[],n=function(t){return"method"===t.kind&&t.key===o.key&&t.placement===o.placement},i=0;i<t.length;i++){var r,o=t[i];if("method"===o.kind&&(r=e.find(n)))if(D(o.descriptor)||D(r.descriptor)){if(j(o)||j(r))throw new ReferenceError("Duplicated methods ("+o.key+") can't be decorated.");r.descriptor=o.descriptor}else{if(j(o)){if(j(r))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+o.key+").");r.decorators=o.decorators}_(o,r)}else e.push(o)}return e}(s.d.map(M)),t);return r.initializeClassElements(s.F,a.elements),r.runClassFinishers(s.F,a.finishers)}function M(t){var e,n=A(t.key);"method"===t.kind?e={value:t.value,writable:!0,configurable:!0,enumerable:!1}:"get"===t.kind?e={get:t.value,configurable:!0,enumerable:!1}:"set"===t.kind?e={set:t.value,configurable:!0,enumerable:!1}:"field"===t.kind&&(e={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===t.kind?"field":"method",key:n,placement:t.static?"static":"field"===t.kind?"own":"prototype",descriptor:e};return t.decorators&&(i.decorators=t.decorators),"field"===t.kind&&(i.initializer=t.value),i}function _(t,e){void 0!==t.descriptor.get?e.descriptor.get=t.descriptor.get:e.descriptor.set=t.descriptor.set}function j(t){return t.decorators&&t.decorators.length}function D(t){return void 0!==t&&!(void 0===t.value&&void 0===t.writable)}function B(t,e){var n=t[e];if(void 0!==n&&"function"!=typeof n)throw new TypeError("Expected '"+e+"' to be a function");return n}var V=[{key:"info",style:"color: #666;",level:5,consoleMethod:"log"},{key:"notice",style:"background: rgba(0, 0, 0, 0.8); color:white; padding:8px;",level:4,consoleMethod:"log"},{key:"warning",style:"color: black; background: orange;",level:2,consoleMethod:"warn"},{key:"error",style:"color: black; background: red;",level:1,consoleMethod:"error"}],L="data-motorcortex2-id",R="closed",z="MotorCortex",N={staggerPreface:"@stagger",mathExpPreface:"@expression",attibuteValue:"@attribute",patternValue:"@pattern",dynamicDuration:"dynamic",totalElements:"total",elementIndex:"index",initParams:"initParams"};window.AudioContext=window.AudioContext||window.webkitAudioContext;var F=new window.AudioContext;function $(t){return"number"==typeof t&&isFinite(t)}function H(t){return!isNaN(parseFloat(t))&&isFinite(t)}function U(t){return"string"==typeof t||t instanceof String}function q(t){return"object"===s(t)}function W(t){return t&&"[object Function]"==={}.toString.call(t)}function G(t){return t.charAt(0).toUpperCase()+t.slice(1)}var J=new RegExp("^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)","gi");function K(t){if(null===t&&void 0===t)return{result:!0,analysis:{width:null,height:null}};if(!q(t))return{result:!1,errors:['originalDims should be an object containing the "width" and "height" keys']};if(!Object.prototype.hasOwnProperty.call(t,"width")||!Object.prototype.hasOwnProperty.call(t,"height"))return{result:!1,errors:['originalDims should be an object containing both the "width" and "height" keys']};if(!U(t.width))return{result:!1,errors:["originalDims.width should be defined either on px or %."]};if(!U(t.height))return{result:!1,errors:["originalDims.height should be defined either on px or %."]};var e=t.width.match(J)[0],n=t.width.substring(e.length);if(!$(Number(e))||"%"!==n&&"px"!==n)return{result:!1,errors:["originalDims.width should be defined either on px or %."]};var i=t.height.match(J)[0],r=t.height.substring(i.length);return!$(Number(i))||"%"!=r&&"px"!=r?{result:!1,errors:["originalDims.heigth should be defined either on px or %."]}:{result:!0,analysis:Q(t)}}function Q(t){var e=null,n=null;if(q(t)&&null!=t){if(Object.prototype.hasOwnProperty.call(t,"width")&&U(t.width)){var i=t.width.match(J)[0],r=t.width.substring(i.length);!$(Number(i))||"%"!==r&&"px"!==r||(e={number:Number(i),unit:r})}if(Object.prototype.hasOwnProperty.call(t,"height")&&U(t.height)){var o=t.height.match(J)[0],s=t.height.substring(o.length);!$(Number(o))||"%"!==s&&"px"!==s||(n={number:Number(o),unit:s})}}return{width:e,height:n}}function X(t){var e=t.replace(/ /g,"");return/.*\((.*)\).*/.exec(e)[1].split(",")}function Y(t,e){return Math.round(t/e)*e}function Z(t){var e=t.split("___");return{mcid:e[0],attribute:e[1]}}function tt(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function et(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=t?"_":"-";return"".concat(tt()).concat(tt()).concat(e).concat(tt()).concat(e).concat(tt())}function nt(t,e){return"".concat(t).concat("___").concat(e)}function it(t,e,n){for(var i=e.split("."),r=t,o=0;o<i.length-1;o++){if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;r=r[i[o]]}return!!Object.prototype.hasOwnProperty.call(r,i[i.length-1])&&(r[i[i.length-1]]=n,!0)}var rt=new(function(){function t(e){a(this,t);var n=2;e&&Object.prototype.hasOwnProperty.call(e,"logLevel")&&(n=e.logLevel);for(var i=0;i<V.length;i++){var r=V[i];n>=r.level?this[r.key]=window.console[r.consoleMethod].bind(window.console,"MotorCortex - ".concat(r.key,": ")):this[r.key]=function(){}}this.log=n>=3?window.console.log.bind(window.console,"MotorCortex - "):function(){}}return c(t,[{key:"validateProps",value:function(t,e,n){var i=e(t);if(i.length>0){for(var r="Error on plugin's \"".concat(n.plugin_npm_name,'" "').concat(n.ClassName,'" instantiation. Errors (op props):'),o=0;o<i.length;o++)r+="\n - ".concat(i[o].message,". ").concat(i[o].actual," provided");return this.error(r),{result:!1,errors:i}}return{result:!0}}},{key:"getElementByMCID",value:function(t,e){return t.rootElement.querySelectorAll("[".concat(L,'="').concat(e,'"]'))[0]}},{key:"buildInitialValuesValidationRules",value:function(t){var e=JSON.parse(JSON.stringify(t));return function t(e){if(("string"==typeof e||e instanceof String)&&(e={type:e}),e.optional=!0,"object"===e.type)for(var n in e.props)t(e.props[n])}(e),e}},{key:"systoleDiastoleProjections",value:function(t,e,n){for(var i=[],r=0;r<t.length;r++){var o=t[r],s=o.parentMillisecond-n;s=s*e+n,1!==e&&i.push({id:o.incident.id,start:s,end:s+o.incident.duration*e,startDelta:s-o.millisecond})}return i}}]),t}());function ot(t){return t.result?{result:!0,execute:t.execute}:{result:!1,errors:t.errors}}var st=function(){function t(e){a(this,t),this.runTimeInfo=e.runTimeInfo,this.context=e.context,this.onInitialise(),this.getIncidentById=e.getIncidentById}return c(t,[{key:"onInitialise",value:function(){}},{key:"_resize",value:function(){rt.log("Please overwite the _resize method of the Channel")}},{key:"addIncidents",value:function(t){return ot(this.checkAddition(t))}},{key:"editIncidents",value:function(t,e){return ot(this.checkEdit(t,e))}},{key:"removeIncidents",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ot(this.checkDelete(t,e))}},{key:"recalcScratchValues",value:function(t){}},{key:"checkAddition",value:function(t){return{result:!0,execute:function(){}}}},{key:"checkEdit",value:function(t,e){return{result:!0,execute:function(){}}}},{key:"checkDelete",value:function(t){return{result:!0,execute:function(){}}}},{key:"checkResizedIncidents",value:function(t){return{result:!0,execute:function(){}}}},{key:"moveTo",value:function(t,e,n){}}],[{key:"type",get:function(){return"plain"}}]),t}(),at="up",lt="down",ct="native.tree.bypass",ut=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t),this.parentNode=null,this.isNode=!1,Object.prototype.hasOwnProperty.call(e,"id")?this.id=e.id:this.id=et(),this.props=e}return c(t,[{key:"name",get:function(){return Object.prototype.hasOwnProperty.call(this.props,"name")?this.props.name:null},set:function(t){this.props.name=t}},{key:"delay",get:function(){return Object.prototype.hasOwnProperty.call(this.props,"delay")?this.props.delay:0},set:function(t){0!==t&&(this.props.delay=t)}},{key:"hiatus",get:function(){return Object.prototype.hasOwnProperty.call(this.props,"hiatus")?this.props.hiatus:0},set:function(t){0!==t&&(this.props.hiatus=t)}},{key:"repeats",get:function(){return Object.prototype.hasOwnProperty.call(this.props,"repeats")?this.props.repeats:1},set:function(t){this.props.repeats=t}},{key:"duration",get:function(){return this.repeats*(this.delay+this.props.duration+this.hiatus)},set:function(t){var e=t/this.duration;this.props.duration*=e,this.hiatus*=e,this.delay*=e}},{key:"setNewDuration",value:function(t){this.duration=t,this.putMessageOnPipe("recalcDuration",{},"Groups",{selfExecute:!1,direction:at})}},{key:"systoleDiastole",value:function(t){this.duration*=t}},{key:"hasParent",get:function(){return null!==this.parentNode}},{key:"attachToNode",value:function(t){this.parentNode=t}},{key:"detachFromParent",value:function(){this.parentNode=null}},{key:"putMessageOnPipe",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Object.prototype.hasOwnProperty.call(i,"direction")||(i.direction=lt),i.direction!==lt||Object.prototype.hasOwnProperty.call(i,"positionDelta")||(i.positionDelta=0),i.selfExecute){var r="handle".concat(G(t)),o="function"==typeof this[r];if(o){var s=this[r](n,e);if(s!==ct){var a={response:s,responder:this};return i.direction===at?a:[d(d({},a),{},{positionDelta:i.positionDelta})]}}}return i.direction===at?this.hasParent?this.parentNode.putMessageOnPipe(t,e,n,{selfExecute:!0,direction:at}):{response:!1,responder:null}:[]}},{key:"bypass",value:function(){return ct}},{key:"positionOnPyramidion",get:function(){return this.getPositionOnPyramidion()}},{key:"getPositionOnPyramidion",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.hasParent){var e=this.putMessageOnPipe("getPositionOnPyramidion",{delta:t,id:this.id},"Parent",{selfExecute:!1,direction:at});return e.response}return t}}]),t}(),pt="Leaf has already been attached to another Node",dt="Negative positioning of childs on nodes is not allowed",ht="The Leaf with the requested id couldn't be found on the Tree",ft=function(t){h(n,t);var e=v(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a(this,n),(t=e.call(this,i)).isNode=!0,t.children={},t.calculatedDuration=0,t}return c(n,[{key:"duration",get:function(){return this.repeats*(this.delay+this.calculatedDuration+this.hiatus)},set:function(t){if(0!==this.duration){var e=t/this.duration;for(var n in this.calculatedDuration*=e,this.hiatus*=e,this.delay*=e,this.children){var i=this.children[n];this.editPosition(i.id,i.position*e,!0),i.leaf.systoleDiastole(e)}}}},{key:"_calculateDuration",value:function(){var t=0;for(var e in this.children){var n=this.children[e];n.position+n.leaf.duration>t&&(t=n.position+n.leaf.duration)}return t!==this.calculatedDuration&&(this.calculatedDuration=t,!0)}},{key:"handleRecalcDuration",value:function(t,e){return!this._calculateDuration()||this.putMessageOnPipe("recalcDuration",{},"Groups",{selfExecute:!1,direction:at})}},{key:"getLeafById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Object.prototype.hasOwnProperty.call(this.children,t))return this.children[t].leaf;if(e)return null;for(var n in this.children){var i=this.children[n].leaf;if(i.isNode){var r=i.getLeafById(t);if(null!=r)return r}}return null}},{key:"getLeafPosition",value:function(t){if(Object.prototype.hasOwnProperty.call(this.children,t))return this.children[t].position;var e=this.putMessageOnPipe("getLeafPosition",{id:t},"Groups",{selfExecute:!1,direction:lt});return e.length>0?e[0].positionDelta+e[0].response:void 0}},{key:"handleGetLeafPosition",value:function(t,e){return this.getLeafPosition(e.id)}},{key:"checkAddition",value:function(t,e){return t.hasParent?{result:!1,reason:pt}:e<0?{result:!1,reason:dt}:{result:!0}}},{key:"addChild",value:function(t,e){return t.hasParent?{result:!1,reason:pt}:(this.children[t.id]={id:t.id,leaf:t,position:e},t.attachToNode(this),this.putMessageOnPipe("recalcDuration",{},"Groups",{selfExecute:!0,direction:at}),{result:!0})}},{key:"checkRemoveChild",value:function(t){return Object.prototype.hasOwnProperty.call(this.children,t)?{result:!0}:{result:!1,reason:ht}}},{key:"removeChild",value:function(t){return this.children[t].leaf.detachFromParent(),delete this.children[t],this.putMessageOnPipe("recalcDuration",{},"Groups",{selfExecute:!0,direction:at}),{result:!0}}},{key:"checkEditPosition",value:function(t,e){return e<0?{result:!1,reason:dt}:Object.prototype.hasOwnProperty.call(this.children,t)?{result:!0}:{result:!1,reason:ht}}},{key:"editPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object.prototype.hasOwnProperty.call(this.children,t))return this.children[t].position=e,n||this.putMessageOnPipe("recalcDuration",{},"Groups",{selfExecute:!0,direction:at}),{result:!0}}},{key:"putMessageOnPipe",value:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(Object.prototype.hasOwnProperty.call(r,"direction")||(r.direction=lt),r.direction!==lt||Object.prototype.hasOwnProperty.call(r,"positionDelta")||(r.positionDelta=0),r.direction===at)return b(f(n.prototype),"putMessageOnPipe",this).call(this,t,e,i,r);var o=b(f(n.prototype),"putMessageOnPipe",this).call(this,t,e,i,r);if(o.length>0)return o;for(var s in this.children){var a=this.children[s].leaf,l=d(d({},r),{},{selfExecute:!0,positionDelta:r.positionDelta+this.children[s].position});o.push.apply(o,C(a.putMessageOnPipe(t,e,i,l)))}return o}},{key:"handleGetPositionOnPyramidion",value:function(t,e){var n=e.delta+this.getLeafPosition(e.id);return this.getPositionOnPyramidion(n)}}]),n}(ut);function mt(t){t.descriptor.value=function(t){void 0===this.blockID&&(this.blockID=et()),this.DescriptiveIncident.putMessageOnPipe("setBlock",{id:this.blockID,description:t,incidentId:this.DescriptiveIncident.id,realIncidentId:this.id},"rootClip",{selfExecute:!0,direction:at})}}function gt(t){t.descriptor.value=function(){this.DescriptiveIncident.putMessageOnPipe("unBlock",{id:this.blockID},"rootClip",{selfExecute:!0,direction:at})}}var vt=T(null,(function(t,e){var n=function(e){h(i,e);var n=v(i);function i(e,r){var o;return a(this,i),o=n.call(this,r),t(m(o)),o.mc_plugin_npm_name="motor-cortex-js",o.plugin_channel_class=st,o.hasIncidents=!0,o.onGroupInitialise(),o.calculatedDuration=0,o}return i}(e);return{F:n,d:[{kind:"method",key:"onGroupInitialise",value:function(){}},{kind:"method",key:"handleAddIncident",value:function(t,e){if(this.id===t){var n=(0,e.incidentFromDescription)(e.incident,e.contextData,e.audio);return null===n?this.bypass():n}return this.bypass()}},{kind:"method",key:"handleMoveIncident",value:function(t,e){if(this.id===t){var n=this.getLeafById(e.incidentId,!0);return null===n?this.bypass():n}return this.bypass()}},{kind:"method",key:"handleRemoveIncident",value:function(t,e){if(this.id===t){var n=this.getLeafById(e.incidentId,!0);return null===n?this.bypass():n}return this.bypass()}},{kind:"method",key:"handleResize",value:function(t){return this.id===t?this:this.bypass()}},{kind:"method",key:"removeChild",value:function(t){this.children[t].leaf.lastWish(),b(f(n.prototype),"removeChild",this).call(this,t)}},{kind:"method",key:"getIncidentsByChannel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={};for(var i in n["motor-cortex-js"]=[{millisecond:t,parentMillisecond:e,incident:this,id:this.id}],this.children){var r=this.children[i],o=r.leaf.getIncidentsByChannel(t+r.position,t);for(var s in o)Object.prototype.hasOwnProperty.call(n,s)?n[s]=n[s].concat(o[s]):n[s]=o[s]}return n}},{kind:"method",key:"lastWish",value:function(){for(var t in this.children)this.children[t].leaf.lastWish()}},{kind:"method",decorators:[mt],key:"setBlock",value:function(){}},{kind:"method",decorators:[gt],key:"unblock",value:function(){}}]}}),ft),yt=function(t){h(n,t);var e=v(n);function n(){return a(this,n),e.apply(this,arguments)}return c(n,[{key:"onInitialise",value:function(){this.incidents=[],this.incidentsById={}}},{key:"_incidentById",value:function(t){return this.incidentsById[t]}},{key:"_resize",value:function(t){for(var e=0;e<this.incidents.length;e++)this.incidents[e].millisecond*=t}},{key:"checkAddition",value:function(t){for(var e=[],n={},i=[],r=0;r<t.length;r++)n[t[r].id]=t[r].incident,i.push({id:t[r].id,millisecond:t[r].millisecond}),Object.prototype.hasOwnProperty.call(this.incidentsById,t[r].id)&&(rt.error("Incident with the id ".concat(t[r].id," already exists. Addition is rejected.")),e.push({type:"Already existing id",meta:{id:t[r].id}}));if(e.length>0)return{result:!1,errors:e};var o=this;return{result:!0,execute:function(){var e;o.incidentsById=Object.assign(o.incidentsById,n),(e=o.incidents).push.apply(e,i),o.incidents.sort((function(t,e){return t.millisecond-e.millisecond}));for(var r=0;r<t.length;r++)o._incidentById(t[r].id)._onGetContextOnce(o.context)}}}},{key:"checkEdit",value:function(t,e){var n=this.incidents;return{result:!0,execute:function(){for(var i,r=0;r<t.length;r++){i=t[r].id;for(var o=0;o<n.length;o++)if(n[o].id===i){n[o].millisecond+=e;break}}n.sort((function(t,e){return t.millisecond-e.millisecond}))}}}},{key:"checkDelete",value:function(t){for(var e=this,n=[],i=0;i<t.length;i++)n.push(t[i].id);return{result:!0,execute:function(){var t=e.incidents.filter((function(t){return!n.includes(t.id)}));e.incidents=t;for(var i=0;i<n.length;i++)delete e.incidentsById[n[i]]}}}},{key:"checkResizedIncidents",value:function(t){var e=this.incidents;return{result:!0,execute:function(){for(var n,i=0;i<t.length;i++){n=t[i].id;for(var r=0;r<e.length;r++)if(e[r].id===n){e[r].millisecond+=t[i].startDelta;break}}e.sort((function(t,e){return t.millisecond-e.millisecond}))}}}},{key:"moveTo",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(i)for(var r=0;r<this.incidents.length;r++){var o=this.incidents[r],s=this._incidentById(o.id);e<o.millisecond?s.onProgress(0,0,n,!0):e>o.millisecond+s.duration?s.onProgress(1,s.duration,n,!0):s.onProgress((e-o.millisecond)/s.duration,e-o.millisecond,n,!0)}else{var a,l=this;a=e>t?this.incidents.filter((function(n){return n.millisecond+l._incidentById(n.id).duration>=t&&n.millisecond+l._incidentById(n.id).duration<=e||l._incidentById(n.id).duration+n.millisecond>=e&&n.millisecond<=e})):this.incidents.filter((function(n){return n.millisecond+l._incidentById(n.id).duration>=e&&n.millisecond+l._incidentById(n.id).duration<=t||l._incidentById(n.id).duration+n.millisecond>=t&&n.millisecond<=t}));for(var c=0;c<a.length;c++){var u=a[c],p=this._incidentById(u.id),d=(e-u.millisecond)/p.duration>=1,h=d?1:(e-u.millisecond)/p.duration,f=d?p.duration:e-u.millisecond;p.onProgress(h,f,n,!1)}}}}]),n}(st),bt="function"==typeof Float32Array;function xt(t,e){return 1-3*e+3*t}function wt(t,e){return 3*e-6*t}function kt(t){return 3*t}function Ct(t,e,n){return((xt(e,n)*t+wt(e,n))*t+kt(e))*t}function Ot(t,e,n){return 3*xt(e,n)*t*t+2*wt(e,n)*t+kt(e)}function Et(t){return t}var Pt=function(t,e,n,i){if(!(0<=t&&t<=1&&0<=n&&n<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===e&&n===i)return Et;for(var r=bt?new Float32Array(11):new Array(11),o=0;o<11;++o)r[o]=Ct(.1*o,t,n);function s(e){for(var i=0,o=1;10!==o&&r[o]<=e;++o)i+=.1;--o;var s=i+(e-r[o])/(r[o+1]-r[o])*.1,a=Ot(s,t,n);return a>=.001?function(t,e,n,i){for(var r=0;r<4;++r){var o=Ot(e,n,i);if(0===o)return e;e-=(Ct(e,n,i)-t)/o}return e}(e,s,t,n):0===a?s:function(t,e,n,i,r){var o,s,a=0;do{(o=Ct(s=e+(n-e)/2,i,r)-t)>0?n=s:e=s}while(Math.abs(o)>1e-7&&++a<10);return s}(e,i,i+.1,t,n)}return function(t){return 0===t?0:1===t?1:Ct(s(t),e,i)}};function It(t){t.descriptor.value=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n={};return n[this.mc_plugin_npm_name]=[{millisecond:t,parentMillisecond:e,incident:this,id:this.id}],n}}var St=T(null,(function(t){return{F:function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;a(this,e),t(this),this.attrs=n,this.props=i,this.dna=r,this.context=r.context,this.mcid=r.mcid,this.id=i.id||et(),this.modelId=i.modelId,this.gotContext=!1,this.plugin_channel_class=st,this.mc_plugin_npm_name="motor-cortex-js",Object.prototype.hasOwnProperty.call(i,"plugin_channel_class")&&(this.plugin_channel_class=i.plugin_channel_class),Object.prototype.hasOwnProperty.call(i,"mc_plugin_npm_name")&&(this.mc_plugin_npm_name=i.mc_plugin_npm_name),this.hasIncidents=!1,this.initialValues={},this.userDefinedInitialValues=n.initialValues||{},this.pureInitialValues=null,this.autoGenerated=!1,this.onInitialise()},d:[{kind:"get",key:"selector",value:function(){return this.props.selector}},{kind:"get",key:"animAttributes",value:function(){return this.attrs.animatedAttrs}},{kind:"set",key:"animAttributes",value:function(t){this.attrs.animatedAttrs[this.attributeKey]=t}},{kind:"method",key:"getScratchValue",value:function(){return 0}},{kind:"get",key:"element",value:function(){return null===this.context?[]:this.context.getElementByMCID?this.context.getElementByMCID(this.mcid):this.context.getElements(this.selector)[0]}},{kind:"get",key:"attributeKey",value:function(){return Object.keys(this.attrs.animatedAttrs)[0]}},{kind:"get",key:"targetValue",value:function(){return this.animAttributes[this.attributeKey]}},{kind:"method",key:"getElementAttribute",value:function(t){return this.element.getAttribute(t)}},{kind:"method",decorators:[It],key:"getIncidentsByChannel",value:function(){}},{kind:"method",key:"hasUserDefinedInitialValue",value:function(){return Object.prototype.hasOwnProperty.call(this.userDefinedInitialValues,this.attributeKey)}},{kind:"method",key:"setInitialValue",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&(this.pureInitialValues=JSON.parse(JSON.stringify(t))),this.hasUserDefinedInitialValue())if(q(this.targetValue)){for(var n in this.userDefinedInitialValues[this.attributeKey])t[n]=this.userDefinedInitialValues[this.attributeKey][n];this.initialValues[this.attributeKey]=t}else this.initialValues[this.attributeKey]=this.userDefinedInitialValues[this.attributeKey];else this.initialValues[this.attributeKey]=t}},{kind:"get",key:"initialValue",value:function(){return this.initialValues[this.attributeKey]}},{kind:"method",key:"_onGetContextOnce",value:function(){try{if(!0===this.context.fragment)return;this.gotContext||(this.onGetContext(),this.gotContext=!0)}catch(t){rt.error(t),rt.error(this.mcid)}}},{kind:"method",key:"onGetContext",value:function(){rt.info('Overwritte the "onGetContext" method with the code you want to get executed',"info")}},{kind:"method",key:"lastWish",value:function(){}},{kind:"method",key:"onInitialise",value:function(){rt.info('Overwritte the "onInialise" method with the code you want to get executed',"info")}},{kind:"method",key:"onProgress",value:function(t,e){}},{kind:"method",decorators:[mt],key:"setBlock",value:function(){}},{kind:"method",decorators:[gt],key:"unblock",value:function(){}}]}})),At=function(t){h(n,t);var e=v(n);function n(t,i,r){var o;return a(this,n),(o=e.call(this,t,i,r)).runTimeInfo={currentMillisecond:0},o}return c(n,[{key:"duration",get:function(){return this.DescriptiveIncident.realClip.duration}},{key:"lastWish",value:function(){this.ownClip&&this.ownClip.context.unmount()}},{key:"onGetContext",value:function(){var t=this,e=this.DescriptiveIncident.realClip.exportConstructionArguments(),n=rt.getElementByMCID(this.context,this.mcid),i=d(d({},e.props),{},{selector:void 0,host:n,containerParams:this.DescriptiveIncident.props.containerParams||{},originalDims:this.DescriptiveIncident.constructor.originalDims||{}});this.ownClip=new this.DescriptiveIncident.constructor.Incident(e.attrs,i),this.ownClip.DescriptiveIncident=this.DescriptiveIncident,this.DescriptiveIncident.realClip.addContext({clipId:this.id,context:this.ownClip.context,unblock:function(){return t.unblock()}},!0)}},{key:"onProgress",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!1!==this.DescriptiveIncident.realClip.context.contextLoaded){for(var i in this.DescriptiveIncident.realClip.instantiatedChannels){var r=this.DescriptiveIncident.realClip.instantiatedChannels[i];r.moveTo(this.runTimeInfo.currentMillisecond,e,this.id,n)}this.runTimeInfo.currentMillisecond=e,this.ownClip.onAfterProgress(t,e)}else this.setBlock()}}]),n}(St);function Tt(t){var e=new t.Incident(t.attrs,d(d({},t.props),{},{id:t.id||et()}),{context:t.context,mcid:t.mcid});return e.mc_plugin_npm_name=t.plugin_npm_name,e.plugin_channel_class=t.Channel,e.DescriptiveIncident=t.DescriptiveIncident,e}var Mt={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return t*(2-t)},easeInOutQuad:function(t){return t<.5?2*t*t:(4-2*t)*t-1},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return 1- --t*t*t*t},easeInOutQuart:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return 1+--t*t*t*t*t},easeInOutQuint:function(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t},easeInSine:function(t){return-1*Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0==t?1:1*Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1==t?1:1*(1-Math.pow(2,-10*t))},easeInOutExpo:function(t){return 0==t||1==t?t:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-(t/=1)*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t=t/1-1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){if(0==t||1==t)return t;var e=.3/(2*Math.PI)*Math.asin(1);return-Math.pow(2,10*(t-=1))*Math.sin((1*t-e)*(2*Math.PI)/.3)},easeOutElastic:function(t){if(0==t||1==t)return t;var e=.3/(2*Math.PI)*Math.asin(1);return Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.3)+1},easeInOutElastic:function(t){if(0==t||1==t)return t;var e=.3*1.5,n=e/(2*Math.PI)*Math.asin(1);return t<1?Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)*-.5:Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)*.5+1},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=-1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-Mt.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t*1:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*Mt.easeInBounce(2*t):.5*(Mt.easeOutBounce(2*t-1)+1)}},_t=T(null,(function(t,e){return{F:function(e){h(i,e);var n=v(i);function i(e,r,o,s){var l;return a(this,i),l=n.call(this,d(d({},e.props),{},{id:"".concat(e.incidentId,"_").concat(o)})),t(m(l)),l.contexts={},l.constructionIngredients=e,l.mcid=o,l.DescriptiveIncident=s,l.mc_plugin_npm_name=e.plugin_npm_name,l.plugin_channel_class=e.Channel,l.addContext(r),l.timeScale=1,s.realClip.duration>0&&(l.timeScale=l.props.duration/s.realClip.duration),s.realClip.subscribeToDurationChange((function(t){l.props.duration=l.timeScale*t,l.putMessageOnPipe("recalcDuration",{},"Groups",{selfExecute:!1,direction:at})})),l.easing=Mt.linear,Object.prototype.hasOwnProperty.call(l.props,"easing")&&(Array.isArray(l.props.easing)?l.easing=Pt(l.props.easing[0],l.props.easing[1],l.props.easing[2],l.props.easing[3]):l.easing=Mt[l.props.easing]),l}return i}(e),d:[{kind:"get",key:"originalContext",value:function(){return this.contexts[this.originalContextKey]}},{kind:"method",key:"onProgress",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.delay+this.props.duration+this.hiatus,o=e%r;0!==e&&0===o&&(o=this.delay+this.props.duration);var s=o-this.delay;s<0?s=0:s>this.props.duration&&(s=this.props.duration);var a=0===this.props.duration?0:s/this.props.duration,l=this.easing(a),c=l*this.props.duration*(1/this.timeScale);!1!==this.originalContext.context.contextLoaded&&this.contexts[n].onProgress(l,c,i)}},{kind:"method",key:"addContext",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];0===Object.keys(this.contexts).length&&(this.originalContextKey=t.clipId);var n=d(d({},this.constructionIngredients),{},{context:t.context,mcid:this.mcid,Incident:At,DescriptiveIncident:this.DescriptiveIncident});this.contexts[t.clipId]=Tt(n),e&&this.contexts[t.clipId]._onGetContextOnce()}},{kind:"method",key:"handleAddContext",value:function(t,e){return this.addContext(e,!0),!0}},{kind:"method",key:"handleContextLoaded",value:function(t,e){this._onGetContextOnce()}},{kind:"method",decorators:[It],key:"getIncidentsByChannel",value:function(){}},{kind:"method",key:"gotContext",value:function(){for(var t in this.contexts)this.contexts[t].gotContext()}},{kind:"method",key:"_onGetContextOnce",value:function(){if(!1!==this.originalContext.contextLoaded)for(var t in this.contexts)this.contexts[t]._onGetContextOnce()}},{kind:"method",key:"lastWish",value:function(){for(var t in this.contexts)this.contexts[t].lastWish()}},{kind:"method",key:"onGetContext",value:function(){if(!1!==this.originalContext.contextLoaded)for(var t in this.contexts)this.contexts[t].onGetContext()}}]}}),ut),jt=T(null,(function(t,e){var n=function(e){h(i,e);var n=v(i);function i(e,r,o,s){var l;if(a(this,i),l=n.call(this,d(d({},e.props),{},{id:null!==s?"".concat(e.incidentId,"_").concat(o,"_").concat(s):"".concat(e.incidentId,"_").concat(o)})),t(m(l)),l.contexts={},l.constructionIngredients=e,l.mcid=o,l.attribute=s,l.mc_plugin_npm_name=e.plugin_npm_name,l.plugin_channel_class=e.Channel,l.DescriptiveIncident=e.DescriptiveIncident,l.addContext(r),null!==s){var c=l.constructionIngredients.attrs.animatedAttrs[l.attribute];Array.isArray(c)?l.originalAnimatedAttributeValue=C(c):q(c)?l.originalAnimatedAttributeValue=d({},c):l.originalAnimatedAttributeValue=c}return l.easing=Mt.linear,Object.prototype.hasOwnProperty.call(l.props,"easing")&&(Array.isArray(l.props.easing)?l.easing=Pt(l.props.easing[0],l.props.easing[1],l.props.easing[2],l.props.easing[3]):l.easing=Mt[l.props.easing]),l}return i}(e);return{F:n,d:[{kind:"get",key:"originalContext",value:function(){return this.contexts[this.originalContextKey]}},{kind:"get",key:"duration",value:function(){return b(f(n.prototype),"duration",this)}},{kind:"set",key:"duration",value:function(t){for(var e in w(f(n.prototype),"duration",t,this,!0),this.contexts)this.contexts[e].duration=t}},{kind:"method",key:"addContext",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;0===Object.keys(this.contexts).length&&(this.originalContextKey=t.clipId,this.originalClipContext=t.context,n=!0);var i=d(d({},this.constructionIngredients),{},{context:t.context,mcid:this.mcid}),r=Tt(i);this.contexts[t.clipId]=r,n||null==this.attribute||this.contexts[t.clipId].setInitialValue(this.initialValue),e&&this.contexts[t.clipId].context.contextLoaded&&this.contexts[t.clipId]._onGetContextOnce()}},{kind:"method",key:"handleAddContext",value:function(t,e){return this.addContext(e,!0),!0}},{kind:"method",key:"handleContextLoaded",value:function(t,e){return this._onGetContextOnce(),!0}},{kind:"method",decorators:[It],key:"getIncidentsByChannel",value:function(){}},{kind:"method",key:"onProgress",value:function(t,e,n){var i=e%(this.delay+this.props.duration+this.hiatus);0!==e&&0===i&&(i=this.delay+this.props.duration);var r=i-this.delay;r<0?r=0:r>this.props.duration&&(r=this.props.duration);var o=r/this.props.duration,s=this.easing(o),a=s*this.props.duration;if(null!=n)!1!==this.originalContext.context.contextLoaded&&this.contexts[n].onProgress(s,a);else for(var l in this.contexts)this.originalContextKey===l&&!0===this.originalContext.fragment||this.contexts[l].onProgress(s,a)}},{kind:"get",key:"animatedAttributeValue",value:function(){return this.constructionIngredients.attrs.animatedAttrs[this.attribute]}},{kind:"set",key:"animatedAttributeValue",value:function(t){this.constructionIngredients.attrs.animatedAttrs[this.attribute]=t}},{kind:"method",key:"gotContext",value:function(){for(var t in this.contexts)this.contexts[t].gotContext()}},{kind:"method",key:"_onGetContextOnce",value:function(){if(!1!==this.originalContext.context.contextLoaded)for(var t in this.contexts)this.contexts[t]._onGetContextOnce()}},{kind:"method",key:"lastWish",value:function(){for(var t in this.contexts)this.contexts[t].lastWish()}},{kind:"method",key:"onGetContext",value:function(){if(!1!==this.originalContext.contextLoaded)for(var t in this.contexts)this.contexts[t].context.contextLoaded&&this.contexts[t].onGetContext()}},{kind:"get",key:"initialValue",value:function(){return this.originalContext.initialValue}},{kind:"get",key:"scratchValue",value:function(){return this.originalContext.scratchValue}},{kind:"get",key:"pureInitialValues",value:function(){return this.originalContext.pureInitialValues}},{kind:"method",key:"setInitialValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];for(var n in null===t&&(t=this.getScratchValue()),this.contexts)this.contexts[n].setInitialValue(JSON.parse(JSON.stringify(t)),e)}},{kind:"method",key:"getScratchValue",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.originalContext.context.contextLoaded)return 0;if(null!=t)return this.contexts[t].getScratchValue();var e=Object.keys(this.contexts);if(Object.prototype.hasOwnProperty.call(this.originalClipContext,"nonFragmentedContext")){var n=d(d({},this.constructionIngredients),{},{context:this.originalClipContext.nonFragmentedContext,mcid:this.mcid}),i=Tt(n);return i.getScratchValue()}return 1===e.length?this.originalContext.getScratchValue():this.contexts[e[1]].getScratchValue()}},{kind:"method",key:"setCompoAttrKeyValue",value:function(t,e){for(var n in this.contexts)this.contexts[n].attrs.animatedAttrs[this.attribute][t]=e,this.contexts[n].lastWish(),this.contexts[n].onGetContext()}},{kind:"method",key:"play",value:function(t,e,n){return this.contexts[n].play(e)}},{kind:"method",key:"stop",value:function(t){this.contexts[t].stop()}}]}}),ut),Dt=function(t){h(n,t);var e=v(n);function n(t,i,r,o,s){var l;return a(this,n),(l=e.call(this,{},{id:"".concat(t.id,"_").concat(r)})).mcid=r,l.selector=o,l.data=s,l.setUp(t,i),l}return c(n,[{key:"setUp",value:function(t,e){for(var n in this.data.attrs.animatedAttrs){var i={};i[n]=this.data.attrs.animatedAttrs[n];var r=d(d({},this.data.attrs),{},{animatedAttrs:i}),o=d(d({},this.data.props),{},{selector:this.selector}),s={incidentId:t.id,attrs:r,props:o,Incident:t.constructor.Incident,plugin_npm_name:t.constructor.plugin_npm_name,Channel:t.constructor.Channel,DescriptiveIncident:t},a=new jt(s,e,this.mcid,n);this.addChild(a,0)}}}]),n}(vt),Bt=function(t){h(n,t);var e=v(n);function n(t,i){var r;return a(this,n),(r=e.call(this,{},{id:t.id})).contexts={},r.contexts[i.clipId]=i.context,r.originalContextKey=i.clipId,r.initParams=i.context.initParams,r.instantiatedCopiesContexts=i.instantiatedCopiesContexts,r.descriptiveIncident=t,r.staggerAttrs=[],r.staggerProps=[],r.setUp(t,i),r}return c(n,[{key:"originalContext",get:function(){return this.contexts[this.originalContextKey]}},{key:"parsePropsDynamicValues",value:function(t,e){for(var n=0;n<t.propsStaggers.length;n++)this.staggerProps.push({path:t.propsStaggers[n].path,values:t.propsStaggers[n].stagger.calculateValues(e,this.initParams)})}},{key:"parseAttrsDynamicValues",value:function(t,e){for(var n=0;n<t.attributesStaggers.length;n++)this.staggerAttrs.push({path:t.attributesStaggers[n].path,values:t.attributesStaggers[n].stagger.calculateValues(e,this.initParams)})}},{key:"setUp",value:function(t,e){var n,i,r=this.originalContext.getElements(t.selector());this.parsePropsDynamicValues(t,r),this.parseAttrsDynamicValues(t,r);for(var o=0;o<r.length;o++){for(var s in n=r[o],i=this._getElementMCID(n),this.instantiatedCopiesContexts)this._setElementMCID(this.instantiatedCopiesContexts[s],this.instantiatedCopiesContexts[s].getElements(t.selector())[o],i);this._createElementIncident(n,t,e,o,r.length,i)}}},{key:"handleRecalcDuration",value:function(t,e){var i=b(f(n.prototype),"handleRecalcDuration",this).call(this,t,e);return this.descriptiveIncident.propsStaggers.length>0&&(this.descriptiveIncident.dynamicDurationValue=1*this.duration),i}},{key:"lastWish",value:function(){this.descriptiveIncident.propsStaggers.length>0&&(this.descriptiveIncident.dynamicDurationValue=null,this.descriptiveIncident.putMessageOnPipe("setDurationDynamic",{},"Groups",{selfExecute:!1,direction:at})),b(f(n.prototype),"lastWish",this).call(this)}},{key:"_getElementMCID",value:function(t){var e=this.originalContext.getMCID(t);return e||(e=et(!0),this.originalContext.setMCID(t,e)),e}},{key:"_setElementMCID",value:function(t,e,n){t.getMCID(e)||t.setMCID(e,n)}},{key:"_prepareAttrsPropsForElement",value:function(t,e){var n=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push({path:t[i].path,value:t[i].values[e]});return n}(this.staggerAttrs,e),i=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push({path:t[i].path,value:t[i].values[e]});return n}(this.staggerProps,e),r=t.attrs,o=t.props;if(n.length>0){r=JSON.parse(JSON.stringify(t.attrs));for(var s=0;s<n.length;s++)it(r,n[s].path,n[s].value)}if(i.length>0){o=JSON.parse(JSON.stringify(t.props));for(var a=0;a<i.length;a++)it(o,i[a].path,i[a].value)}return{attrs:r,props:o}}},{key:"_createElementIncident",value:function(t,e,n,i,r,o){var s=this._prepareAttrsPropsForElement(e,i);if(Object.prototype.hasOwnProperty.call(e.attrs,"animatedAttrs")){var a=new Dt(e,n,o,n.context.getElementSelectorByMCID(o),s);this.addChild(a,0)}else{var l=s.attrs,c=s.props,u={incidentId:e.id,attrs:l,props:c,Incident:e.constructor.Incident,plugin_npm_name:e.constructor.plugin_npm_name,Channel:e.constructor.Channel,DescriptiveIncident:e},p=new jt(u,n,o,null);this.addChild(p,0)}}}]),n}(vt),Vt=function(t){h(n,t);var e=v(n);function n(t,i){var r;return a(this,n),(r=e.call(this,t,i)).realClip=t.realClip,r}return c(n,[{key:"_createElementIncident",value:function(t,e,n,i,r,o){var s=e.realClip.exportConstructionArguments(),a=this._prepareAttrsPropsForElement(e,i),l=d(d(d(d({},e.props),{},{duration:e.realClip.duration},s.props),a.props),{},{selector:n.context.getElementSelectorByMCID(o),runTimeInfo:e.runTimeInfo}),c={incidentId:e.id,attrs:s.attrs,props:l,Incident:e.constructor.Incident,plugin_npm_name:e.constructor.plugin_npm_name,Channel:yt,DescriptiveIncident:e},u=new _t(c,n,o,e);this.addChild(u,0)}}]),n}(Bt),Lt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:z,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:window;Object.prototype.hasOwnProperty.call(r,i)||(r[i]={});for(var o=r[i],s=t.split("."),a=0;a<s.length-1;a++)Object.prototype.hasOwnProperty.call(o,s[a])||(o[s[a]]={}),o=o[s[a]];return!(Object.prototype.hasOwnProperty.call(o,s[s.length-1])&&!1===n||(o[s[s.length-1]]=e,0))};function Rt(t){var e={},n=[],i=Array.isArray(t),r=i?t.length:0,o=null;return new Proxy(t,{keywords:["setValue","_getFromProxy","__createPathProxies","hasOwnProperty","pushValue","removePathKey","removeKey","restoreKey","getKeys","exportFlattened","isArray","push","sortBy","findIndex"],get:function(s,a){return"length"===a&&i?r:this.keywords.indexOf(a)>=0?this[a]:n.indexOf(a)>=0?void 0:(i&&null!==o&&(a=o[a]),Object.prototype.hasOwnProperty.call(e,a)?e[a]:t[a])},isArray:function(){return i},_getFromProxy:function(t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},set:function(){return!1},sortBy:function(t){if(o=null,!i)return!1;o=function(t,e){for(var n=[],i=0;i<t.length;i++)n.push([t[i],i]);n.sort((function(t,n){return t[0][e]<n[0][e]?-1:1}));var r=[];for(var o in n)r.push(n[o][1]);return r}(this,t)},__createPathProxies:function(n){for(var r=e,s=t,a=0;a<n.length-1;a++){var l=i&&null!==o?o[n[a]]:n[a];if(0===a?void 0===r[l]:void 0===r._getFromProxy(l)){var c=Rt(void 0!==s&&s[l]||{});0===a?r[l]=c:r.setValue(l,c)}r=r[l],s=void 0!==s?s[l]:{}}return{currentObject:r,currentRealObect:s}},findIndex:function(t){if(!i)return null;for(var e=0;e<r;e++)if(t(this[e]))return e;return null},setValue:function(t,e){var i=t.split("."),r=this.__createPathProxies(i).currentObject,o=e;if("object"===s(e)&&(o=Rt(e)),1===i.length){r[i[i.length-1]]=o;var a=n.indexOf(i[i.length-1]);a>-1&&n.splice(a,1)}else r.setValue(i[i.length-1],o),r.restoreKey(i[i.length-1]);return!0},pushValue:function(e,n){var i=e.split("."),r=this.__createPathProxies(i),o=r.currentObject;if(void 0===r.currentRealObect)return!1;var s=i[i.length-1],a=o[s],l=t[s];if(""===e&&(a=this,l=t),1!==i.length)return o.pushValue(s,n);var c=!1;if(void 0!==a){if(c=!0,!a.isArray())return!1}else if(!Array.isArray(l))return!1;if(!c){var u=Rt(l);o[s]=u,a=o[s]}return a.push(n),!0},push:function(t){return!!this.isArray()&&("object"===s(t)?e[r]=Rt(t):e[r]=t,r+=1,!0)},removePathKey:function(t){var e=t.split(".");return this.__createPathProxies(e).currentObject.removeKey(e[e.length-1]),!0},removeKey:function(t){n.push(t)},restoreKey:function(t){var e=n.indexOf(t);e>-1&&n.splice(e,1)},hasOwnProperty:function(t){return!(n.indexOf(t)>-1)&&void 0!==this[t]},getKeys:function(){if(i)return[];for(var r=[],o=Object.keys(t),s=Object.keys(e),a=[].concat(C(o),C(s)),l=a.filter((function(t,e){return a.indexOf(t)===e})),c=0;c<l.length;c++)n.indexOf(l[c])<0&&r.push(l[c]);return r},exportFlattened:function(){var n;if(i)if(n=[],null!==o)for(var r=0;r<o.length;r++){var a=o[r];if(Object.prototype.hasOwnProperty.call(e,a)){var l=e[a];if("object"===s(l))try{n[r]=e[a].exportFlattened()}catch(t){n[r]=l}else n[r]=l}else n[r]=t[a]}else{n=C(t);for(var c=0,u=Object.entries(e);c<u.length;c++){var p=k(u[c],2),d=p[0],h=p[1];if("object"===s(h))try{n[d]=e[d].exportFlattened()}catch(t){n[d]=h}else n[d]=h}}else{n={};for(var f=this.getKeys(),m=0;m<f.length;m++){var g=f[m];void 0!==e[g]?"object"===s(e[g])?n[g]=e[g].exportFlattened():n[g]=e[g]:n[g]=t[g]}}return n}})}var zt="6.4.1",Nt=function t(e,n,i={}){for(let o in n)if("object"==typeof(r=n[o])&&!Array.isArray(r)&&null!=r&&Object.keys(r).length>0)e[o]=e[o]||{},t(e[o],n[o],i);else{if(!0===i.skipIfExist&&void 0!==e[o])continue;e[o]=n[o]}var r;return e},Ft={required:"The '{field}' field is required.",string:"The '{field}' field must be a string.",stringEmpty:"The '{field}' field must not be empty.",stringMin:"The '{field}' field length must be greater than or equal to {expected} characters long.",stringMax:"The '{field}' field length must be less than or equal to {expected} characters long.",stringLength:"The '{field}' field length must be {expected} characters long.",stringPattern:"The '{field}' field fails to match the required pattern.",stringContains:"The '{field}' field must contain the '{expected}' text.",stringEnum:"The '{field}' field does not match any of the allowed values.",stringNumeric:"The '{field}' field must be a numeric string.",stringAlpha:"The '{field}' field must be an alphabetic string.",stringAlphanum:"The '{field}' field must be an alphanumeric string.",stringAlphadash:"The '{field}' field must be an alphadash string.",stringHex:"The '{field}' field must be a hex string.",stringSingleLine:"The '{field}' field must be a single line string.",stringBase64:"The '{field}' field must be a base64 string.",number:"The '{field}' field must be a number.",numberMin:"The '{field}' field must be greater than or equal to {expected}.",numberMax:"The '{field}' field must be less than or equal to {expected}.",numberEqual:"The '{field}' field must be equal to {expected}.",numberNotEqual:"The '{field}' field can't be equal to {expected}.",numberInteger:"The '{field}' field must be an integer.",numberPositive:"The '{field}' field must be a positive number.",numberNegative:"The '{field}' field must be a negative number.",array:"The '{field}' field must be an array.",arrayEmpty:"The '{field}' field must not be an empty array.",arrayMin:"The '{field}' field must contain at least {expected} items.",arrayMax:"The '{field}' field must contain less than or equal to {expected} items.",arrayLength:"The '{field}' field must contain {expected} items.",arrayContains:"The '{field}' field must contain the '{expected}' item.",arrayUnique:"The '{actual}' value in '{field}' field does not unique the '{expected}' values.",arrayEnum:"The '{actual}' value in '{field}' field does not match any of the '{expected}' values.",tuple:"The '{field}' field must be an array.",tupleEmpty:"The '{field}' field must not be an empty array.",tupleLength:"The '{field}' field must contain {expected} items.",boolean:"The '{field}' field must be a boolean.",currency:"The '{field}' must be a valid currency format",date:"The '{field}' field must be a Date.",dateMin:"The '{field}' field must be greater than or equal to {expected}.",dateMax:"The '{field}' field must be less than or equal to {expected}.",enumValue:"The '{field}' field value '{expected}' does not match any of the allowed values.",equalValue:"The '{field}' field value must be equal to '{expected}'.",equalField:"The '{field}' field value must be equal to '{expected}' field value.",forbidden:"The '{field}' field is forbidden.",function:"The '{field}' field must be a function.",email:"The '{field}' field must be a valid e-mail.",emailEmpty:"The '{field}' field must not be empty.",emailMin:"The '{field}' field length must be greater than or equal to {expected} characters long.",emailMax:"The '{field}' field length must be less than or equal to {expected} characters long.",luhn:"The '{field}' field must be a valid checksum luhn.",mac:"The '{field}' field must be a valid MAC address.",object:"The '{field}' must be an Object.",objectStrict:"The object '{field}' contains forbidden keys: '{actual}'.",objectMinProps:"The object '{field}' must contain at least {expected} properties.",objectMaxProps:"The object '{field}' must contain {expected} properties at most.",url:"The '{field}' field must be a valid URL.",urlEmpty:"The '{field}' field must not be empty.",uuid:"The '{field}' field must be a valid UUID.",uuidVersion:"The '{field}' field must be a valid UUID version provided.",classInstanceOf:"The '{field}' field must be an instance of the '{expected}' class.",objectID:"The '{field}' field must be an valid ObjectID"},$t=function(){const t=[];return t.push("\n\t\treturn value;\n\t"),{source:t.join("\n")}},Ht=function({schema:t,messages:e},n,i){const r=[];if(r.push(`\n\t\tif (!Array.isArray(value)) {\n\t\t\t${this.makeError({type:"array",actual:"value",messages:e})}\n\t\t\treturn value;\n\t\t}\n\n\t\tvar len = value.length;\n\t`),!1===t.empty&&r.push(`\n\t\t\tif (len === 0) {\n\t\t\t\t${this.makeError({type:"arrayEmpty",actual:"value",messages:e})}\n\t\t\t}\n\t\t`),null!=t.min&&r.push(`\n\t\t\tif (len < ${t.min}) {\n\t\t\t\t${this.makeError({type:"arrayMin",expected:t.min,actual:"len",messages:e})}\n\t\t\t}\n\t\t`),null!=t.max&&r.push(`\n\t\t\tif (len > ${t.max}) {\n\t\t\t\t${this.makeError({type:"arrayMax",expected:t.max,actual:"len",messages:e})}\n\t\t\t}\n\t\t`),null!=t.length&&r.push(`\n\t\t\tif (len !== ${t.length}) {\n\t\t\t\t${this.makeError({type:"arrayLength",expected:t.length,actual:"len",messages:e})}\n\t\t\t}\n\t\t`),null!=t.contains&&r.push(`\n\t\t\tif (value.indexOf(${JSON.stringify(t.contains)}) === -1) {\n\t\t\t\t${this.makeError({type:"arrayContains",expected:JSON.stringify(t.contains),actual:"value",messages:e})}\n\t\t\t}\n\t\t`),!0===t.unique&&r.push(`\n\t\t\tif(len > (new Set(value)).size) {\n\t\t\t\t${this.makeError({type:"arrayUnique",expected:"Array.from(new Set(value.filter((item, index) => value.indexOf(item) !== index)))",actual:"value",messages:e})}\n\t\t\t}\n\t\t`),null!=t.enum){const n=JSON.stringify(t.enum);r.push(`\n\t\t\tfor (var i = 0; i < value.length; i++) {\n\t\t\t\tif (${n}.indexOf(value[i]) === -1) {\n\t\t\t\t\t${this.makeError({type:"arrayEnum",expected:'"'+t.enum.join(", ")+'"',actual:"value[i]",messages:e})}\n\t\t\t\t}\n\t\t\t}\n\t\t`)}if(null!=t.items){r.push("\n\t\t\tvar arr = value;\n\t\t\tvar parentField = field;\n\t\t\tfor (var i = 0; i < arr.length; i++) {\n\t\t");const e=n+"[]",o=this.getRuleFromSchema(t.items),s='arr[i] = context.fn[%%INDEX%%](arr[i], (parentField ? parentField : "") + "[" + i + "]", parent, errors, context)';r.push(this.compileRule(o,i,e,s,"arr[i]")),r.push("\n\t\t\t}\n\t\t")}return r.push("\n\t\treturn value;\n\t"),{source:r.join("\n")}},Ut=function({schema:t,messages:e},n,i){const r=[];let o=!1;return r.push("\n\t\tvar origValue = value;\n\t"),!0===t.convert&&(o=!0,r.push('\n\t\t\tif (typeof value !== "boolean") {\n\t\t\t\tif (\n\t\t\t\tvalue === 1\n\t\t\t\t|| value === "true"\n\t\t\t\t|| value === "1"\n\t\t\t\t|| value === "on"\n\t\t\t\t) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t} else if (\n\t\t\t\tvalue === 0\n\t\t\t\t|| value === "false"\n\t\t\t\t|| value === "0"\n\t\t\t\t|| value === "off"\n\t\t\t\t) {\n\t\t\t\t\tvalue = false;\n\t\t\t\t}\n\t\t\t}\n\t\t')),r.push(`\n\t\tif (typeof value !== "boolean") {\n\t\t\t${this.makeError({type:"boolean",actual:"origValue",messages:e})}\n\t\t}\n\t\t\n\t\treturn value;\n\t`),{sanitized:o,source:r.join("\n")}},qt=function({schema:t,messages:e,index:n},i,r){const o=[],s=t.instanceOf.name?t.instanceOf.name:"<UnknowClass>";return r.customs[n]?r.customs[n].schema=t:r.customs[n]={schema:t},o.push(`\n\t\tif (!(value instanceof context.customs[${n}].schema.instanceOf))\n\t\t\t${this.makeError({type:"classInstanceOf",actual:"value",expected:"'"+s+"'",messages:e})}\n\t`),o.push("\n\t\treturn value;\n\t"),{source:o.join("\n")}},Wt=function({schema:t,messages:e,index:n},i,r){const o=[];return o.push(`\n\t\t${this.makeCustomValidator({fnName:"check",path:i,schema:t,messages:e,context:r,ruleIndex:n})}\n\t\treturn value;\n\t`),{source:o.join("\n")}},Gt=function({schema:t,messages:e},n,i){const r=t.currencySymbol||null,o=t.thousandSeparator||",",s=t.decimalSeparator||".",a=t.customRegex;let l=!t.symbolOptional,c="(?=.*\\d)^(-?~1|~1-?)(([0-9]\\d{0,2}(~2\\d{3})*)|0)?(\\~3\\d{1,2})?$".replace(/~1/g,r?`\\${r}${l?"":"?"}`:"").replace("~2",o).replace("~3",s);const u=[];return u.push(`\n\t\tif (!value.match(${a||new RegExp(c)})) {\n\t\t\t${this.makeError({type:"currency",actual:"value",messages:e})}\n\t\t\treturn value;\n\t\t}\n\n\t\treturn value;\n\t`),{source:u.join("\n")}},Jt=function({schema:t,messages:e},n,i){const r=[];let o=!1;return r.push("\n\t\tvar origValue = value;\n\t"),!0===t.convert&&(o=!0,r.push("\n\t\t\tif (!(value instanceof Date)) {\n\t\t\t\tvalue = new Date(value);\n\t\t\t}\n\t\t")),r.push(`\n\t\tif (!(value instanceof Date) || isNaN(value.getTime()))\n\t\t\t${this.makeError({type:"date",actual:"origValue",messages:e})}\n\n\t\treturn value;\n\t`),{sanitized:o,source:r.join("\n")}};const Kt=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Qt=/^\S+@\S+\.\S+$/;var Xt=function({schema:t,messages:e},n,i){const r=[],o="precise"==t.mode?Kt:Qt;let s=!1;return r.push(`\n\t\tif (typeof value !== "string") {\n\t\t\t${this.makeError({type:"string",actual:"value",messages:e})}\n\t\t\treturn value;\n\t\t}\n\t`),t.empty?r.push("\n\t\t\tif (value.length === 0) return value;\n\t\t"):r.push(`\n\t\t\tif (value.length === 0) {\n\t\t\t\t${this.makeError({type:"emailEmpty",actual:"value",messages:e})}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t`),t.normalize&&(s=!0,r.push("\n\t\t\tvalue = value.trim().toLowerCase();\n\t\t")),null!=t.min&&r.push(`\n\t\t\tif (value.length < ${t.min}) {\n\t\t\t\t${this.makeError({type:"emailMin",expected:t.min,actual:"value.length",messages:e})}\n\t\t\t}\n\t\t`),null!=t.max&&r.push(`\n\t\t\tif (value.length > ${t.max}) {\n\t\t\t\t${this.makeError({type:"emailMax",expected:t.max,actual:"value.length",messages:e})}\n\t\t\t}\n\t\t`),r.push(`\n\t\tif (!${o.toString()}.test(value)) {\n\t\t\t${this.makeError({type:"email",actual:"value",messages:e})}\n\t\t}\n\n\t\treturn value;\n\t`),{sanitized:s,source:r.join("\n")}},Yt=function({schema:t,messages:e},n,i){return{source:`\n\t\t\tif (${JSON.stringify(t.values||[])}.indexOf(value) === -1)\n\t\t\t\t${this.makeError({type:"enumValue",expected:'"'+t.values.join(", ")+'"',actual:"value",messages:e})}\n\t\t\t\n\t\t\treturn value;\n\t\t`}},Zt=function({schema:t,messages:e},n,i){const r=[];return t.field?(t.strict?r.push(`\n\t\t\t\tif (value !== parent["${t.field}"])\n\t\t\t`):r.push(`\n\t\t\t\tif (value != parent["${t.field}"])\n\t\t\t`),r.push(`\n\t\t\t\t${this.makeError({type:"equalField",actual:"value",expected:JSON.stringify(t.field),messages:e})}\n\t\t`)):(t.strict?r.push(`\n\t\t\t\tif (value !== ${JSON.stringify(t.value)})\n\t\t\t`):r.push(`\n\t\t\t\tif (value != ${JSON.stringify(t.value)})\n\t\t\t`),r.push(`\n\t\t\t\t${this.makeError({type:"equalValue",actual:"value",expected:JSON.stringify(t.value),messages:e})}\n\t\t`)),r.push("\n\t\treturn value;\n\t"),{source:r.join("\n")}},te=function({schema:t,messages:e},n,i){const r=[];return r.push("\n\t\tif (value !== null && value !== undefined) {\n\t"),t.remove?r.push("\n\t\t\treturn undefined;\n\t\t"):r.push(`\n\t\t\t${this.makeError({type:"forbidden",actual:"value",messages:e})}\n\t\t`),r.push("\n\t\t}\n\n\t\treturn value;\n\t"),{source:r.join("\n")}},ee=function({schema:t,messages:e},n,i){return{source:`\n\t\t\tif (typeof value !== "function")\n\t\t\t\t${this.makeError({type:"function",actual:"value",messages:e})}\n\n\t\t\treturn value;\n\t\t`}},ne=function({schema:t,messages:e},n,i){const r=[];r.push("\n\t\tvar prevErrLen = errors.length;\n\t\tvar errBefore;\n\t\tvar hasValid = false;\n\t\tvar newVal = value;\n\t");for(let e=0;e<t.rules.length;e++){r.push("\n\t\t\tif (!hasValid) {\n\t\t\t\terrBefore = errors.length;\n\t\t");const o=this.getRuleFromSchema(t.rules[e]);r.push(this.compileRule(o,i,n,"var tmpVal = context.fn[%%INDEX%%](value, field, parent, errors, context);","tmpVal")),r.push("\n\t\t\t\tif (errors.length == errBefore) {\n\t\t\t\t\thasValid = true;\n\t\t\t\t\tnewVal = tmpVal;\n\t\t\t\t}\n\t\t\t}\n\t\t")}return r.push("\n\t\tif (hasValid) {\n\t\t\terrors.length = prevErrLen;\n\t\t}\n\t\t\n\t\treturn newVal;\n\t"),{source:r.join("\n")}},ie=function({schema:t,messages:e},n,i){const r=[];r.push("\n\t\tvar origValue = value;\n\t");let o=!1;return!0===t.convert&&(o=!0,r.push('\n\t\t\tif (typeof value !== "number") {\n\t\t\t\tvalue = Number(value);\n\t\t\t}\n\t\t')),r.push(`\n\t\tif (typeof value !== "number" || isNaN(value) || !isFinite(value)) {\n\t\t\t${this.makeError({type:"number",actual:"origValue",messages:e})}\n\t\t\treturn value;\n\t\t}\n\t`),null!=t.min&&r.push(`\n\t\t\tif (value < ${t.min}) {\n\t\t\t\t${this.makeError({type:"numberMin",expected:t.min,actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),null!=t.max&&r.push(`\n\t\t\tif (value > ${t.max}) {\n\t\t\t\t${this.makeError({type:"numberMax",expected:t.max,actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),null!=t.equal&&r.push(`\n\t\t\tif (value !== ${t.equal}) {\n\t\t\t\t${this.makeError({type:"numberEqual",expected:t.equal,actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),null!=t.notEqual&&r.push(`\n\t\t\tif (value === ${t.notEqual}) {\n\t\t\t\t${this.makeError({type:"numberNotEqual",expected:t.notEqual,actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),!0===t.integer&&r.push(`\n\t\t\tif (value % 1 !== 0) {\n\t\t\t\t${this.makeError({type:"numberInteger",actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),!0===t.positive&&r.push(`\n\t\t\tif (value <= 0) {\n\t\t\t\t${this.makeError({type:"numberPositive",actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),!0===t.negative&&r.push(`\n\t\t\tif (value >= 0) {\n\t\t\t\t${this.makeError({type:"numberNegative",actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),r.push("\n\t\treturn value;\n\t"),{sanitized:o,source:r.join("\n")}};const re=/^[_$a-zA-Z][_$a-zA-Z0-9]*$/,oe=/["'\\\n\r\u2028\u2029]/g;function se(t){return t.replace(oe,(function(t){switch(t){case'"':case"'":case"\\":return"\\"+t;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}}))}var ae=function({schema:t,messages:e},n,i){const r=[];r.push(`\n\t\tif (typeof value !== "object" || value === null || Array.isArray(value)) {\n\t\t\t${this.makeError({type:"object",actual:"value",messages:e})}\n\t\t\treturn value;\n\t\t}\n\t`);const o=t.properties||t.props;if(o){r.push("var parentObj = value;"),r.push("var parentField = field;");const s=Object.keys(o);for(let t=0;t<s.length;t++){const e=s[t],a=se(e),l=re.test(a)?"."+a:`['${a}']`,c="parentObj"+l,u=(n?n+".":"")+e;r.push("\n// Field: "+se(u)),r.push(`field = parentField ? parentField + "${l}" : "${a}";`),r.push(`value = ${c};`);const p=this.getRuleFromSchema(o[e]),d=`\n\t\t\t\t${c} = context.fn[%%INDEX%%](value, field, parentObj, errors, context);\n\t\t\t`;r.push(this.compileRule(p,i,u,d,c))}if(t.strict){const n=Object.keys(o);r.push(`\n\t\t\t\tfield = parentField;\n\t\t\t\tvar invalidProps = [];\n\t\t\t\tvar props = Object.keys(parentObj);\n\n\t\t\t\tfor (let i = 0; i < props.length; i++) {\n\t\t\t\t\tif (${JSON.stringify(n)}.indexOf(props[i]) === -1) {\n\t\t\t\t\t\tinvalidProps.push(props[i]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (invalidProps.length) {\n\t\t\t`),"remove"==t.strict?r.push("\n\t\t\t\t\tinvalidProps.forEach(function(field) {\n\t\t\t\t\t\tdelete parentObj[field];\n\t\t\t\t\t});\n\t\t\t\t"):r.push(`\n\t\t\t\t\t${this.makeError({type:"objectStrict",expected:'"'+n.join(", ")+'"',actual:"invalidProps.join(', ')",messages:e})}\n\t\t\t\t`),r.push("\n\t\t\t\t}\n\t\t\t")}}return null==t.minProps&&null==t.maxProps||(t.strict?r.push(`\n\t\t\t\tprops = Object.keys(${o?"parentObj":"value"});\n\t\t\t`):r.push(`\n\t\t\t\tvar props = Object.keys(${o?"parentObj":"value"});\n\t\t\t\t${o?"field = parentField;":""}\n\t\t\t`)),null!=t.minProps&&r.push(`\n\t\t\tif (props.length < ${t.minProps}) {\n\t\t\t\t${this.makeError({type:"objectMinProps",expected:t.minProps,actual:"props.length",messages:e})}\n\t\t\t}\n\t\t`),null!=t.maxProps&&r.push(`\n\t\t\tif (props.length > ${t.maxProps}) {\n\t\t\t\t${this.makeError({type:"objectMaxProps",expected:t.maxProps,actual:"props.length",messages:e})}\n\t\t\t}\n\t\t`),o?r.push("\n\t\t\treturn parentObj;\n\t\t"):r.push("\n\t\t\treturn value;\n\t\t"),{source:r.join("\n")}},le=function({schema:t,messages:e,index:n},i,r){const o=[];return r.customs[n]?r.customs[n].schema=t:r.customs[n]={schema:t},o.push(`\n\t\tconst ObjectID = context.customs[${n}].schema.ObjectID;\n\t\tif (!ObjectID.isValid(value)) {\n\t\t\t${this.makeError({type:"objectID",actual:"value",messages:e})}\n\t\t\treturn;\n\t\t}\n\t`),!0===t.convert?o.push("return new ObjectID(value)"):"hexString"===t.convert?o.push("return value.toString()"):o.push("return value"),{source:o.join("\n")}};const ce=/^-?[0-9]\d*(\.\d+)?$/,ue=/^[a-zA-Z]+$/,pe=/^[a-zA-Z0-9]+$/,de=/^[a-zA-Z0-9_-]+$/,he=/^[0-9a-fA-F]+$/,fe=/^(?:[A-Za-z0-9+\\/]{4})*(?:[A-Za-z0-9+\\/]{2}==|[A-Za-z0-9+/]{3}=)?$/;var me=function({schema:t,messages:e},n,i){const r=[];let o=!1;if(!0===t.convert&&(o=!0,r.push('\n\t\t\tif (typeof value !== "string") {\n\t\t\t\tvalue = String(value);\n\t\t\t}\n\t\t')),r.push(`\n\t\tif (typeof value !== "string") {\n\t\t\t${this.makeError({type:"string",actual:"value",messages:e})}\n\t\t\treturn value;\n\t\t}\n\n\t\tvar origValue = value;\n\t`),t.trim&&(o=!0,r.push("\n\t\t\tvalue = value.trim();\n\t\t")),t.trimLeft&&(o=!0,r.push("\n\t\t\tvalue = value.trimLeft();\n\t\t")),t.trimRight&&(o=!0,r.push("\n\t\t\tvalue = value.trimRight();\n\t\t")),t.padStart){o=!0;const e=null!=t.padChar?t.padChar:" ";r.push(`\n\t\t\tvalue = value.padStart(${t.padStart}, ${JSON.stringify(e)});\n\t\t`)}if(t.padEnd){o=!0;const e=null!=t.padChar?t.padChar:" ";r.push(`\n\t\t\tvalue = value.padEnd(${t.padEnd}, ${JSON.stringify(e)});\n\t\t`)}if(t.lowercase&&(o=!0,r.push("\n\t\t\tvalue = value.toLowerCase();\n\t\t")),t.uppercase&&(o=!0,r.push("\n\t\t\tvalue = value.toUpperCase();\n\t\t")),t.localeLowercase&&(o=!0,r.push("\n\t\t\tvalue = value.toLocaleLowerCase();\n\t\t")),t.localeUppercase&&(o=!0,r.push("\n\t\t\tvalue = value.toLocaleUpperCase();\n\t\t")),r.push("\n\t\t\tvar len = value.length;\n\t"),!1===t.empty&&r.push(`\n\t\t\tif (len === 0) {\n\t\t\t\t${this.makeError({type:"stringEmpty",actual:"value",messages:e})}\n\t\t\t}\n\t\t`),null!=t.min&&r.push(`\n\t\t\tif (len < ${t.min}) {\n\t\t\t\t${this.makeError({type:"stringMin",expected:t.min,actual:"len",messages:e})}\n\t\t\t}\n\t\t`),null!=t.max&&r.push(`\n\t\t\tif (len > ${t.max}) {\n\t\t\t\t${this.makeError({type:"stringMax",expected:t.max,actual:"len",messages:e})}\n\t\t\t}\n\t\t`),null!=t.length&&r.push(`\n\t\t\tif (len !== ${t.length}) {\n\t\t\t\t${this.makeError({type:"stringLength",expected:t.length,actual:"len",messages:e})}\n\t\t\t}\n\t\t`),null!=t.pattern){let n=t.pattern;"string"==typeof t.pattern&&(n=new RegExp(t.pattern,t.patternFlags));const i=`\n\t\t\tif (!${n.toString()}.test(value))\n\t\t\t\t${this.makeError({type:"stringPattern",expected:`"${n.toString().replace(/"/g,"\\$&")}"`,actual:"origValue",messages:e})}\n\t\t`;r.push(`\n\t\t\tif (${t.empty} === true && len === 0) {\n\t\t\t\t// Do nothing\n\t\t\t} else {\n\t\t\t\t${i}\n\t\t\t}\n\t\t`)}if(null!=t.contains&&r.push(`\n\t\t\tif (value.indexOf("${t.contains}") === -1) {\n\t\t\t\t${this.makeError({type:"stringContains",expected:'"'+t.contains+'"',actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),null!=t.enum){const n=JSON.stringify(t.enum);r.push(`\n\t\t\tif (${n}.indexOf(value) === -1) {\n\t\t\t\t${this.makeError({type:"stringEnum",expected:'"'+t.enum.join(", ")+'"',actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`)}return!0===t.numeric&&r.push(`\n\t\t\tif (!${ce.toString()}.test(value) ) {\n\t\t\t\t${this.makeError({type:"stringNumeric",actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),!0===t.alpha&&r.push(`\n\t\t\tif(!${ue.toString()}.test(value)) {\n\t\t\t\t${this.makeError({type:"stringAlpha",actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),!0===t.alphanum&&r.push(`\n\t\t\tif(!${pe.toString()}.test(value)) {\n\t\t\t\t${this.makeError({type:"stringAlphanum",actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),!0===t.alphadash&&r.push(`\n\t\t\tif(!${de.toString()}.test(value)) {\n\t\t\t\t${this.makeError({type:"stringAlphadash",actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),!0===t.hex&&r.push(`\n\t\t\tif(value.length % 2 !== 0 || !${he.toString()}.test(value)) {\n\t\t\t\t${this.makeError({type:"stringHex",actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),!0===t.singleLine&&r.push(`\n\t\t\tif(value.includes("\\n")) {\n\t\t\t\t${this.makeError({type:"stringSingleLine",messages:e})}\n\t\t\t}\n\t\t`),!0===t.base64&&r.push(`\n\t\t\tif(!${fe.toString()}.test(value)) {\n\t\t\t\t${this.makeError({type:"stringBase64",actual:"origValue",messages:e})}\n\t\t\t}\n\t\t`),r.push("\n\t\treturn value;\n\t"),{sanitized:o,source:r.join("\n")}},ge=function({schema:t,messages:e},n,i){const r=[];if(null!=t.items){if(!Array.isArray(t.items))throw new Error(`Invalid '${t.type}' schema. The 'items' field must be an array.`);if(0===t.items.length)throw new Error(`Invalid '${t.type}' schema. The 'items' field must not be an empty array.`)}if(r.push(`\n\t\tif (!Array.isArray(value)) {\n\t\t\t${this.makeError({type:"tuple",actual:"value",messages:e})}\n\t\t\treturn value;\n\t\t}\n\n\t\tvar len = value.length;\n\t`),!1===t.empty&&r.push(`\n\t\t\tif (len === 0) {\n\t\t\t\t${this.makeError({type:"tupleEmpty",actual:"value",messages:e})}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t`),null!=t.items){r.push(`\n\t\t\tif (${t.empty} !== false && len === 0) {\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif (len !== ${t.items.length}) {\n\t\t\t\t${this.makeError({type:"tupleLength",expected:t.items.length,actual:"len",messages:e})}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t`),r.push("\n\t\t\tvar arr = value;\n\t\t\tvar parentField = field;\n\t\t");for(let e=0;e<t.items.length;e++){const o=`${n}[${e}]`,s=this.getRuleFromSchema(t.items[e]),a=`\n\t\t\tarr[${e}] = context.fn[%%INDEX%%](arr[${e}], (parentField ? parentField : "") + "[" + ${e} + "]", parent, errors, context);\n\t\t`;r.push(this.compileRule(s,i,o,a,`arr[${e}]`))}}return r.push("\n\t\treturn value;\n\t"),{source:r.join("\n")}};const ve=/^https?:\/\/\S+/;var ye=function({schema:t,messages:e},n,i){const r=[];return r.push(`\n\t\tif (typeof value !== "string") {\n\t\t\t${this.makeError({type:"string",actual:"value",messages:e})}\n\t\t\treturn value;\n\t\t}\n\t`),t.empty?r.push("\n\t\t\tif (value.length === 0) return value;\n\t\t"):r.push(`\n\t\t\tif (value.length === 0) {\n\t\t\t\t${this.makeError({type:"urlEmpty",actual:"value",messages:e})}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t`),r.push(`\n\t\tif (!${ve.toString()}.test(value)) {\n\t\t\t${this.makeError({type:"url",actual:"value",messages:e})}\n\t\t}\n\n\t\treturn value;\n\t`),{source:r.join("\n")}};const be=/^([0-9a-f]{8}-[0-9a-f]{4}-[1-6][0-9a-f]{3}-[0-9a-f]{4}-[0-9a-f]{12}|[0]{8}-[0]{4}-[0]{4}-[0]{4}-[0]{12})$/i;var xe=function({schema:t,messages:e},n){const i=[];return i.push(`\n\t\tif (typeof value !== "string") {\n\t\t\t${this.makeError({type:"string",actual:"value",messages:e})}\n\t\t\treturn value;\n\t\t}\n\n\t\tvar val = value.toLowerCase();\n\t\tif (!${be.toString()}.test(val)) {\n\t\t\t${this.makeError({type:"uuid",actual:"value",messages:e})}\n\t\t\treturn value;\n\t\t}\n\n\t\tconst version = val.charAt(14) | 0;\n\t`),parseInt(t.version)<7&&i.push(`\n\t\t\tif (${t.version} !== version) {\n\t\t\t\t${this.makeError({type:"uuidVersion",expected:t.version,actual:"version",messages:e})}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t`),i.push(`\n\t\tswitch (version) {\n\t\tcase 0:\n\t\tcase 1:\n\t\tcase 2:\n\t\tcase 6:\n\t\t\tbreak;\n\t\tcase 3:\n\t\tcase 4:\n\t\tcase 5:\n\t\t\tif (["8", "9", "a", "b"].indexOf(val.charAt(19)) === -1) {\n\t\t\t\t${this.makeError({type:"uuid",actual:"value",messages:e})}\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t`),{source:i.join("\n")}};const we=/^((([a-f0-9][a-f0-9]+[-]){5}|([a-f0-9][a-f0-9]+[:]){5})([a-f0-9][a-f0-9])$)|(^([a-f0-9][a-f0-9][a-f0-9][a-f0-9]+[.]){2}([a-f0-9][a-f0-9][a-f0-9][a-f0-9]))$/i;var ke=function({schema:t,messages:e},n,i){return{source:`\n\t\t\tif (typeof value !== "string") {\n\t\t\t\t${this.makeError({type:"string",actual:"value",messages:e})}\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tvar v = value.toLowerCase();\n\t\t\tif (!${we.toString()}.test(v)) {\n\t\t\t\t${this.makeError({type:"mac",actual:"value",messages:e})}\n\t\t\t}\n\t\t\t\n\t\t\treturn value;\n\t\t`}},Ce=function({schema:t,messages:e},n,i){return{source:`\n\t\t\tif (typeof value !== "string") {\n\t\t\t\t${this.makeError({type:"string",actual:"value",messages:e})}\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tif (typeof value !== "string")\n\t\t\t\tvalue = String(value);\n\n\t\t\tval = value.replace(/\\D+/g, "");\n\n\t\t\tvar array = [0, 2, 4, 6, 8, 1, 3, 5, 7, 9];\n\t\t\tvar len = val ? val.length : 0,\n\t\t\t\tbit = 1,\n\t\t\t\tsum = 0;\n\t\t\twhile (len--) {\n\t\t\t\tsum += !(bit ^= 1) ? parseInt(val[len], 10) : array[val[len]];\n\t\t\t}\n\n\t\t\tif (!(sum % 10 === 0 && sum > 0)) {\n\t\t\t\t${this.makeError({type:"luhn",actual:"value",messages:e})}\n\t\t\t}\n\n\t\t\treturn value;\n\t\t`}};function Oe(t){var e={exports:{}};return t(e,e.exports),e.exports}function Ee(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}let Pe,Ie,Se,Ae;var Te=function(t){Pe||(Pe=Ee("prettier"),Ie={parser:"babel",useTabs:!1,printWidth:120,trailingComma:"none",tabWidth:4,singleQuote:!1,semi:!0,bracketSpacing:!0},Se=Ee("cli-highlight"),Ae={language:"js",theme:Se.fromJson({keyword:["white","bold"],built_in:"magenta",literal:"cyan",number:"magenta",regexp:"red",string:["yellow","bold"],symbol:"plain",class:"blue",attr:"plain",function:["white","bold"],title:"plain",params:"green",comment:"grey"})});const e=Pe.format(t,Ie);return Se.highlight(e,Ae)},Me="INUMBER",_e="IOP1",je="IOP2",De="IOP3",Be="IVAR",Ve="IVARNAME",Le="IFUNCALL",Re="IFUNDEF",ze="IEXPR",Ne="IEXPREVAL",Fe="IMEMBER",$e="IENDSTATEMENT",He="IARRAY";function Ue(t,e){this.type=t,this.value=null!=e?e:0}function qe(t){return new Ue(_e,t)}function We(t){return new Ue(je,t)}function Ge(t){return new Ue(De,t)}function Je(t,e,n){var i,r,o,s,a,l,c=[];if(Qe(t))return Xe(t,n);for(var u=t.length,p=0;p<u;p++){var d=t[p],h=d.type;if(h===Me||h===Ve)c.push(d.value);else if(h===je)r=c.pop(),i=c.pop(),"and"===d.value?c.push(!!i&&!!Je(r,e,n)):"or"===d.value?c.push(!!i||!!Je(r,e,n)):"="===d.value?(s=e.binaryOps[d.value],c.push(s(i,Je(r,e,n),n))):(s=e.binaryOps[d.value],c.push(s(Xe(i,n),Xe(r,n))));else if(h===De)o=c.pop(),r=c.pop(),i=c.pop(),"?"===d.value?c.push(Je(i?r:o,e,n)):(s=e.ternaryOps[d.value],c.push(s(Xe(i,n),Xe(r,n),Xe(o,n))));else if(h===Be)if(d.value in e.functions)c.push(e.functions[d.value]);else if(d.value in e.unaryOps&&e.parser.isOperatorEnabled(d.value))c.push(e.unaryOps[d.value]);else{var f=n[d.value];if(void 0===f)throw new Error("undefined variable: "+d.value);c.push(f)}else if(h===_e)i=c.pop(),s=e.unaryOps[d.value],c.push(s(Xe(i,n)));else if(h===Le){for(l=d.value,a=[];l-- >0;)a.unshift(Xe(c.pop(),n));if(!(s=c.pop()).apply||!s.call)throw new Error(s+" is not a function");c.push(s.apply(void 0,a))}else if(h===Re)c.push(function(){for(var t=c.pop(),i=[],r=d.value;r-- >0;)i.unshift(c.pop());var o=c.pop(),s=function(){for(var r=Object.assign({},n),o=0,s=i.length;o<s;o++)r[i[o]]=arguments[o];return Je(t,e,r)};return Object.defineProperty(s,"name",{value:o,writable:!1}),n[o]=s,s}());else if(h===ze)c.push(Ke(d,e));else if(h===Ne)c.push(d);else if(h===Fe)i=c.pop(),c.push(i[d.value]);else if(h===$e)c.pop();else{if(h!==He)throw new Error("invalid Expression");for(l=d.value,a=[];l-- >0;)a.unshift(c.pop());c.push(a)}}if(c.length>1)throw new Error("invalid Expression (parity)");return 0===c[0]?0:Xe(c[0],n)}function Ke(t,e,n){return Qe(t)?t:{type:Ne,value:function(n){return Je(t.value,e,n)}}}function Qe(t){return t&&t.type===Ne}function Xe(t,e){return Qe(t)?t.value(e):t}function Ye(t,e){for(var n,i,r,o,s,a,l=[],c=0;c<t.length;c++){var u=t[c],p=u.type;if(p===Me)"number"==typeof u.value&&u.value<0?l.push("("+u.value+")"):Array.isArray(u.value)?l.push("["+u.value.map(Ze).join(", ")+"]"):l.push(Ze(u.value));else if(p===je)i=l.pop(),n=l.pop(),o=u.value,e?"^"===o?l.push("Math.pow("+n+", "+i+")"):"and"===o?l.push("(!!"+n+" && !!"+i+")"):"or"===o?l.push("(!!"+n+" || !!"+i+")"):"||"===o?l.push("(function(a,b){ return Array.isArray(a) && Array.isArray(b) ? a.concat(b) : String(a) + String(b); }(("+n+"),("+i+")))"):"=="===o?l.push("("+n+" === "+i+")"):"!="===o?l.push("("+n+" !== "+i+")"):"["===o?l.push(n+"[("+i+") | 0]"):l.push("("+n+" "+o+" "+i+")"):"["===o?l.push(n+"["+i+"]"):l.push("("+n+" "+o+" "+i+")");else if(p===De){if(r=l.pop(),i=l.pop(),n=l.pop(),"?"!==(o=u.value))throw new Error("invalid Expression");l.push("("+n+" ? "+i+" : "+r+")")}else if(p===Be||p===Ve)l.push(u.value);else if(p===_e)n=l.pop(),"-"===(o=u.value)||"+"===o?l.push("("+o+n+")"):e?"not"===o?l.push("(!"+n+")"):"!"===o?l.push("fac("+n+")"):l.push(o+"("+n+")"):"!"===o?l.push("("+n+"!)"):l.push("("+o+" "+n+")");else if(p===Le){for(a=u.value,s=[];a-- >0;)s.unshift(l.pop());o=l.pop(),l.push(o+"("+s.join(", ")+")")}else if(p===Re){for(i=l.pop(),a=u.value,s=[];a-- >0;)s.unshift(l.pop());n=l.pop(),e?l.push("("+n+" = function("+s.join(", ")+") { return "+i+" })"):l.push("("+n+"("+s.join(", ")+") = "+i+")")}else if(p===Fe)n=l.pop(),l.push(n+"."+u.value);else if(p===He){for(a=u.value,s=[];a-- >0;)s.unshift(l.pop());l.push("["+s.join(", ")+"]")}else if(p===ze)l.push("("+Ye(u.value,e)+")");else if(p!==$e)throw new Error("invalid Expression")}return l.length>1&&(l=e?[l.join(",")]:[l.join(";")]),String(l[0])}function Ze(t){return"string"==typeof t?JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029"):t}function tn(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return!0;return!1}function en(t,e,n){for(var i=!!(n=n||{}).withMembers,r=null,o=0;o<t.length;o++){var s=t[o];s.type===Be||s.type===Ve?i||tn(e,s.value)?null!==r?(tn(e,r)||e.push(r),r=s.value):r=s.value:e.push(s.value):s.type===Fe&&i&&null!==r?r+="."+s.value:s.type===ze?en(s.value,e,n):null!==r&&(tn(e,r)||e.push(r),r=null)}null===r||tn(e,r)||e.push(r)}function nn(t,e){this.tokens=t,this.parser=e,this.unaryOps=e.unaryOps,this.binaryOps=e.binaryOps,this.ternaryOps=e.ternaryOps,this.functions=e.functions}Ue.prototype.toString=function(){switch(this.type){case Me:case _e:case je:case De:case Be:case Ve:case $e:return this.value;case Le:return"CALL "+this.value;case Re:return"DEF "+this.value;case He:return"ARRAY "+this.value;case Fe:return"."+this.value;default:return"Invalid Instruction"}},nn.prototype.simplify=function(t){return t=t||{},new nn(function t(e,n,i,r,o){for(var s,a,l,c,u=[],p=[],d=0;d<e.length;d++){var h=e[d],f=h.type;if(f===Me||f===Ve)Array.isArray(h.value)?u.push.apply(u,t(h.value.map((function(t){return new Ue(Me,t)})).concat(new Ue(He,h.value.length)),n,i,r,o)):u.push(h);else if(f===Be&&o.hasOwnProperty(h.value))h=new Ue(Me,o[h.value]),u.push(h);else if(f===je&&u.length>1)a=u.pop(),s=u.pop(),c=i[h.value],h=new Ue(Me,c(s.value,a.value)),u.push(h);else if(f===De&&u.length>2)l=u.pop(),a=u.pop(),s=u.pop(),"?"===h.value?u.push(s.value?a.value:l.value):(c=r[h.value],h=new Ue(Me,c(s.value,a.value,l.value)),u.push(h));else if(f===_e&&u.length>0)s=u.pop(),c=n[h.value],h=new Ue(Me,c(s.value)),u.push(h);else if(f===ze){for(;u.length>0;)p.push(u.shift());p.push(new Ue(ze,t(h.value,n,i,r,o)))}else if(f===Fe&&u.length>0)s=u.pop(),u.push(new Ue(Me,s.value[h.value]));else{for(;u.length>0;)p.push(u.shift());p.push(h)}}for(;u.length>0;)p.push(u.shift());return p}(this.tokens,this.unaryOps,this.binaryOps,this.ternaryOps,t),this.parser)},nn.prototype.substitute=function(t,e){return e instanceof nn||(e=this.parser.parse(String(e))),new nn(function t(e,n,i){for(var r=[],o=0;o<e.length;o++){var s=e[o],a=s.type;if(a===Be&&s.value===n)for(var l=0;l<i.tokens.length;l++){var c,u=i.tokens[l];c=u.type===_e?qe(u.value):u.type===je?We(u.value):u.type===De?Ge(u.value):new Ue(u.type,u.value),r.push(c)}else a===ze?r.push(new Ue(ze,t(s.value,n,i))):r.push(s)}return r}(this.tokens,t,e),this.parser)},nn.prototype.evaluate=function(t){return t=t||{},Je(this.tokens,this,t)},nn.prototype.toString=function(){return Ye(this.tokens,!1)},nn.prototype.symbols=function(t){t=t||{};var e=[];return en(this.tokens,e,t),e},nn.prototype.variables=function(t){t=t||{};var e=[];en(this.tokens,e,t);var n=this.functions;return e.filter((function(t){return!(t in n)}))},nn.prototype.toJSFunction=function(t,e){var n=this,i=new Function(t,"with(this.functions) with (this.ternaryOps) with (this.binaryOps) with (this.unaryOps) { return "+Ye(this.simplify(e).tokens,!0)+"; }");return function(){return i.apply(n,arguments)}};var rn="TEOF",on="TOP",sn="TNUMBER",an="TSTRING",ln="TPAREN",cn="TBRACKET",un="TCOMMA",pn="TNAME",dn="TSEMICOLON";function hn(t,e,n){this.type=t,this.value=e,this.index=n}function fn(t,e){this.pos=0,this.current=null,this.unaryOps=t.unaryOps,this.binaryOps=t.binaryOps,this.ternaryOps=t.ternaryOps,this.consts=t.consts,this.expression=e,this.savedPosition=0,this.savedCurrent=null,this.options=t.options,this.parser=t}hn.prototype.toString=function(){return this.type+": "+this.value},fn.prototype.newToken=function(t,e,n){return new hn(t,e,null!=n?n:this.pos)},fn.prototype.save=function(){this.savedPosition=this.pos,this.savedCurrent=this.current},fn.prototype.restore=function(){this.pos=this.savedPosition,this.current=this.savedCurrent},fn.prototype.next=function(){return this.pos>=this.expression.length?this.newToken(rn,"EOF"):this.isWhitespace()||this.isComment()?this.next():this.isRadixInteger()||this.isNumber()||this.isOperator()||this.isString()||this.isParen()||this.isBracket()||this.isComma()||this.isSemicolon()||this.isNamedOp()||this.isConst()||this.isName()?this.current:void this.parseError('Unknown character "'+this.expression.charAt(this.pos)+'"')},fn.prototype.isString=function(){var t=!1,e=this.pos,n=this.expression.charAt(e);if("'"===n||'"'===n)for(var i=this.expression.indexOf(n,e+1);i>=0&&this.pos<this.expression.length;){if(this.pos=i+1,"\\"!==this.expression.charAt(i-1)){var r=this.expression.substring(e+1,i);this.current=this.newToken(an,this.unescape(r),e),t=!0;break}i=this.expression.indexOf(n,i+1)}return t},fn.prototype.isParen=function(){var t=this.expression.charAt(this.pos);return("("===t||")"===t)&&(this.current=this.newToken(ln,t),this.pos++,!0)},fn.prototype.isBracket=function(){var t=this.expression.charAt(this.pos);return!("["!==t&&"]"!==t||!this.isOperatorEnabled("[")||(this.current=this.newToken(cn,t),this.pos++,0))},fn.prototype.isComma=function(){return","===this.expression.charAt(this.pos)&&(this.current=this.newToken(un,","),this.pos++,!0)},fn.prototype.isSemicolon=function(){return";"===this.expression.charAt(this.pos)&&(this.current=this.newToken(dn,";"),this.pos++,!0)},fn.prototype.isConst=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&"."!==n&&(n<"0"||n>"9")))break}if(e>t){var i=this.expression.substring(t,e);if(i in this.consts)return this.current=this.newToken(sn,this.consts[i]),this.pos+=i.length,!0}return!1},fn.prototype.isNamedOp=function(){for(var t=this.pos,e=t;e<this.expression.length;e++){var n=this.expression.charAt(e);if(n.toUpperCase()===n.toLowerCase()&&(e===this.pos||"_"!==n&&(n<"0"||n>"9")))break}if(e>t){var i=this.expression.substring(t,e);if(this.isOperatorEnabled(i)&&(i in this.binaryOps||i in this.unaryOps||i in this.ternaryOps))return this.current=this.newToken(on,i),this.pos+=i.length,!0}return!1},fn.prototype.isName=function(){for(var t=this.pos,e=t,n=!1;e<this.expression.length;e++){var i=this.expression.charAt(e);if(i.toUpperCase()===i.toLowerCase()){if(e===this.pos&&("$"===i||"_"===i)){"_"===i&&(n=!0);continue}if(e===this.pos||!n||"_"!==i&&(i<"0"||i>"9"))break}else n=!0}if(n){var r=this.expression.substring(t,e);return this.current=this.newToken(pn,r),this.pos+=r.length,!0}return!1},fn.prototype.isWhitespace=function(){for(var t=!1,e=this.expression.charAt(this.pos);!(" "!==e&&"\t"!==e&&"\n"!==e&&"\r"!==e||(t=!0,this.pos++,this.pos>=this.expression.length));)e=this.expression.charAt(this.pos);return t};var mn=/^[0-9a-f]{4}$/i;function gn(t,e,n){this.parser=t,this.tokens=e,this.current=null,this.nextToken=null,this.next(),this.savedCurrent=null,this.savedNextToken=null,this.allowMemberAccess=!1!==n.allowMemberAccess}fn.prototype.unescape=function(t){var e=t.indexOf("\\");if(e<0)return t;for(var n=t.substring(0,e);e>=0;){var i=t.charAt(++e);switch(i){case"'":n+="'";break;case'"':n+='"';break;case"\\":n+="\\";break;case"/":n+="/";break;case"b":n+="\b";break;case"f":n+="\f";break;case"n":n+="\n";break;case"r":n+="\r";break;case"t":n+="\t";break;case"u":var r=t.substring(e+1,e+5);mn.test(r)||this.parseError("Illegal escape sequence: \\u"+r),n+=String.fromCharCode(parseInt(r,16)),e+=4;break;default:throw this.parseError('Illegal escape sequence: "\\'+i+'"')}++e;var o=t.indexOf("\\",e);n+=t.substring(e,o<0?t.length:o),e=o}return n},fn.prototype.isComment=function(){return"/"===this.expression.charAt(this.pos)&&"*"===this.expression.charAt(this.pos+1)&&(this.pos=this.expression.indexOf("*/",this.pos)+2,1===this.pos&&(this.pos=this.expression.length),!0)},fn.prototype.isRadixInteger=function(){var t,e,n=this.pos;if(n>=this.expression.length-2||"0"!==this.expression.charAt(n))return!1;if(++n,"x"===this.expression.charAt(n))t=16,e=/^[0-9a-f]$/i,++n;else{if("b"!==this.expression.charAt(n))return!1;t=2,e=/^[01]$/i,++n}for(var i=!1,r=n;n<this.expression.length;){var o=this.expression.charAt(n);if(!e.test(o))break;n++,i=!0}return i&&(this.current=this.newToken(sn,parseInt(this.expression.substring(r,n),t)),this.pos=n),i},fn.prototype.isNumber=function(){for(var t,e=!1,n=this.pos,i=n,r=n,o=!1,s=!1;n<this.expression.length&&((t=this.expression.charAt(n))>="0"&&t<="9"||!o&&"."===t);)"."===t?o=!0:s=!0,n++,e=s;if(e&&(r=n),"e"===t||"E"===t){n++;for(var a=!0,l=!1;n<this.expression.length;){if(t=this.expression.charAt(n),!a||"+"!==t&&"-"!==t){if(!(t>="0"&&t<="9"))break;l=!0,a=!1}else a=!1;n++}l||(n=r)}return e?(this.current=this.newToken(sn,parseFloat(this.expression.substring(i,n))),this.pos=n):this.pos=r,e},fn.prototype.isOperator=function(){var t=this.pos,e=this.expression.charAt(this.pos);if("+"===e||"-"===e||"*"===e||"/"===e||"%"===e||"^"===e||"?"===e||":"===e||"."===e)this.current=this.newToken(on,e);else if(""===e||""===e)this.current=this.newToken(on,"*");else if(">"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(on,">="),this.pos++):this.current=this.newToken(on,">");else if("<"===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(on,"<="),this.pos++):this.current=this.newToken(on,"<");else if("|"===e){if("|"!==this.expression.charAt(this.pos+1))return!1;this.current=this.newToken(on,"||"),this.pos++}else if("="===e)"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(on,"=="),this.pos++):this.current=this.newToken(on,e);else{if("!"!==e)return!1;"="===this.expression.charAt(this.pos+1)?(this.current=this.newToken(on,"!="),this.pos++):this.current=this.newToken(on,e)}return this.pos++,!!this.isOperatorEnabled(this.current.value)||(this.pos=t,!1)},fn.prototype.isOperatorEnabled=function(t){return this.parser.isOperatorEnabled(t)},fn.prototype.getCoordinates=function(){var t,e=0,n=-1;do{e++,t=this.pos-n,n=this.expression.indexOf("\n",n+1)}while(n>=0&&n<this.pos);return{line:e,column:t}},fn.prototype.parseError=function(t){var e=this.getCoordinates();throw new Error("parse error ["+e.line+":"+e.column+"]: "+t)},gn.prototype.next=function(){return this.current=this.nextToken,this.nextToken=this.tokens.next()},gn.prototype.tokenMatches=function(t,e){return void 0===e||(Array.isArray(e)?tn(e,t.value):"function"==typeof e?e(t):t.value===e)},gn.prototype.save=function(){this.savedCurrent=this.current,this.savedNextToken=this.nextToken,this.tokens.save()},gn.prototype.restore=function(){this.tokens.restore(),this.current=this.savedCurrent,this.nextToken=this.savedNextToken},gn.prototype.accept=function(t,e){return!(this.nextToken.type!==t||!this.tokenMatches(this.nextToken,e)||(this.next(),0))},gn.prototype.expect=function(t,e){if(!this.accept(t,e)){var n=this.tokens.getCoordinates();throw new Error("parse error ["+n.line+":"+n.column+"]: Expected "+(e||t))}},gn.prototype.parseAtom=function(t){var e=this.tokens.unaryOps;if(this.accept(pn)||this.accept(on,(function(t){return t.value in e})))t.push(new Ue(Be,this.current.value));else if(this.accept(sn))t.push(new Ue(Me,this.current.value));else if(this.accept(an))t.push(new Ue(Me,this.current.value));else if(this.accept(ln,"("))this.parseExpression(t),this.expect(ln,")");else{if(!this.accept(cn,"["))throw new Error("unexpected "+this.nextToken);if(this.accept(cn,"]"))t.push(new Ue(He,0));else{var n=this.parseArrayList(t);t.push(new Ue(He,n))}}},gn.prototype.parseExpression=function(t){var e=[];this.parseUntilEndStatement(t,e)||(this.parseVariableAssignmentExpression(e),this.parseUntilEndStatement(t,e)||this.pushExpression(t,e))},gn.prototype.pushExpression=function(t,e){for(var n=0,i=e.length;n<i;n++)t.push(e[n])},gn.prototype.parseUntilEndStatement=function(t,e){return!!this.accept(dn)&&(!this.nextToken||this.nextToken.type===rn||this.nextToken.type===ln&&")"===this.nextToken.value||e.push(new Ue($e)),this.nextToken.type!==rn&&this.parseExpression(e),t.push(new Ue(ze,e)),!0)},gn.prototype.parseArrayList=function(t){for(var e=0;!this.accept(cn,"]");)for(this.parseExpression(t),++e;this.accept(un);)this.parseExpression(t),++e;return e},gn.prototype.parseVariableAssignmentExpression=function(t){for(this.parseConditionalExpression(t);this.accept(on,"=");){var e=t.pop(),n=[],i=t.length-1;if(e.type!==Le){if(e.type!==Be&&e.type!==Fe)throw new Error("expected variable for assignment");this.parseVariableAssignmentExpression(n),t.push(new Ue(Ve,e.value)),t.push(new Ue(ze,n)),t.push(We("="))}else{if(!this.tokens.isOperatorEnabled("()="))throw new Error("function definition is not permitted");for(var r=0,o=e.value+1;r<o;r++){var s=i-r;t[s].type===Be&&(t[s]=new Ue(Ve,t[s].value))}this.parseVariableAssignmentExpression(n),t.push(new Ue(ze,n)),t.push(new Ue(Re,e.value))}}},gn.prototype.parseConditionalExpression=function(t){for(this.parseOrExpression(t);this.accept(on,"?");){var e=[],n=[];this.parseConditionalExpression(e),this.expect(on,":"),this.parseConditionalExpression(n),t.push(new Ue(ze,e)),t.push(new Ue(ze,n)),t.push(Ge("?"))}},gn.prototype.parseOrExpression=function(t){for(this.parseAndExpression(t);this.accept(on,"or");){var e=[];this.parseAndExpression(e),t.push(new Ue(ze,e)),t.push(We("or"))}},gn.prototype.parseAndExpression=function(t){for(this.parseComparison(t);this.accept(on,"and");){var e=[];this.parseComparison(e),t.push(new Ue(ze,e)),t.push(We("and"))}};var vn=["==","!=","<","<=",">=",">","in"];gn.prototype.parseComparison=function(t){for(this.parseAddSub(t);this.accept(on,vn);){var e=this.current;this.parseAddSub(t),t.push(We(e.value))}};var yn=["+","-","||"];gn.prototype.parseAddSub=function(t){for(this.parseTerm(t);this.accept(on,yn);){var e=this.current;this.parseTerm(t),t.push(We(e.value))}};var bn=["*","/","%"];function xn(t,e){return Number(t)+Number(e)}function wn(t,e){return t-e}function kn(t,e){return t*e}function Cn(t,e){return t/e}function On(t,e){return t%e}function En(t,e){return Array.isArray(t)&&Array.isArray(e)?t.concat(e):""+t+e}function Pn(t,e){return t===e}function In(t,e){return t!==e}function Sn(t,e){return t>e}function An(t,e){return t<e}function Tn(t,e){return t>=e}function Mn(t,e){return t<=e}function _n(t,e){return Boolean(t&&e)}function jn(t,e){return Boolean(t||e)}function Dn(t,e){return tn(e,t)}function Bn(t){return(Math.exp(t)-Math.exp(-t))/2}function Vn(t){return(Math.exp(t)+Math.exp(-t))/2}function Ln(t){return t===1/0?1:t===-1/0?-1:(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}function Rn(t){return t===-1/0?t:Math.log(t+Math.sqrt(t*t+1))}function zn(t){return Math.log(t+Math.sqrt(t*t-1))}function Nn(t){return Math.log((1+t)/(1-t))/2}function Fn(t){return Math.log(t)*Math.LOG10E}function $n(t){return-t}function Hn(t){return!t}function Un(t){return t<0?Math.ceil(t):Math.floor(t)}function qn(t){return Math.random()*(t||1)}function Wn(t){return Jn(t+1)}gn.prototype.parseTerm=function(t){for(this.parseFactor(t);this.accept(on,bn);){var e=this.current;this.parseFactor(t),t.push(We(e.value))}},gn.prototype.parseFactor=function(t){var e=this.tokens.unaryOps;if(this.save(),this.accept(on,(function(t){return t.value in e}))){if("-"!==this.current.value&&"+"!==this.current.value){if(this.nextToken.type===ln&&"("===this.nextToken.value)return this.restore(),void this.parseExponential(t);if(this.nextToken.type===dn||this.nextToken.type===un||this.nextToken.type===rn||this.nextToken.type===ln&&")"===this.nextToken.value)return this.restore(),void this.parseAtom(t)}var n=this.current;this.parseFactor(t),t.push(qe(n.value))}else this.parseExponential(t)},gn.prototype.parseExponential=function(t){for(this.parsePostfixExpression(t);this.accept(on,"^");)this.parseFactor(t),t.push(We("^"))},gn.prototype.parsePostfixExpression=function(t){for(this.parseFunctionCall(t);this.accept(on,"!");)t.push(qe("!"))},gn.prototype.parseFunctionCall=function(t){var e=this.tokens.unaryOps;if(this.accept(on,(function(t){return t.value in e}))){var n=this.current;this.parseAtom(t),t.push(qe(n.value))}else for(this.parseMemberExpression(t);this.accept(ln,"(");)if(this.accept(ln,")"))t.push(new Ue(Le,0));else{var i=this.parseArgumentList(t);t.push(new Ue(Le,i))}},gn.prototype.parseArgumentList=function(t){for(var e=0;!this.accept(ln,")");)for(this.parseExpression(t),++e;this.accept(un);)this.parseExpression(t),++e;return e},gn.prototype.parseMemberExpression=function(t){for(this.parseAtom(t);this.accept(on,".")||this.accept(cn,"[");){var e=this.current;if("."===e.value){if(!this.allowMemberAccess)throw new Error('unexpected ".", member access is not permitted');this.expect(pn),t.push(new Ue(Fe,this.current.value))}else{if("["!==e.value)throw new Error("unexpected symbol: "+e.value);if(!this.tokens.isOperatorEnabled("["))throw new Error('unexpected "[]", arrays are disabled');this.parseExpression(t),this.expect(cn,"]"),t.push(We("["))}}};var Gn=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function Jn(t){var e,n;if(function(t){return isFinite(t)&&t===Math.round(t)}(t)){if(t<=0)return isFinite(t)?1/0:NaN;if(t>171)return 1/0;for(var i=t-2,r=t-1;i>1;)r*=i,i--;return 0===r&&(r=1),r}if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Jn(1-t));if(t>=171.35)return 1/0;if(t>85){var o=t*t,s=o*t,a=s*t,l=a*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*o)-139/(51840*s)-571/(2488320*a)+163879/(209018880*l)+5246819/(75246796800*l*t))}--t,n=Gn[0];for(var c=1;c<Gn.length;++c)n+=Gn[c]/(t+c);return e=t+4.7421875+.5,Math.sqrt(2*Math.PI)*Math.pow(e,t+.5)*Math.exp(-e)*n}function Kn(t){return Array.isArray(t)?t.length:String(t).length}function Qn(){for(var t=0,e=0,n=0;n<arguments.length;n++){var i,r=Math.abs(arguments[n]);e<r?(t=t*(i=e/r)*i+1,e=r):t+=r>0?(i=r/e)*i:r}return e===1/0?1/0:e*Math.sqrt(t)}function Xn(t,e,n){return t?e:n}function Yn(t,e){return void 0===e||0==+e?Math.round(t):(t=+t,e=-+e,isNaN(t)||"number"!=typeof e||e%1!=0?NaN:(t=t.toString().split("e"),+((t=(t=Math.round(+(t[0]+"e"+(t[1]?+t[1]-e:-e)))).toString().split("e"))[0]+"e"+(t[1]?+t[1]+e:e))))}function Zn(t,e,n){return n&&(n[t]=e),e}function ti(t,e){return t[0|e]}function ei(t){return 1===arguments.length&&Array.isArray(t)?Math.max.apply(Math,t):Math.max.apply(Math,arguments)}function ni(t){return 1===arguments.length&&Array.isArray(t)?Math.min.apply(Math,t):Math.min.apply(Math,arguments)}function ii(t,e){if("function"!=typeof t)throw new Error("First argument to map is not a function");if(!Array.isArray(e))throw new Error("Second argument to map is not an array");return e.map((function(e,n){return t(e,n)}))}function ri(t,e,n){if("function"!=typeof t)throw new Error("First argument to fold is not a function");if(!Array.isArray(n))throw new Error("Second argument to fold is not an array");return n.reduce((function(e,n,i){return t(e,n,i)}),e)}function oi(t,e){if("function"!=typeof t)throw new Error("First argument to filter is not a function");if(!Array.isArray(e))throw new Error("Second argument to filter is not an array");return e.filter((function(e,n){return t(e,n)}))}function si(t,e){if(!Array.isArray(e)&&"string"!=typeof e)throw new Error("Second argument to indexOf is not a string or array");return e.indexOf(t)}function ai(t,e){if(!Array.isArray(e))throw new Error("Second argument to join is not an array");return e.join(t)}function li(t){return(t>0)-(t<0)||+t}function ci(t){return t<0?-Math.pow(-t,1/3):Math.pow(t,1/3)}function ui(t){return Math.exp(t)-1}function pi(t){return Math.log(1+t)}function di(t){return Math.log(t)/Math.LN2}function hi(t){this.options=t||{},this.unaryOps={sin:Math.sin,cos:Math.cos,tan:Math.tan,asin:Math.asin,acos:Math.acos,atan:Math.atan,sinh:Math.sinh||Bn,cosh:Math.cosh||Vn,tanh:Math.tanh||Ln,asinh:Math.asinh||Rn,acosh:Math.acosh||zn,atanh:Math.atanh||Nn,sqrt:Math.sqrt,cbrt:Math.cbrt||ci,log:Math.log,log2:Math.log2||di,ln:Math.log,lg:Math.log10||Fn,log10:Math.log10||Fn,expm1:Math.expm1||ui,log1p:Math.log1p||pi,abs:Math.abs,ceil:Math.ceil,floor:Math.floor,round:Math.round,trunc:Math.trunc||Un,"-":$n,"+":Number,exp:Math.exp,not:Hn,length:Kn,"!":Wn,sign:Math.sign||li},this.binaryOps={"+":xn,"-":wn,"*":kn,"/":Cn,"%":On,"^":Math.pow,"||":En,"==":Pn,"!=":In,">":Sn,"<":An,">=":Tn,"<=":Mn,and:_n,or:jn,in:Dn,"=":Zn,"[":ti},this.ternaryOps={"?":Xn},this.functions={random:qn,fac:Wn,min:ni,max:ei,hypot:Math.hypot||Qn,pyt:Math.hypot||Qn,pow:Math.pow,atan2:Math.atan2,if:Xn,gamma:Jn,roundTo:Yn,map:ii,fold:ri,filter:oi,indexOf:si,join:ai},this.consts={E:Math.E,PI:Math.PI,true:!0,false:!1}}hi.prototype.parse=function(t){var e=[],n=new gn(this,new fn(this,t),{allowMemberAccess:this.options.allowMemberAccess});return n.parseExpression(e),n.expect(rn,"EOF"),new nn(e,this)},hi.prototype.evaluate=function(t,e){return this.parse(t).evaluate(e)};var fi=new hi;hi.parse=function(t){return fi.parse(t)},hi.evaluate=function(t,e){return fi.parse(t).evaluate(e)};var mi={"+":"add","-":"subtract","*":"multiply","/":"divide","%":"remainder","^":"power","!":"factorial","<":"comparison",">":"comparison","<=":"comparison",">=":"comparison","==":"comparison","!=":"comparison","||":"concatenate",and:"logical",or:"logical",not:"logical","?":"conditional",":":"conditional","=":"assignment","[":"array","()=":"fndef"};hi.prototype.isOperatorEnabled=function(t){var e=function(t){return mi.hasOwnProperty(t)?mi[t]:t}(t),n=this.options.operators||{};return!(e in n)||!!n[e]};var gi=function(t){t=t.replace(/ /g,"");var e=/\(([^\(\)]|\(([^\(\)]|\(([^\(\)]|\(([^\(\)])*\))*\))*\))*\)/.exec(t);if(void 0===e)return{result:!1};var n=t.split(")");return{result:!0,unit:n[n.length-1],expression:e[0]}},vi=function(){function t(e){a(this,t),this.expressionProps=e}return c(t,[{key:"resize",value:function(t){var e=gi(this.expressionProps.expression),n="(".concat(e.expression,"*").concat(t,")");return"".concat(N.mathExpPreface,"(").concat(n,")").concat(this.expressionProps.unit)}},{key:"calculateValues",value:function(t,e){for(var n,i=t.length,r=(new hi).parse(this.expressionProps.expression),o=[],s=(u(n={},N.totalElements,i),u(n,N.initParams,e),n),a=0;a<i;a++){s[N.elementIndex]=a;try{var l=r.evaluate(s);if(null==l){rt.error("".concat(this.expressionProps.expression," is not a valid mathematical expression. Returning 0")),o.push(0);continue}var c="".concat(l).concat(this.expressionProps.unit);"amount"===this.expressionProps.type&&(c=parseFloat(c)),o.push(c)}catch(t){rt.error("".concat(this.expressionProps.expression," is not a valid mathematical expression. Returning 0")),o.push(0)}}return o}}]),t}();function yi(t){return t=t.replace(/ /g,""),/^@stagger\(([_A-z0-9.%-]+?(,[_A-z0-9.%-]+)?(,[_A-z0-9.%-]+)?(,[_A-z0-9.%-]+)?(,[_A-z0-9.%-]+)?(,[_A-z0-9.%-]+))\)$/.test(t)}var bi=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t=t.replace(/ /g,""),e&&!yi(t))return!1;var n=/.*\((.*)\).*/,i=n.exec(t)[1],r=i.split(",");return{start:r[0],end:r[1],startFraction:1*r[2]||0,easing:r[3]||"linear",mode:r[4]||"linear",reverse:"true"===r[5]}},xi=function(){function t(e){a(this,t),this.staggerProps=e}return c(t,[{key:"resize",value:function(t){return this.staggerProps.from*=t,this.staggerProps.to*=t,!0===this.staggerProps.integer&&(this.staggerProps.from=Math.round(this.staggerProps.from),this.staggerProps.to=Math.round(this.staggerProps.to)),"@stagger(".concat(this.staggerProps.from).concat(this.staggerProps.unit,", ").concat(this.staggerProps.to).concat(this.staggerProps.unit,", ").concat(this.staggerProps.fraction||0,", ").concat(this.staggerProps.easing||"linear",", ").concat(this.staggerProps.mode||"linear",", ").concat(this.staggerProps.reverse||!1,")")}},{key:"calculateValues",value:function(t){for(var e,n,i,r,o=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"linear",i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[];if("linear"===n)for(var o=0;o<t;o++){var s=o/(t-1),a=s<e?s+1-e+1/(t-1):s-e;i&&(a=1-a),r.push(a)}else if("omni"===n)for(var l=1-e,c=0;c<t;c++){var u=Math.abs(c/(t-1)-e)/l;i&&(u=1-u),r.push(u)}return r}(t.length,this.staggerProps.fraction,this.staggerProps.mode,this.staggerProps.reverse),s=[],a=0;a<o.length;a++){var l=(e=this.staggerProps.from,n=this.staggerProps.to,i=o[a],(r=this.staggerProps.easing)||(r="linear"),Mt[r](i)*(n-e)+e);!0===this.staggerProps.integer&&(l=Math.round(l)),"measurement"===this.staggerProps.type&&(l+=this.staggerProps.unit),s.push(l)}return s}}]),t}(),wi=yi,ki=new RegExp(/^#([\da-f]{3}){1,2}$|^#([\da-f]{4}){1,2}$|(rgb|hsl)a?\((\s*-?\d+%?\s*,){2}(\s*-?\d+%?\s*,?\s*\)?)(,\s*(0?\.\d+)?|1)?\)/,"gi"),Ci=new RegExp(/^[-+]?\d+$/),Oi=new class{constructor(t){if(this.opts={},this.defaults={},this.messages=Object.assign({},Ft),this.rules={any:$t,array:Ht,boolean:Ut,class:qt,custom:Wt,currency:Gt,date:Jt,email:Xt,enum:Yt,equal:Zt,forbidden:te,function:ee,multi:ne,number:ie,object:ae,objectID:le,string:me,tuple:ge,url:ye,uuid:xe,mac:ke,luhn:Ce},this.aliases={},this.cache=new Map,t){if(Nt(this.opts,t),t.defaults&&Nt(this.defaults,t.defaults),t.messages)for(const e in t.messages)this.addMessage(e,t.messages[e]);if(t.aliases)for(const e in t.aliases)this.alias(e,t.aliases[e]);if(t.customRules)for(const e in t.customRules)this.add(e,t.customRules[e]);if(t.plugins){const e=t.plugins;if(!Array.isArray(e))throw new Error("Plugins type must be array");e.forEach(this.plugin.bind(this))}}}validate(t,e){return this.compile(e)(t)}wrapRequiredCheckSourceCode(t,e,n,i){const r=[];let o,s=!0===t.schema.optional||"forbidden"===t.schema.type,a=!0===t.schema.optional||!0===t.schema.nullable||"forbidden"===t.schema.type;if(null!=t.schema.default){let e;s=!1,!0!==t.schema.nullable&&(a=!1),"function"==typeof t.schema.default?(n.customs[t.index]||(n.customs[t.index]={}),n.customs[t.index].defaultFn=t.schema.default,e=`context.customs[${t.index}].defaultFn()`):e=JSON.stringify(t.schema.default),o=`\n\t\t\t\tvalue = ${e};\n\t\t\t\t${i} = value;\n\t\t\t`}else o=this.makeError({type:"required",actual:"value",messages:t.messages});return r.push(`\n\t\t\tif (value === undefined) { ${s?"\n// allow undefined\n":o} }\n\t\t\telse if (value === null) { ${a?"\n// allow null\n":o} }\n\t\t\t${e?`else { ${e} }`:""}\n\t\t`),r.join("\n")}compile(t){if(null===t||"object"!=typeof t)throw new Error("Invalid schema.");const e=this,n={index:0,rules:[],fn:[],customs:{}};if(this.cache.clear(),!0!==t.$$root)if(Array.isArray(t))t=this.getRuleFromSchema(t).schema;else{const e=Object.assign({},t);t={type:"object",strict:e.$$strict,properties:e},delete e.$$strict}const i=["var errors = [];","var field;","var parent = null;"],r=this.getRuleFromSchema(t);i.push(this.compileRule(r,n,null,"context.fn[%%INDEX%%](value, field, null, errors, context);","value")),i.push("if (errors.length) {"),i.push('\n\t\t\treturn errors.map(err => {\n\t\t\t\tif (err.message)\n\t\t\t\t\terr.message = err.message\n\t\t\t\t\t\t.replace(/\\{field\\}/g, err.field || "")\n\t\t\t\t\t\t.replace(/\\{expected\\}/g, err.expected != null ? err.expected : "")\n\t\t\t\t\t\t.replace(/\\{actual\\}/g, err.actual != null ? err.actual : "");\n\n\t\t\t\treturn err;\n\t\t\t});\n\t\t'),i.push("}"),i.push("return true;");const o=i.join("\n"),s=new Function("value","context",o);if(this.opts.debug){let t=function(t){return t};"undefined"==typeof window&&(t=Te),n.fn.forEach((e,n)=>console.log(t(`// Context.fn[${n}]\n`+e.toString()))),console.log(t("// Main check function\n"+s.toString()))}return this.cache.clear(),function(t){return n.data=t,s.call(e,t,n)}}compileRule(t,e,n,i,r){const o=[],s=this.cache.get(t.schema);if(s)(t=s).cycle=!0,t.cycleStack=[],o.push(this.wrapRequiredCheckSourceCode(t,`\n\t\t\t\tvar rule = context.rules[${t.index}];\n\t\t\t\tif (rule.cycleStack.indexOf(value) === -1) {\n\t\t\t\t\trule.cycleStack.push(value);\n\t\t\t\t\t${i.replace(/%%INDEX%%/g,t.index)}\n\t\t\t\t\trule.cycleStack.pop(value);\n\t\t\t\t}\n\t\t\t`,e,r));else{this.cache.set(t.schema,t),t.index=e.index,e.rules[e.index]=t;const s=null!=n?n:"$$root";e.index++;const a=t.ruleFunction.call(this,t,n,e);a.source=a.source.replace(/%%INDEX%%/g,t.index);const l=new Function("value","field","parent","errors","context",a.source);e.fn[t.index]=l,o.push(this.wrapRequiredCheckSourceCode(t,i.replace(/%%INDEX%%/g,t.index),e,r)),o.push(this.makeCustomValidator({vName:r,path:s,schema:t.schema,context:e,messages:t.messages,ruleIndex:t.index}))}return o.join("\n")}getRuleFromSchema(t){if("string"==typeof t)t=this.parseShortHand(t);else if(Array.isArray(t)){if(0==t.length)throw new Error("Invalid schema.");(t={type:"multi",rules:t}).rules.map(t=>this.getRuleFromSchema(t)).every(t=>1==t.schema.optional)&&(t.optional=!0)}if(t.$$type){const e=t.$$type,n=this.getRuleFromSchema(e).schema;delete t.$$type;const i=Object.assign({},t);for(const e in t)delete t[e];Nt(t,n,{skipIfExist:!0}),t.props=i}const e=this.aliases[t.type];e&&(delete t.type,t=Nt(t,e,{skipIfExist:!0}));const n=this.rules[t.type];if(!n)throw new Error("Invalid '"+t.type+"' type in validator schema.");return{messages:Object.assign({},this.messages,t.messages),schema:Nt(t,this.defaults[t.type],{skipIfExist:!0}),ruleFunction:n}}parseShortHand(t){const e=t.split("|").map(t=>t.trim());let n,i=e[0];return n=i.endsWith("[]")?this.getRuleFromSchema({type:"array",items:i.slice(0,-2)}).schema:{type:e[0]},e.slice(1).map(t=>{const e=t.indexOf(":");if(-1!==e){const i=t.substr(0,e).trim();let r=t.substr(e+1).trim();"true"===r||"false"===r?r="true"===r:Number.isNaN(Number(r))||(r=Number(r)),n[i]=r}else t.startsWith("no-")?n[t.slice(3)]=!1:n[t]=!0}),n}makeError({type:t,field:e,expected:n,actual:i,messages:r}){const o={type:`"${t}"`,message:`"${r[t]}"`};return o.field=e?`"${e}"`:"field",null!=n&&(o.expected=n),null!=i&&(o.actual=i),`errors.push({ ${Object.keys(o).map(t=>`${t}: ${o[t]}`).join(", ")} });`}makeCustomValidator({vName:t="value",fnName:e="custom",ruleIndex:n,path:i,schema:r,context:o,messages:s}){const a="rule"+n,l="fnCustomErrors"+n;if("function"==typeof r[e]){if(o.customs[n]?(o.customs[n].messages=s,o.customs[n].schema=r):o.customs[n]={messages:s,schema:r},this.opts.useNewCustomCheckerFunction)return`\n               const ${a} = context.customs[${n}];\n\t\t\t\t\tconst ${l} = [];\n\t\t\t\t\t${t} = ${a}.schema.${e}.call(this, ${t}, ${l} , ${a}.schema, "${i}", parent, context);\n\t\t\t\t\tif (Array.isArray(${l} )) {\n                  ${l} .forEach(err => errors.push(Object.assign({ message: ${a}.messages[err.type], field }, err)));\n\t\t\t\t\t}\n\t\t\t\t`;const c="res_"+a;return`\n\t\t\t\tconst ${a} = context.customs[${n}];\n\t\t\t\tconst ${c} = ${a}.schema.${e}.call(this, ${t}, ${a}.schema, "${i}", parent, context);\n\t\t\t\tif (Array.isArray(${c})) {\n\t\t\t\t\t${c}.forEach(err => errors.push(Object.assign({ message: ${a}.messages[err.type], field }, err)));\n\t\t\t\t}\n\t\t`}return""}add(t,e){this.rules[t]=e}addMessage(t,e){this.messages[t]=e}alias(t,e){if(this.rules[t])throw new Error("Alias name must not be a rule name");this.aliases[t]=e}plugin(t){if("function"!=typeof t)throw new Error("Plugin fn type must be function");return t(this)}}({messages:{color:"The '{field}' field must be an a valid color! Actual: {actual}",measurement:"The '{field}' must be a measurement with specs that are not met. You've either provided wrong value/units or an invalid @ expression. Actual: {actual}"}});Oi.add("amount",(function(t,e,n){var i=t.schema;return t.messages,{source:"\n      let startUnits, endUnits, startNumberPart, endNumberPart;\n      const staggerValidation = ".concat(wi,";\n      const staggerAnalyser = ").concat(bi,';\n      const easingKeys = "').concat(Object.keys(Mt).join(","),"\".split(','); // todo check for simpler expression\n      const validateExpression = ").concat(gi,";\n      const attributeRegexp = /^").concat(N.attibuteValue,"\\([_A-z0-9-]*\\)$/;\n      const patternRegexp = /^").concat(N.patternValue,"\\(([_A-z0-9.%-]+?(,[_A-z0-9.%-]+)*?)\\)$/;\n      const extractParenthesisAttrsAsArray = ").concat(X,";\n\n      function isNumeric(n) {\n        return !isNaN(parseFloat(n)) && isFinite(n);\n      }\n\n      if(typeof value === 'string' || value instanceof String){\n        if(value.trim().startsWith('").concat(N.staggerPreface,"')){\n          const staggerValid = staggerValidation(value);\n          if(staggerValid === false){\n            ").concat(this.makeError({type:"amount",actual:"value",messages:{amount:"The "+N.staggerPreface+" expression is invalid"}}),";\n            return;\n          } else {\n            const analysis = staggerAnalyser(value, false);\n            if(!isNumeric(analysis.start)){\n              ").concat(this.makeError({type:"amount",actual:"analysis.start",messages:{amount:"The provided start "+N.staggerPreface+" value is invalid"}}),";\n              return;\n            } else {\n              startNumberPart = analysis.start*1;\n              if(").concat(Object.prototype.hasOwnProperty.call(i,"min"),"){\n                if(").concat(i.min," > analysis.start){\n                  ").concat(this.makeError({type:"amount",actual:"analysis.start",messages:{amount:"The provided start "+N.staggerPreface+" value is smaller than the minimum accepted value ("+i.min+")"}}),";\n                  return;\n                }\n              }\n              if(").concat(Object.prototype.hasOwnProperty.call(i,"max"),"){\n                if(").concat(i.max," < analysis.start){\n                  ").concat(this.makeError({type:"amount",actual:"analysis.start",messages:{amount:"The provided start "+N.staggerPreface+" value is bigger than the maximum accepted value ("+i.max+")"}}),";\n                  return;\n                }\n              }\n               if(").concat(Object.prototype.hasOwnProperty.call(i,"integer"),"){\n                if(!analysis.start.match(").concat(Ci,")){\n                  ").concat(this.makeError({type:"amount",actual:"analysis.start",messages:{amount:"The provided start "+N.staggerPreface+" value is not an integer"}}),";\n                  return;\n                }\n              }\n            }\n\n            if(!isNumeric(analysis.end)){\n              ").concat(this.makeError({type:"amount",actual:"analysis.end",messages:{amount:"The provided end "+N.staggerPreface+" value is invalid"}}),";\n              return;\n            } else {\n              endNumberPart = analysis.end*1;\n              if(").concat(Object.prototype.hasOwnProperty.call(i,"min"),"){\n                if(").concat(i.min," > analysis.end){\n                  ").concat(this.makeError({type:"amount",actual:"analysis.end",messages:{amount:"The provided end "+N.staggerPreface+" value is smaller than the minimum accepted value ("+i.min+")"}}),";\n                  return;\n                }\n              }\n              if(").concat(Object.prototype.hasOwnProperty.call(i,"max"),"){\n                if(").concat(i.max," < analysis.end){\n                  ").concat(this.makeError({type:"amount",actual:"analysis.end",messages:{amount:"The provided end "+N.staggerPreface+" value is bigger than the maximum accepted value ("+i.max+")"}}),";\n                  return;\n                }\n              }\n               if(").concat(Object.prototype.hasOwnProperty.call(i,"integer"),"){\n                if(!analysis.end.match(").concat(Ci,")){\n                  ").concat(this.makeError({type:"amount",actual:"analysis.end",messages:{amount:"The provided end "+N.staggerPreface+" value is not an integer"}}),";\n                  return;\n                }\n              }\n            }\n\n            if(analysis.startFraction < 0 || analysis.startFraction > 1){\n              ").concat(this.makeError({type:"amount",actual:"analysis.startFraction",messages:{amount:"The "+N.staggerPreface+" fraction must be a number >=0 and <=1"}}),";\n              return;\n            }\n\n            if(easingKeys.indexOf(analysis.easing) < 0){\n              ").concat(this.makeError({type:"amount",actual:"analysis.startFraction",messages:{amount:"The provided "+N.staggerPreface+" easing is not recognised by the system"}}),";\n              return;\n            }\n\n            if(analysis.mode !== 'linear' && analysis.mode !== 'omni'){\n              ").concat(this.makeError({type:"amount",actual:"analysis.mode",messages:{amount:N.staggerPreface+" mode can only be either linear or omni"}}),";\n              return;\n            }\n\n            if(analysis.reverse !== true && analysis.reverse !== false){\n              ").concat(this.makeError({type:"amount",actual:"analysis.reverse",messages:{amount:N.staggerPreface+" reverse needs to be either true or false"}}),";\n              return;\n            }\n\n            return value;\n          }\n        } else if(value.trim().startsWith('").concat(N.patternValue,"')){\n          if(!patternRegexp.test(value.replace(/ /g, ''))){\n            ").concat(this.makeError({type:"amount",actual:"value",messages:{amount:"The "+N.patternValue+" expression is invalid"}}),";\n            return;\n          }\n          const patternValues = extractParenthesisAttrsAsArray(value);\n          for(let i=0; i<patternValues.length; i++){\n            const valToCheck = patternValues[i];\n            if(!isNumeric(valToCheck)){\n              ").concat(this.makeError({type:"amount",actual:"valToCheck",messages:{amount:"The provided value is not a number"}}),";\n              return;\n            } else {\n              if(").concat(Object.prototype.hasOwnProperty.call(i,"min"),"){\n                if(").concat(i.min," > valToCheck){\n                  ").concat(this.makeError({type:"amount",actual:"valToCheck",messages:{amount:"The provided value is smaller than the minimum accepted value ("+i.min+")"}}),";\n                  return;\n                }\n              }\n              if(").concat(Object.prototype.hasOwnProperty.call(i,"max"),"){\n                if(").concat(i.max," < valToCheck){\n                  ").concat(this.makeError({type:"amount",actual:"valToCheck",messages:{amount:"The provided start value is bigger than the maximum accepted value ("+i.max+")"}}),";\n                  return;\n                }\n              }\n               if(").concat(Object.prototype.hasOwnProperty.call(i,"integer"),"){\n                if(!valToCheck.match(").concat(Ci,")){\n                  ").concat(this.makeError({type:"amount",actual:"valToCheck",messages:{amount:"The provided value is not an integer"}}),";\n                  return;\n                }\n              }\n          }\n        }\n        return value;\n      }  else if(value.trim().startsWith('").concat(N.attibuteValue,"')){\n          if(!attributeRegexp.test(value)){\n            ").concat(this.makeError({type:"amount",actual:"value",messages:{amount:"The "+N.attibuteValue+" expression is invalid"}}),";\n            return;\n          }\n\n          return value;\n        } else if(value.trim().startsWith('").concat(N.mathExpPreface,"')){\n          const validity = validateExpression(value);\n          if(validity.result === false){\n            ").concat(this.makeError({type:"amount",actual:"value",messages:{amount:"The "+N.expressionPreface+" expression is invalid"}}),';\n            return;\n          } else {\n            if(validity.unit !== ""){\n              ').concat(this.makeError({type:"amount",actual:"value",messages:{amount:"The "+N.expressionPreface+" expression includes units"}}),";\n              return;\n            }\n\n            return value;\n          }\n        }\n      }\n\n\n      if(typeof value !== 'number'){\n        ").concat(this.makeError({type:"amount",actual:"value",messages:{amount:"The provided value is not a number"}}),";\n        return;\n      }\n      if(").concat(Object.prototype.hasOwnProperty.call(i,"max"),"){\n        if(").concat(i.max," < value){\n          ").concat(this.makeError({type:"amount",actual:"value",messages:{amount:"The provided amount is bigger than the maximum accepted value"}}),";\n          return;\n        }\n      }\n      if(").concat(Object.prototype.hasOwnProperty.call(i,"min"),"){\n        if(").concat(i.min," > value){\n          ").concat(this.makeError({type:"amount",actual:"value",messages:{amount:"The provided amount is lower than the minimum accepted value"}}),";\n          return;\n        }\n      }\n      if(").concat(Object.prototype.hasOwnProperty.call(i,"integer"),"){\n        if(value !== parseInt(value, 10)){\n          ").concat(this.makeError({type:"amount",actual:"value",messages:{amount:"The provided amount is not an integer"}}),";\n          return;\n        }\n      }\n      return value;\n\n    ")}})),Oi.add("measurement",(function(t,e,n){var i=t.schema,r=t.messages,o=new RegExp("^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)("+i.units.join("|")+")$","gi"),s=new RegExp("^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)","gi");return{source:"\n      let startUnits, endUnits, startNumberPart, endNumberPart;\n      const staggerValidation = ".concat(wi,";\n      const staggerAnalyser = ").concat(bi,';\n      const easingKeys = "').concat(Object.keys(Mt).join(","),"\".split(',');\n      const validateExpression = ").concat(gi,";\n      const validUnits = ['").concat(i.units.join("','"),"'];\n      const attributeRegexp = /^").concat(N.attibuteValue,"\\([_A-z0-9-]*\\)$/;\n      const patternRegexp = /^").concat(N.patternValue,"\\(([_A-z0-9.%-]+?(,[_A-z0-9.%-]+)*?)\\)$/;\n      const extractParenthesisAttrsAsArray = ").concat(X,";\n\n      if(typeof value !== 'string' && !(value instanceof String)){\n        ").concat(this.makeError({type:"measurement",actual:"value",messages:r}),"\n        return ;\n      }\n\n      if(value.trim().startsWith('").concat(N.attibuteValue,"')){\n        if(!attributeRegexp.test(value)){\n          ").concat(this.makeError({type:"amount",actual:"value",messages:{amount:"The "+N.attibuteValue+" expression is invalid"}}),";\n          return;\n        }\n\n        return value;\n      } else if(value.trim().startsWith('").concat(N.staggerPreface,"')){\n        const staggerValid = staggerValidation(value);\n        if(staggerValid === false){\n          ").concat(this.makeError({type:"measurement",actual:"value",messages:{measurement:"The "+N.staggerPreface+" expression is invalid"}}),";\n          return;\n        } else {\n          const analysis = staggerAnalyser(value, false);\n          if(!analysis.start.match(").concat(o,")){\n            ").concat(this.makeError({type:"measurement",actual:"analysis.start",messages:{measurement:"The provided start "+N.staggerPreface+" value is invalid"}}),";\n            return;\n          } else {\n            var numberPart = analysis.start.match(").concat(s,")[0];\n            startNumberPart = numberPart;\n            startUnits = analysis.start.toString().substring(numberPart.length);\n            if(").concat(Object.prototype.hasOwnProperty.call(i,"min"),"){\n              if(").concat(i.min," > numberPart){\n                ").concat(this.makeError({type:"measurement",actual:"analysis.start",messages:{measurement:"The provided start "+N.staggerPreface+" value is smaller than the minimum accepted value ("+i.min+")"}}),";\n                return;\n              }\n            }\n            if(").concat(Object.prototype.hasOwnProperty.call(i,"max"),"){\n              if(").concat(i.max," < numberPart){\n                ").concat(this.makeError({type:"measurement",actual:"analysis.start",messages:{measurement:"The provided start "+N.staggerPreface+" value is bigger than the maximum accepted value ("+i.max+")"}}),";\n                return;\n              }\n            }\n             if(").concat(Object.prototype.hasOwnProperty.call(i,"integer"),"){\n              if(!numberPart.match(").concat(Ci,")){\n                ").concat(this.makeError({type:"measurement",actual:"analysis.start",messages:{measurement:"The provided start "+N.staggerPreface+" value is not an integer"}}),";\n                return;\n              }\n            }\n          }\n\n          if(!analysis.end.match(").concat(o,")){\n            ").concat(this.makeError({type:"measurement",actual:"analysis.end",messages:{measurement:"The provided end "+N.staggerPreface+" value is invalid"}}),";\n            return;\n          } else {\n            var numberPart = analysis.end.match(").concat(s,")[0];\n            endNumberPart = numberPart;\n            endUnits = analysis.end.toString().substring(numberPart.length);\n            if(").concat(Object.prototype.hasOwnProperty.call(i,"min"),"){\n              if(").concat(i.min," > numberPart){\n                ").concat(this.makeError({type:"measurement",actual:"analysis.end",messages:{measurement:"The provided end "+N.staggerPreface+" value is smaller than the minimum accepted value ("+i.min+")"}}),";\n                return;\n              }\n            }\n            if(").concat(Object.prototype.hasOwnProperty.call(i,"max"),"){\n              if(").concat(i.max," < numberPart){\n                ").concat(this.makeError({type:"measurement",actual:"analysis.end",messages:{measurement:"The provided end "+N.staggerPreface+" value is bigger than the maximum accepted value ("+i.max+")"}}),";\n                return;\n              }\n            }\n             if(").concat(Object.prototype.hasOwnProperty.call(i,"integer"),"){\n              if(!numberPart.match(").concat(Ci,")){\n                ").concat(this.makeError({type:"measurement",actual:"analysis.end",messages:{measurement:"The provided end "+N.staggerPreface+" value is not an integer"}}),";\n                return;\n              }\n            }\n          }\n\n          if(startUnits !== endUnits){\n            ").concat(this.makeError({type:"measurement",actual:"analysis.startFraction",messages:{measurement:"The "+N.staggerPreface+" start and end must always have the same units"}}),";\n            return;\n          }\n\n          if(analysis.startFraction < 0 || analysis.startFraction > 1){\n            ").concat(this.makeError({type:"measurement",actual:"analysis.startFraction",messages:{measurement:"The "+N.staggerPreface+" fraction must be a number >=0 and <=1"}}),";\n            return;\n          }\n\n          if(easingKeys.indexOf(analysis.easing) < 0){\n            ").concat(this.makeError({type:"measurement",actual:"analysis.startFraction",messages:{measurement:"The provided "+N.staggerPreface+" easing is not recognised by the system"}}),";\n            return;\n          }\n\n          if(analysis.mode !== 'linear' && analysis.mode !== 'omni'){\n            ").concat(this.makeError({type:"measurement",actual:"analysis.mode",messages:{measurement:N.staggerPreface+" mode can only be either linear or omni"}}),";\n            return;\n          }\n\n          if(analysis.reverse !== true && analysis.reverse !== false){\n            ").concat(this.makeError({type:"measurement",actual:"analysis.reverse",messages:{measurement:N.staggerPreface+" reverse needs to be either true or false"}}),";\n            return;\n          }\n\n          return value;\n        }\n      } else if(value.trim().startsWith('").concat(N.patternValue,"')){\n        if(!patternRegexp.test(value.replace(/ /g, ''))){\n          ").concat(this.makeError({type:"amount",actual:"value",messages:{amount:"The "+N.patternValue+" expression is invalid"}}),";\n          return;\n        }\n        const patternValues = extractParenthesisAttrsAsArray(value);\n        for(let i=0; i<patternValues.length; i++){\n          const valToCheck = patternValues[i];\n          if(!valToCheck.match(").concat(o,")){\n            ").concat(this.makeError({type:"measurement",actual:"valToCheck",messages:{measurement:"The provided value is invalid"}}),";\n            return;\n          } else {\n            var numberPart = valToCheck.match(").concat(s,")[0];\n            if(").concat(Object.prototype.hasOwnProperty.call(i,"min"),"){\n              if(").concat(i.min," > numberPart){\n                ").concat(this.makeError({type:"measurement",actual:"valToCheck",messages:{measurement:"The provided value is smaller than the minimum accepted value ("+i.min+")"}}),";\n                return;\n              }\n            }\n            if(").concat(Object.prototype.hasOwnProperty.call(i,"max"),"){\n              if(").concat(i.max," < numberPart){\n                ").concat(this.makeError({type:"measurement",actual:"valToCheck",messages:{measurement:"The provided value is bigger than the maximum accepted value ("+i.max+")"}}),";\n                return;\n              }\n            }\n             if(").concat(Object.prototype.hasOwnProperty.call(i,"integer"),"){\n              if(!numberPart.match(").concat(Ci,")){\n                ").concat(this.makeError({type:"measurement",actual:"valToCheck",messages:{measurement:"The provided value is not an integer"}}),";\n                return;\n              }\n            }\n          }\n        }\n        return value;\n      } else if(value.trim().startsWith('").concat(N.mathExpPreface,"')){\n          const validity = validateExpression(value);\n          if(validity.result === false){\n            ").concat(this.makeError({type:"measurement",actual:"value",messages:{measurement:"The "+N.expressionPreface+" expression is invalid"}}),";\n            return;\n          } else {\n            if(validUnits.indexOf(validity.unit) < 0){\n              ").concat(this.makeError({type:"measurement",actual:"value",messages:{measurement:"The "+N.expressionPreface+" expression has non-supported units"}}),";\n              return;\n            }\n\n            return value;\n          }\n        }\n\n\n      if(!value.match(").concat(o,")){\n        ").concat(this.makeError({type:"measurement",actual:"value",messages:r}),"\n      } else {\n        var numberPart = value.match(").concat(s,")[0];\n        if(").concat(Object.prototype.hasOwnProperty.call(i,"min"),"){\n          if(").concat(i.min," > numberPart){\n            ").concat(this.makeError({type:"measurement",actual:"value",messages:r}),"\n          }\n        }\n        if(").concat(Object.prototype.hasOwnProperty.call(i,"max"),"){\n          if(").concat(i.max," < numberPart){\n            ").concat(this.makeError({type:"measurement",actual:"value",messages:r}),"\n          }\n        }\n         if(").concat(Object.prototype.hasOwnProperty.call(i,"integer"),"){\n          if(!numberPart.match(").concat(Ci,")){\n            ").concat(this.makeError({type:"measurement",actual:"value",messages:r}),"\n          }\n        }\n      }\n      return value;\n    ")}})),Oi.add("html",(function(t,e,n){t.schema;var i=t.messages;return{source:"\n      if(value === null){\n        ".concat(this.makeError({type:"html",actual:"value",messages:i}),"\n      } else {\n        return value;\n      }\n    ")}})),Oi.add("css",(function(t,e,n){t.schema;var i=t.messages;return{source:"\n      if(value === null){\n        ".concat(this.makeError({type:"css",actual:"value",messages:i}),"\n      } else {\n        return value;\n      }\n    ")}})),Oi.add("color",(function(t,e,n){t.schema;var i=t.messages;return{source:"\n      if(typeof value !== 'string' && !(value instanceof String)){\n        ".concat(this.makeError({type:"measurement",actual:"value",messages:i}),"\n        return ;\n      }\n      if(!value.match(").concat(ki,') && [\n          "aliceblue",\n          "antiquewhite",\n          "aqua",\n          "aquamarine",\n          "azure",\n          "beige",\n          "bisque",\n          "black",\n          "blanchedalmond",\n          "blue",\n          "blueviolet",\n          "brown",\n          "burlywood",\n          "cadetblue",\n          "chartreuse",\n          "chocolate",\n          "coral",\n          "cornflowerblue",\n          "cornsilk",\n          "crimson",\n          "cyan",\n          "darkblue",\n          "darkcyan",\n          "darkgoldenrod",\n          "darkgray",\n          "darkgrey",\n          "darkgreen",\n          "darkkhaki",\n          "darkmagenta",\n          "darkolivegreen",\n          "darkorange",\n          "darkorchid",\n          "darkred",\n          "darksalmon",\n          "darkseagreen",\n          "darkslateblue",\n          "darkslategray",\n          "darkslategrey",\n          "darkturquoise",\n          "darkviolet",\n          "deeppink",\n          "deepskyblue",\n          "dimgray",\n          "dimgrey",\n          "dodgerblue",\n          "firebrick",\n          "floralwhite",\n          "forestgreen",\n          "fuchsia",\n          "gainsboro",\n          "ghostwhite",\n          "gold",\n          "goldenrod",\n          "gray",\n          "grey",\n          "green",\n          "greenyellow",\n          "honeydew",\n          "hotpink",\n          "indianred",\n          "indigo",\n          "ivory",\n          "khaki",\n          "lavender",\n          "lavenderblush",\n          "lawngreen",\n          "lemonchiffon",\n          "lightblue",\n          "lightcoral",\n          "lightcyan",\n          "lightgoldenrodyellow",\n          "lightgray",\n          "lightgrey",\n          "lightgreen",\n          "lightpink",\n          "lightsalmon",\n          "lightseagreen",\n          "lightskyblue",\n          "lightslategray",\n          "lightslategrey",\n          "lightsteelblue",\n          "lightyellow",\n          "lime",\n          "limegreen",\n          "linen",\n          "magenta",\n          "maroon",\n          "mediumaquamarine",\n          "mediumblue",\n          "mediumorchid",\n          "mediumpurple",\n          "mediumseagreen",\n          "mediumslateblue",\n          "mediumspringgreen",\n          "mediumturquoise",\n          "mediumvioletred",\n          "midnightblue",\n          "mintcream",\n          "mistyrose",\n          "moccasin",\n          "navajowhite",\n          "navy",\n          "oldlace",\n          "olive",\n          "olivedrab",\n          "orange",\n          "orangered",\n          "orchid",\n          "palegoldenrod",\n          "palegreen",\n          "paleturquoise",\n          "palevioletred",\n          "papayawhip",\n          "peachpuff",\n          "peru",\n          "pink",\n          "plum",\n          "powderblue",\n          "purple",\n          "rebeccapurple",\n          "red",\n          "rosybrown",\n          "royalblue",\n          "saddlebrown",\n          "salmon",\n          "sandybrown",\n          "seagreen",\n          "seashell",\n          "sienna",\n          "silver",\n          "skyblue",\n          "slateblue",\n          "slategray",\n          "slategrey",\n          "snow",\n          "springgreen",\n          "steelblue",\n          "tan",\n          "teal",\n          "thistle",\n          "tomato",\n          "turquoise",\n          "violet",\n          "wheat",\n          "white",\n          "whitesmoke",\n          "yellow",\n          "yellowgreen",\n        ].indexOf(value.toLowerCase()) < 0){\n        ').concat(this.makeError({type:"color",actual:"value",messages:i}),"\n      }\n      return value;\n    ")}}));var Ei=["cm","mm","in","px","pt","pc","em","ex","ch","rem","vw","vh","vmin","vmax","%"],Pi=[{type:"string",optional:!0,default:"linear",enum:["linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeInElastic","easeOutElastic","easeInOutElastic","easeInBack","easeOutBack","easeInOutBack","easeInBounce","easeOutBounce","easeInOutBounce"]},{type:"array",optional:!0,length:4,items:{type:"number"}}],Ii={type:"string",empty:!1,trim:!0,optional:!0},Si={type:"string",empty:!1,trim:!0,optional:!0},Ai={type:"string",empty:!1,optional:!1},Ti={type:"amount",optional:!1,integer:!0,min:0},Mi={type:"amount",optional:!0,integer:!0,min:0},_i={type:"amount",integer:!0,min:1,optional:!0},ji={type:"amount",integer:!0,min:0,optional:!0},Di={type:"amount",integer:!0,min:0,optional:!0},Bi={type:"html",optional:!0},Vi={type:"css",optional:!0},Li={type:"array",optional:!0,items:{type:"object",props:{type:"string",src:"string"}}},Ri={type:"array",items:{type:"object",strict:!0,props:{src:"string",id:"string",mcid:{type:"string",optional:!0},classes:{type:"array",optional:!0,items:"string"},base64:{type:"boolean",optional:!0},startValues:{optional:!0,type:"object",props:{gain:{optional:!0,type:"number"},pan:{optional:!0,type:"number"}}}}},optional:!0},zi=Oi.compile({id:Ii,name:Si,selector:d(d({},Ai),{},{optional:!0}),easing:Pi,duration:Ti,startFrom:{type:"amount",integer:!0,min:0,optional:!0},repeats:_i,hiatus:ji,delay:Di}),Ni={type:"object",optional:!0,props:{width:{type:"measurement",units:Ei,optional:!0},height:{type:"measurement",units:Ei,optional:!0}}},Fi={type:"string",enum:["on","off","only"],optional:!0},$i=Oi.compile({props:[{type:"object",strict:!0,props:{id:Ii,name:Si,selector:d(d({},Ai),{},{optional:!0}),repeats:_i,hiatus:ji,delay:Di,easing:Pi,duration:Mi,html:Bi,css:Vi,audioSources:Ri,audio:Fi,containerParams:Ni,fonts:Li,initParams:{type:"object",optional:!0}}},{type:"object",strict:!0,props:{id:Ii,name:Si,host:{type:"any",optional:!1},duration:Mi,html:Bi,css:Vi,audioSources:Ri,audio:Fi,containerParams:Ni,fonts:Li,initParams:{type:"object",optional:!0}}},{type:"object",strict:!0,props:{root:{type:"boolean",optional:!0},name:Si,id:Ii,audioSources:Ri,audio:d(d({},Fi),{},{enum:["on"]})}}]}),Hi=Oi.compile({selector:d(d({},Ai),{},{optional:!0,strict:!0}),name:Si}),Ui=Oi.compile({selector:d(d({},Ai),{},{strict:!0,optional:!0}),name:Si,repeats:{type:"amount",integer:!0,min:1,optional:!0},hiatus:{type:"amount",integer:!0,min:0,optional:!0},delay:{type:"amount",integer:!0,min:0,optional:!0}});function qi(t){var e=new t.Class(t.attrs,t.props);if(!1===e.result)return e;if(Object.prototype.hasOwnProperty.call(t,"incidents"))for(var n in t.incidents){var i=t.incidents[n],r=qi(i.leaf);if(!1===r.result)return r;var o=e.addIncident(r,i.position);if(!1===o.result)return o}return e}function Wi(t){t.descriptor.value=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.exportLiveDefinition();for(var i in t)Lt(i,t[i],!0,"attrs",n);for(var r in e)Lt(r,e[r],!0,"props",n);return qi(n)}}Oi.compile({selector:Ai,duration:Ti});var Gi="mc.descriptive.decisionAuthority";function Ji(t){t.descriptor.value=function(t){if(null!==this.constructor.attrsValidationRules){var e=this.constructor.attrsValidationMethod(t);if(e.length>0)return{result:!1,errors:e}}return!0===this.putMessageOnPipe("checkForClip",{},Gi,{selfExecute:!0,direction:at}).response?this.manageEditAttrProps(t,"attrs"):(this.attrs=t,{result:!0})}}function Ki(t){t.descriptor.value=function(t){var e=rt.validateProps(t,this.constructor.propsValidationRules,this.constructor);return e.result?!0===this.putMessageOnPipe("checkForClip",{},Gi,{selfExecute:!0,direction:at}).response?this.manageEditAttrProps(t,"props"):(this.props=t,{result:!0}):e}}function Qi(t){t.descriptor.value=function(){return null!==this.props.host&&void 0!==this.props.host?[this.props.host]:this.hasParent&&this.putMessageOnPipe("checkForClip",{},Gi,{selfExecute:!0,direction:at}).response?this.putMessageOnPipe("getElements",{selector:this.selector()},Gi,{selfExecute:!1,direction:at}).response:[]}}function Xi(t){t.descriptor.value=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{check:!0};if("dynamic"===this.duration)return{result:!1,reason:"Incidents with dynamic duration can't be resized. Once the Incident enters a Clip it'll become resizable"};if(t===this.duration)return{result:!0,meta:{unprocessed:!0}};if(t<=0)return{result:!1,reason:"Size must always be > 0"};if(e.check&&this.hasParent){var n=this.putMessageOnPipe("checkResize",{id:this.id,newSize:t,fraction:t/this.duration},Gi,{selfExecute:!1,direction:at});if(!n.response.result)return n.response}return this.setNewDuration(t),{result:!0}}}function Yi(t){t.descriptor.value=function(){return null===this.inheritedSelector?Object.prototype.hasOwnProperty.call(this.props,"selector")?this.props.selector:null:Object.prototype.hasOwnProperty.call(this.props,"selector")?"&"===this.props.selector.charAt(0)?this.inheritedSelector+this.props.selector.substring(1):"".concat(this.inheritedSelector," ").concat(this.props.selector):this.inheritedSelector}}var Zi=function(){function t(e){a(this,t),this.expressionProps=e}return c(t,[{key:"calculateValues",value:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n].getAttribute(this.expressionProps.attribute);H(i)&&(i=parseFloat(i)),e.push(i)}return e}}]),t}(),tr=function(){function t(e){a(this,t),this.patternProps=e}return c(t,[{key:"calculateValues",value:function(t){for(var e=this.patternProps.pattern.length,n=[],i=0;i<t.length;i++)n.push(this.patternProps.pattern[i%e]);return n}},{key:"resize",value:function(t){if("amount"!==this.patternProps.type)return"".concat(N.patternValue,"(").concat(this.patternProps.pattern.join(),")");for(var e=[],n=0;n<this.patternProps.pattern.length;n++)e.push(t*this.patternProps.pattern[n]);return"".concat(N.patternValue,"(").concat(e.join(),")")}}]),t}(),er=function t(e){return a(this,t),"expression"===e.dynamicType?new vi(e):"stagger"===e.dynamicType?new xi(e):"attribute"===e.dynamicType?new Zi(e):"pattern"===e.dynamicType?new tr(e):(rt.error('dynamicType must be either "stgger" or "expression". '.concat(e.dynamicType," provided")),!1)},nr=new RegExp("^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)","gi"),ir=function(t){var e=[];return function t(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!n)return[];for(var r=0,o=Object.entries(n);r<o.length;r++){var s=k(o[r],2),a=s[0],l=s[1];if(!(l instanceof Element))if(q(l))t(l,"".concat(i).concat(""===i?"":".").concat(a));else if(U(l)){var c=l.trim();if(c.startsWith(N.staggerPreface)){var u=bi(c,!1),p=u.start.match(nr)[0],d=u.end.match(nr)[0],h=u.start.toString().substring(p.length),f={dynamicType:"stagger",path:"".concat(i).concat(""===i?"":".").concat(a),from:1*p,to:1*d,mode:u.mode,unit:h,fraction:u.startFraction,easing:u.easing,reverse:u.reverse,type:""===h?"amount":"measurement"};e.push(f)}else if(c.startsWith(N.attibuteValue)){var m={dynamicType:"attribute",path:"".concat(i).concat(""===i?"":".").concat(a),unit:"",type:"measurement",attribute:/\(([^\)]+)\)/.exec(c)[1]};e.push(m)}else if(c.startsWith(N.mathExpPreface)){var g=gi(c),v={dynamicType:"expression",path:"".concat(i).concat(""===i?"":".").concat(a),unit:g.unit,type:""===g.unit?"amount":"measurement",expression:g.expression};e.push(v)}else if(c.startsWith(N.patternValue)){for(var y=X(c),b=!0,x=[],w=0;w<y.length;w++){if(!H(y[w])){b=!1;break}x.push(parseFloat(y[w]))}b&&(y=x);var C={dynamicType:"pattern",path:"".concat(i).concat(""===i?"":".").concat(a),unit:"",type:b?"amount":"measurement",pattern:y};e.push(C)}}}}(t),e};function rr(t){t.descriptor.value=function(){for(var t=ir(this.props),e=0;e<t.length;e++)this.propsStaggers.push({path:t[e].path,stagger:new er(t[e])});for(var n=ir(this.attrs),i=0;i<n.length;i++)this.attributesStaggers.push({path:n[i].path,stagger:new er(n[i])})}}var or=T(null,(function(t,e){var n=function(e){h(i,e);var n=v(i);function i(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,i),null===o?(e=n.call(this,r),t(m(e)),e.attrs={},e.props=r):(e=n.call(this,o),t(m(e)),e.attrs=r,e.props=o);var s=rt.validateProps(e.props,Hi,e.constructor);return s.result?(e._inheritedSelector=null,e.attributesStaggers=[],e.propsStaggers=[],e.setupDynamicValues(),e.passiveAddition=!0,e._buildTree(),e.passiveAddition=!1,g(e)):g(e,s)}return i}(e);return{F:n,d:[{kind:"field",static:!0,key:"Incident",value:function(){return vt}},{kind:"field",static:!0,key:"plugin_npm_name",value:function(){return"motor-cortex-js"}},{kind:"field",static:!0,key:"version",value:function(){return zt}},{kind:"field",static:!0,key:"Channel",value:function(){return st}},{kind:"field",static:!0,key:"ClassName",value:function(){return"Group"}},{kind:"field",static:!0,key:"isGroup",value:function(){return!0}},{kind:"field",static:!0,key:"attrsValidationRules",value:function(){return null}},{kind:"field",static:!0,key:"propsValidationRules",value:function(){return Hi}},{kind:"method",decorators:[Ji],key:"editAttributes",value:function(){}},{kind:"method",decorators:[Ki],key:"editProperties",value:function(){}},{kind:"method",decorators:[Xi],key:"resize",value:function(){}},{kind:"method",decorators:[Wi],key:"clone",value:function(){}},{kind:"method",decorators:[Yi],key:"selector",value:function(){}},{kind:"method",decorators:[Qi],key:"getElements",value:function(){}},{kind:"method",decorators:[rr],key:"setupDynamicValues",value:function(){}},{kind:"method",key:"_buildTree",value:function(){this.buildTree()}},{kind:"method",key:"_calculateDuration",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=0;for(var n in this.children){var i=this.children[n];if(!0===t&&!0===i.leaf.constructor.isGroup&&i.leaf._calculateDuration(!0),"dynamic"===i.leaf.duration){e="dynamic";break}i.position+i.leaf.duration>e&&(e=i.position+i.leaf.duration)}return e!==this.calculatedDuration&&(this.calculatedDuration=e,!0)}},{kind:"method",key:"_rebuildTree",value:function(){for(var t in this.children){var e=this.children[t];!0===e.leaf.passive&&this.removeIncident(e.id)}this.passiveAddition=!0,this.buildTree(),this.passiveAddition=!1}},{kind:"method",key:"buildTree",value:function(){}},{kind:"get",key:"duration",value:function(){return"dynamic"===this.calculatedDuration?this.calculatedDuration:b(f(n.prototype),"duration",this)}},{kind:"set",key:"duration",value:function(t){w(f(n.prototype),"duration",t,this,!0)}},{kind:"method",key:"manageEditAttrProps",value:function(t,e){var n=this.parentNode,i=n.getLeafPosition(this.id),r=JSON.parse(JSON.stringify(this[e]));this[e]=t,n.removeIncident(this.id),this._rebuildTree();var o=n.addIncident(this,i);return o.result||(this[e]=r,this._rebuildTree(),n.addIncident(this,i)),o}},{kind:"method",key:"detachFromParent",value:function(){b(f(n.prototype),"detachFromParent",this).call(this),this.inheritedSelector=null}},{kind:"get",key:"inheritedSelector",value:function(){return this._inheritedSelector}},{kind:"set",key:"inheritedSelector",value:function(t){for(var e in this._inheritedSelector=t,this.children)this.children[e].leaf.inheritedSelector=this.selector()}},{kind:"get",key:"selectorToPassToChildren",value:function(){return this.selector()}},{kind:"method",key:"exportDefinition",value:function(){var t={ClassName:this.constructor.ClassName,version:this.constructor.version,plugin:this.constructor.plugin||this.constructor.plugin_npm_name,plugin_npm_name:this.constructor.plugin_npm_name,attrs:this.attrs,props:this.props,incidents:{},duration:this.duration};for(var e in this.children){var n=this.children[e];!0!==n.leaf.passive&&(t.incidents[e]={id:n.id,position:n.position,leaf:n.leaf.exportDefinition()})}return t}},{kind:"method",key:"exportLiveDefinition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=JSON.parse(JSON.stringify(this.props));!1===t&&delete e.id;var n={Class:this.constructor,attrs:JSON.parse(JSON.stringify(this.attrs)),props:e,incidents:{}};for(var i in this.children){var r=this.children[i];!0!==r.leaf.passive&&(n.incidents[i]={position:r.position,leaf:r.leaf.exportLiveDefinition(t)})}return n}},{kind:"method",key:"addIncident",value:function(t,e){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{check:!0};if(t.inheritedSelector=this.selectorToPassToChildren,!0===r.check){var o=b(f(n.prototype),"checkAddition",this).call(this,t,e);if(!o.result)return t.inheritedSelector=null,o;if(!0===(i=this.putMessageOnPipe("checkForClip",{},Gi,{selfExecute:!0,direction:at})).response){var s=t.putMessageOnPipe("checkForInvalidSelectors",{},null,{selfExecute:!0,direction:lt});if(s.length>0){for(var a=[],l=0;l<s.length;l++)a.push(s[l].response);return{result:!1,errors:a}}}var c=this.putMessageOnPipe("checkAddition",{incident:t,millisecond:e,parentGroupId:this.id},Gi,{selfExecute:!0,direction:at});if(!c.response.result)return t.inheritedSelector=null,c.response}!0===this.passiveAddition&&(t.passive=!0);var u=this.addChild(t,e);return u.result||(t.inheritedSelector=null),"dynamic"===t.duration&&i&&this._calculateDuration(!0),u}},{kind:"method",key:"moveIncident",value:function(t,e){var i=t;"object"===s(t)&&(i=t.id);var r=b(f(n.prototype),"checkEditPosition",this).call(this,i,e);if(!r.result)return r;var o=e-this.getLeafPosition(i);if(0===o)return{result:!0};var a=this.putMessageOnPipe("checkMove",{id:i,millisecond:e,positionDelta:o,parentGroupId:this.id},Gi,{selfExecute:!0,direction:at});return a.response.result?this.editPosition(i,e):a.response}},{kind:"method",key:"removeIncident",value:function(t){var e=t;"object"===s(t)&&(e=t.id);var i=b(f(n.prototype),"checkRemoveChild",this).call(this,e);if(!i.result)return i;var r=this.putMessageOnPipe("checkDeletion",{id:e,parentGroupId:this.id},Gi,{selfExecute:!0,direction:at});return r.response.result?this.removeChild(e):r.response}},{kind:"method",key:"handleCheckForClip",value:function(t,e){return!!this.hasParent&&this.bypass()}},{kind:"method",key:"handleCheckAddition",value:function(t,e){return this.hasParent?this.bypass():{result:!0}}},{kind:"method",key:"handleCheckMove",value:function(t,e){return this.hasParent?this.bypass():{result:!0}}},{kind:"method",key:"handleCheckDeletion",value:function(t,e){return this.hasParent?this.bypass():{result:!0}}},{kind:"method",key:"handleCheckResize",value:function(t,e){return this.hasParent?this.bypass():{result:!0}}},{kind:"method",key:"handleSetDurationDynamic",value:function(t,e){this.calculatedDuration="dynamic",this.putMessageOnPipe("setDurationDynamic",{},"Groups",{selfExecute:!1,direction:at})}}]}}),ft),sr={isCombo:function(t){return t.incidentClass.isCombo},getItem:function(t,e){return function(t){for(var e,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,i=(t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:z)+"."+t).split("."),r=0;r<i.length;r++){if(!Object.prototype.hasOwnProperty.call(n,i[r]))return;e=n[i[r]],n=n[i[r]]}return e}(e.join("."),"attrs",t)},getRepeatPosition:function(t,e,n,i){return i*(e||0)+(i+1)*(t||0)+i*n},refersToOwnSelector:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=e;!1===Array.isArray(e)&&(i=e.split("."));var r=this.getItem(t,i.slice(0,2+n));return(""===r.props.selector||void 0===r.props.selector||null===r.props.selector)&&("props"===i[2]||!this.isCombo(r)||this.refersToOwnSelector(t,i,n+3))},cascadeSelectors:function(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=[],r=0;r<e.length;r++){var o=e[r],s=void 0;if(s=Object.prototype.hasOwnProperty.call(o.props,"selector")?"".concat(t," ").concat(o.props.selector):t,i.push({path:"".concat(n).concat(""===n?"":".").concat(r,".props.selector"),value:s}),this.isCombo(o)){var a=this.cascadeSelectors(s,o.attrs.incidents,"".concat(n).concat(""===n?"":".").concat(r,".attrs.incidents"));i=i.concat(a)}}return i},createDescriptiveIncidentLikeObject:function(t,e,n,i,r){return{constructor:{Incident:t.incidentClass.targetClass.Incident,plugin_npm_name:t.incidentClass.targetClass.plugin_npm_name,Channel:t.incidentClass.targetClass.Channel,isClip:!1},attrs:i||t.attrs,props:r||t.props,selector:function(){return t.props.selector},id:t.props.id,audioClip:null,audio:"no",dynamicDurationValue:null,putMessageOnPipe:function(){},attributesStaggers:e,propsStaggers:n}},parseElementsDynamics:function(t,e,n,i,r){for(var o="incidents.".concat(r,".attrs"),s="incidents.".concat(r,".props"),a=Rt(e),l=Rt(n),c=0;c<t.length;c++)if(0===t[c].path.indexOf(o)){var u=t[c].path.substring(o.length+1);a.setValue(u,t[c].values[i])}else if(0===t[c].path.indexOf(s)){var p=t[c].path.substring(s.length+1);l.setValue(p,t[c].values[i])}return{incidentAttrs:a.exportFlattened(),incidentProps:l.exportFlattened()}},getStaggersForChild:function(t,e,n){for(var i=[],r=[],o=0;o<t.length;o++)"position"===n&&0===t[o].path.indexOf("incidents.".concat(e,".").concat(n))?r.push({path:"position",stagger:t[o].stagger}):0===t[o].path.indexOf("incidents.".concat(e,".").concat(n))?r.push({path:t[o].path.substring("incidents.".concat(e,".").concat(n).length+1),stagger:t[o].stagger}):i.push(t[o]);return{identifiedDynamics:r,remainingDynamics:i}},createElementProxy:function(t,e,n,i,r){for(var o=Rt(t),s=this.cascadeSelectors(e,t.attrs.incidents,"attrs.incidents"),a=0;a<i.length;a++)o.setValue("attrs.".concat(i[a].path),i[a].values[n]);for(var l=0;l<r.length;l++)o.setValue("props.".concat(r[l].path),r[l].values[n]);for(var c=0;c<s.length;c++)o.setValue(s[c].path,s[c].value);return o}},ar=function(t){h(n,t);var e=v(n);function n(){return a(this,n),e.apply(this,arguments)}return c(n,[{key:"parseAttrsDynamicValues",value:function(t,e){this.childrenStaggers=[];for(var n=0;n<t.attributesStaggers.length;n++)sr.refersToOwnSelector(t,t.attributesStaggers[n].path)?this.staggerAttrs.push({path:t.attributesStaggers[n].path,values:t.attributesStaggers[n].stagger.calculateValues(e,this.initParams)}):this.childrenStaggers.push(t.attributesStaggers[n])}},{key:"handleRecalcDuration",value:function(t,e){var i=b(f(n.prototype),"handleRecalcDuration",this).call(this,t,e);return this.descriptiveIncident.dynamicDurationValue=1*this.duration,i}},{key:"lastWish",value:function(){this.descriptiveIncident.dynamicDurationValue=null,this.descriptiveIncident.putMessageOnPipe("setDurationDynamic",{},"Groups",{selfExecute:!1,direction:at}),b(f(n.prototype),"lastWish",this).call(this)}},{key:"_createElementIncident",value:function(t,e,n,i,r,o){for(var s=this,a=sr.createElementProxy(e,n.context.getElementSelectorByMCID(o),i,this.staggerAttrs,this.staggerProps),l=0;l<this.staggerAttrs.length;l++)a.setValue("attrs.".concat(this.staggerAttrs[l].path),this.staggerAttrs[l].values[i]);for(var c=Tt({id:"".concat(this.id,"_element").concat("-").concat(i),attrs:{},props:{},Incident:or.Incident,plugin_npm_name:or.plugin_npm_name,Channel:or.Channel,DescriptiveIncident:new or}),u=function(t){var e=Tt({id:"".concat(s.id,"_element").concat("-").concat(i,"_repeat").concat("-").concat(t),attrs:{},props:{},Incident:or.Incident,plugin_npm_name:or.plugin_npm_name,Channel:or.Channel,DescriptiveIncident:new or}),o=s.childrenStaggers;a.attrs.incidents.forEach((function(l,c){var u=sr.parseElementsDynamics(s.staggerAttrs,l.attrs,l.props,i,c),p=u.incidentAttrs,d=u.incidentProps,h=sr.getStaggersForChild(o,c,"attrs"),f=sr.getStaggersForChild(h.remainingDynamics,c,"props"),m=sr.getStaggersForChild(h.remainingDynamics,c,"position");o=f.remainingDynamics,a.setValue("attrs.incidents.".concat(c,".props.id"),"".concat(s.id,"_element").concat("-").concat(i,"_repeat").concat("-").concat(t,"_incident").concat("-").concat(c));var g=lr(sr.createDescriptiveIncidentLikeObject(l,h.identifiedDynamics,f.identifiedDynamics,p,d),n),v=l.position;1===m.identifiedDynamics.length&&(v=m.identifiedDynamics[0].stagger.calculateValues(new Array(r),s.initParams)[i]),e.addChild(g,v)})),c.addChild(e,sr.getRepeatPosition(a.props.delay,a.props.hiatus,e.duration,t))},p=0;p<(a.props.repeats||1);p++)u(p);this.addChild(c,0)}}]),n}(Bt);function lr(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(i&&"off"===t.audio||!i&&"only"===t.audio)return null;if(Object.prototype.hasOwnProperty.call(t.props,"selector")&&(!i&&"~"===t.props.selector.charAt(0)||i&&"~"!==t.props.selector.charAt(0)&&!t.constructor.isClip))return null;if(t.constructor.isClip){if(!Object.prototype.hasOwnProperty.call(t.props,"selector")||i)return i?t.audioClip:t.realClip;(n=new Vt(t,e)).plugin_channel_class=st}else if(t.constructor.isCombo)n=new ar(t,e);else if(t.constructor.isGroup)for(var r in n=Tt({id:t.id,attrs:t.attrs,props:t.props,Incident:t.constructor.Incident,plugin_npm_name:t.constructor.plugin_npm_name,Channel:t.constructor.Channel,DescriptiveIncident:t}),t.children){var o=lr(t.children[r].leaf,e);null!==o&&n.addChild(o,t.children[r].position)}else n=new Bt(t,e);return n}var cr="@kissmybutton/self-contained-incidents",ur=function(t){h(n,t);var e=v(n);function n(t,i){var r;return a(this,n),(r=e.call(this,t,i)).attrs=t,r.props=i,r.isTheClip=!0,r.blockingWaitings={},r.instantiatedChannels={},r.isHostedClip=!0,r.instantiatedCopiesContexts={},r.instantiatedCopiesUnblockingMethods=[],r.onClipInitialise(),r.runTimeInfo=r.props.runTimeInfo,r.durationSubs=[],r.audioClip=!1,r}return c(n,[{key:"contextReady",get:function(){return this.context.contextLoaded}},{key:"onClipInitialise",value:function(){}},{key:"contextLoading",value:function(){this.context.contextLoaded=!1}},{key:"contextLoaded",value:function(){for(var t in this.context.contextLoaded=!0,this.putMessageOnPipe("contextLoaded",{},{},{selfExecute:!1,direction:lt}),this.instantiatedChannels)this.instantiatedChannels[t].recalcScratchValues();for(var e=0;e<this.instantiatedCopiesUnblockingMethods.length;e++)this.instantiatedCopiesUnblockingMethods[e]();this.unblock()}},{key:"getElements",value:function(t){if(null!==this.props.host&&void 0!==this.props.host)return this.context.getElements(t);var e=[];for(var n in this.instantiatedCopiesContexts)for(var i=this.instantiatedCopiesContexts[n].getElements(t),r=0;r<i.length;r++)e.push(i[r]);return e}},{key:"addContext",value:function(t){this.instantiatedCopiesContexts[t.clipId]=t.context,t.instantiatedCopiesContexts=this.instantiatedCopiesContexts,this.instantiatedCopiesUnblockingMethods.push(t.unblock);var e=this.putMessageOnPipe("addContext",t,{},{selfExecute:!1,direction:lt});if(1===Object.keys(this.instantiatedCopiesContexts).length){for(var n in this.instantiatedChannels)this.instantiatedChannels[n].recalcScratchValues(t.clipId);this.context.nonFragmentedContext=t.context}return e}},{key:"exportConstructionArguments",value:function(){return{attrs:this.attrs,props:this.props}}},{key:"_resize",value:function(t){for(var e in this.instantiatedChannels)this.instantiatedChannels[e]._resize(t);this.setNewDuration(this.duration*t);for(var n=0;n<this.durationSubs.length;n++)this.durationSubs[n](this.duration)}},{key:"addIncident",value:function(t){for(var e=this,n=this.putMessageOnPipe("addIncident",{incident:t.incident,millisecond:t.millisecond,parentGroupId:t.parentGroupId,incidentFromDescription:lr,contextData:{clipId:this.id,context:this.context,instantiatedCopiesContexts:this.instantiatedCopiesContexts},audio:this.audioClip},t.parentGroupId,{selfExecute:!0,direction:lt}),i={},r=0;r<n.length;r++){var o=n[r].response.getIncidentsByChannel(n[r].positionDelta+t.millisecond);for(var s in o){var a;Object.prototype.hasOwnProperty.call(i,s)||(i[s]=[]),(a=i[s]).push.apply(a,C(o[s]))}}var l=this.checkAddition(i);return l.result?{result:!0,execute:function(){l.execute();for(var i=0;i<n.length;i++)for(var r in n[i].responder.addChild(n[i].response,t.millisecond),n[i].responder.putMessageOnPipe("recalcDuration",{},"Groups",{selfExecute:!0,direction:at}),e.instantiatedCopiesContexts)n[i].responder.putMessageOnPipe("addContext",{clipId:r,context:e.instantiatedCopiesContexts[r]},"ContextAwareIncidents",{selfExecute:!1,direction:lt});e._calculateDuration()}}:l}},{key:"checkAddition",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all-or-nothing",n=!0,i=[],r=[];for(var o in t){Object.prototype.hasOwnProperty.call(this.instantiatedChannels,o)||(this.instantiatedChannels[o]=new t[o][0].incident.plugin_channel_class({runTimeInfo:this.runTimeInfo,context:this.context,subscribe:this.props.subscribe}));var s=this.instantiatedChannels[o].addIncidents(t[o],e);n=n&&s.result,s.result?r.push(s.execute):i=i.concat(s.errors)}var a=function(){for(var t=0;t<r.length;t++)r[t]()};return{result:n,errors:i,execute:a}}},{key:"moveIncident",value:function(t){for(var e=this.putMessageOnPipe("moveIncident",{incidentId:t.id,millisecond:t.millisecond,parentGroupId:t.parentGroupId,contextData:{clipId:this.id,context:this.context},audio:this.audioClip},t.parentGroupId,{selfExecute:!0,direction:lt}),n={},i=0;i<e.length;i++){var r=e[i].response.getIncidentsByChannel(e[i].positionDelta+t.millisecond);for(var o in r){var s;Object.prototype.hasOwnProperty.call(n,o)||(n[o]=[]),(s=n[o]).push.apply(s,C(r[o]))}}var a=this.checkMove(n,t.positionDelta);return a.result?{result:!0,execute:function(){a.execute();for(var n=0;n<e.length;n++)e[n].responder.editPosition(e[n].response.id,t.millisecond),e[n].responder.putMessageOnPipe("recalcDuration",{},"Groups",{selfExecute:!0,direction:at})}}:a}},{key:"checkMove",value:function(t,e){var n=!0,i=[],r=[];for(var o in t){var s=this.instantiatedChannels[o].editIncidents(t[o],e);n=n&&s.result,s.result?r.push(s.execute):i=i.concat(s.errors)}return{result:n,errors:i,execute:function(){for(var t=0;t<r.length;t++)r[t]()}}}},{key:"removeIncident",value:function(t){for(var e=this.putMessageOnPipe("removeIncident",{incidentId:t.id,parentGroupId:t.parentGroupId,contextData:{clipId:this.id,context:this.context},audio:this.audioClip},t.parentGroupId,{selfExecute:!0,direction:lt}),n={},i=0;i<e.length;i++){var r=e[i].response.getIncidentsByChannel();for(var o in r){var s;Object.prototype.hasOwnProperty.call(n,o)||(n[o]=[]),(s=n[o]).push.apply(s,C(r[o]))}}var a=this.checkDelete(n);return a.result?{result:!0,execute:function(){a.execute();for(var t=0;t<e.length;t++)e[t].responder.removeChild(e[t].response.id),e[t].responder.putMessageOnPipe("recalcDuration",{},"Groups",{selfExecute:!0,direction:at})}}:a}},{key:"checkDelete",value:function(t){var e=!0,n=[],i=[];for(var r in t){var o=this.instantiatedChannels[r].removeIncidents(t[r]);e=e&&o.result,o.result?i.push(o.execute):n=n.concat(o.errors)}return{result:e,errors:n,execute:function(){for(var t=0;t<i.length;t++)i[t]()}}}},{key:"resizeIncident",value:function(t){for(var e=this.putMessageOnPipe("resize",{incidentId:t.id,newSize:t.newSize,fraction:t.fraction,contextData:{clipId:this.id,context:this.context},audio:this.audioClip},t.id,{selfExecute:!1,direction:lt}),n={},i=0;i<e.length;i++){var r=e[i].response.getIncidentsByChannel(e[i].positionDelta);for(var o in r){var s;Object.prototype.hasOwnProperty.call(n,o)||(n[o]=[]),(s=n[o]).push.apply(s,C(r[o]))}}var a=0;e.length>0&&(a=e[0].positionDelta);var l=this.checkResize(t.fraction,n,a);return l.result?{result:!0,execute:function(){l.execute();for(var n=0;n<e.length;n++)e[n].responder.setNewDuration(t.newSize)}}:l}},{key:"checkResize",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=!0,r=[],o=[];for(var s in e){var a=rt.systoleDiastoleProjections(e[s],t,n),l=this.instantiatedChannels[s].checkResizedIncidents(a);i=i&&l.result,l.result?o.push(l.execute):r=r.concat(l.errors)}var c=function(){for(var t=0;t<o.length;t++)o[t]()};return{result:i,errors:r,execute:c}}},{key:"context",get:function(){var t,e;return null!==(e=(t=this.ownContext).contextLoaded)&&void 0!==e||(t.contextLoaded=!0),this.ownContext}},{key:"getIncidentsByChannel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e={};return e[cr]=[{millisecond:t,incident:this,id:this.id}],e}},{key:"setVolume",value:function(t){this.volume=parseFloat(t)}},{key:"_onGetContextOnce",value:function(t){}},{key:"handleRecalcDuration",value:function(t,e){if(this._calculateDuration())for(var n=0;n<this.durationSubs.length;n++)this.durationSubs[n](this.duration);return!0}},{key:"onProgress",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!1!==this.contextReady){for(var r in n||(n=this.id),this.instantiatedChannels){var o=this.instantiatedChannels[r];o.moveTo(this.runTimeInfo.currentMillisecond,e,n,i)}this.onAfterProgress(t,e)}else this.setBlock()}},{key:"onAfterProgress",value:function(t,e){}},{key:"flash",value:function(){for(var t in this.instantiatedChannels)this.instantiatedChannels[t].moveTo(0,this.runTimeInfo.currentMillisecond,this.id,!0)}},{key:"subscribeToDurationChange",value:function(t){this.durationSubs.push(t)}},{key:"handleSetBlockingWaiting",value:function(t,e){}},{key:"handleRemoveBlockingWaiting",value:function(t,e){}}]),n}(vt),pr=function(){function t(){a(this,t),this.output=F.createGain(),this.gainNode=F.createGain(),F.createStereoPanner&&(this.pannerNode=F.createStereoPanner()),F.createStereoPanner?(this.pannerNode.connect(this.gainNode),this.gainNode.connect(this.output),this.input=this.pannerNode):(this.gainNode.connect(this.output),this.input=this.gainNode)}return c(t,[{key:"connect",value:function(t){this.output.connect(t)}},{key:"disconnect",value:function(){this.output.disconnect()}}]),t}();function dr(t){for(var e=window.atob(t),n=e.length,i=new Uint8Array(n),r=0;r<n;r++)i[r]=e.charCodeAt(r);return i.buffer}var hr=/\[data(-mcid="+\w+")+\]/g,fr=function(){function t(){a(this,t),this.subscribers=[]}return c(t,[{key:"sub",value:function(t,e){this.subscribers.push(e)}},{key:"pub",value:function(t){for(var e=0;e<this.subscribers.length;e++)this.subscribers[e](t)}}]),t}(),mr=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;a(this,t),this.totalSources=n.length,this.audioSources={},this.elementsByMCID={};for(var r=function(t){var r=n[t],o={mcid:r.mcid||et(),id:r.id,src:r.src,classes:r.classes||[],base64:r.base64||!1,pubSub:new fr,soundLoaded:!1,startValues:r.startValues||{}};if(e.audioSources[o.id]=o,e.elementsByMCID[o.mcid]=o,r.base64)F.decodeAudioData(dr(r.src),(function(t){e._setBuffer(o,t,i)}));else{var s=new XMLHttpRequest;s.open("GET",o.src,!0),s.responseType="arraybuffer",e.soundLoaded=!1,s.onload=function(){F.decodeAudioData(s.response,(function(t){e._setBuffer(o,t,i)}),e.onError)},s.send()}},o=0;o<n.length;o++)r(o);this.context={document:document,window:window,rootElement:document.body,unmount:function(){},masterNode:i,audioContext:F,getElements:this.getElements.bind(this),getMCID:this.getMCID.bind(this),setMCID:this.setMCID.bind(this),getElementSelectorByMCID:this.getElementSelectorByMCID.bind(this),getElementByMCID:this.getElementByMCID.bind(this)}}return c(t,[{key:"_setBuffer",value:function(t,e,n){t.soundLoaded=!0,t.buffer=e,t.effectsAudioNode=new pr,t.effectsAudioNode.connect(n.input),t.pubSub.pub()}},{key:"getElementByMCID",value:function(t){return Object.prototype.hasOwnProperty.call(this.elementsByMCID,t)?this.elementsByMCID[t]:null}},{key:"getElements",value:function(t){if("~"!==t.charAt(0)){if(hr.exec(t)){var e=t.split('"')[1];return this.elementsByMCID[e]}return[]}if("#"===(t=t.substr(1)).charAt(0))return Object.prototype.hasOwnProperty.call(this.audioSources,t.substr(1))?[this.audioSources[t.substr(1)]]:[];if("."===t.charAt(0)){var n=t.substr(1),i=[];for(var r in this.audioSources)r.classes.indexOf(n)>=0&&i.push(r);return i}}},{key:"getMCID",value:function(t){return t.mcid}},{key:"setMCID",value:function(t,e){t.mcid=e}},{key:"getElementSelectorByMCID",value:function(t){return'[data-mcid="'.concat(t,'"]')}}]),t}(),gr=function(t){h(n,t);var e=v(n);function n(t,i){var r;a(this,n),(r=e.call(this,t,i)).audioNode=new pr,r.audioNode.connect(F.destination);var o=new mr(r.props.audioSources,r.audioNode);return r.ownContext=d(d({},o.context),{},{isHostedClip:!0}),r.audioClip=!0,r}return c(n,[{key:"onProgress",value:function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];b(f(n.prototype),"onProgress",this).call(this,t,e,this.id,r)}},{key:"_onGetContextOnce",value:function(t){this.audioNode.disconnect(),this.parentClipContext=t,this.audioNode.connect(t.masterNode.input)}},{key:"lastWish",value:function(){this.audioNode.output.disconnect(),this.audioNode.output.connect(F.destination)}},{key:"setVolume",value:function(t){this.audioNode.output.gain.value=t}}]),n}(ur),vr=function(t){h(n,t);var e=v(n);function n(){return a(this,n),e.apply(this,arguments)}return c(n,[{key:"onProgress",value:function(t){var e=this;if(!this.element.soundLoaded)return this.setBlock("loading sound"),this.element.pubSub.sub(this.id,(function(){e.unblock()})),!1;if("gain"===this.attributeKey){var n=(this.targetValue-this.initialValues)*t+this.initialValues;this.element.effectsAudioNode.gainNode.gain.value=n}else if("pan"===this.attributeKey){var i=(this.targetValue-this.initialValues)*t+this.initialValues;this.element.effectsAudioNode.pannerNode.pan.value=i}}},{key:"getScratchValue",value:function(){return"pan"===this.attributeKey?Object.prototype.hasOwnProperty.call(this.element.startValues,"pan")?this.element.startValues.pan:0:"gain"===this.attributeKey?Object.prototype.hasOwnProperty.call(this.element.startValues,"gain")?this.element.startValues.gain:1:void 0}}]),n}(St),yr=function(t){h(n,t);var e=v(n);function n(t){var i;return a(this,n),(i=e.call(this,t)).playingIncidentsIds=[],i.transitioned=!1,t.subscribe(et(),i._stateChange.bind(m(i)),0,1,!0),i}return c(n,[{key:"_stateChange",value:function(t,e){"paused"!==e&&"idle"!==e&&"blocked"!==e||(this._stopPlayingIncidents(),this.transitioned=!0)}},{key:"_stopPlayingIncidents",value:function(){for(var t=0;t<this.playingIncidentsIds.length;t++){var e=this.playingIncidentsIds[t].split("|||");this._incidentById(e[0]).stop(e[1])}this.playingIncidentsIds=[]}},{key:"moveTo",value:function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("transitional"===this.runTimeInfo.state||i){this.transitioned=!0,this._stopPlayingIncidents();for(var r=0;r<this.incidents.length;r++){var o=this.incidents[r],s=o.id,a=o.millisecond,l=this._incidentById(s),c=void 0,u=void 0;e<a?(c=0,u=0):e>a+l.duration?(c=1,u=l.duration):c=(u=e-a)/l.duration,l.onProgress(c,u,n,!0)}}else{this.transitioned&&(t=0,this.transitioned=!1);for(var p=this.incidents,d=0;d<p.length;d++){var h=p[d],f=h.millisecond,m=this._incidentById(h.id),g=m.duration,v=f+g,y="".concat(h.id).concat("|||").concat(n);if(f>=t&&f<e&&v>e){var b=(e-f)/g>=1,x=b?1:(e-f)/g,w=b?g:e-f,k=m.play(x,w,n);k&&this.playingIncidentsIds.push(y)}else if(v>t&&v<=e){m.stop(n);var C=this.playingIncidentsIds.indexOf(y);C>-1&&this.playingIncidentsIds.splice(C,1)}}this.runTimeInfo.currentMillisecond=e}}}]),n}(yt),br=T(null,(function(t){return{F:function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;a(this,e),t(this),this.attrs=n,this.props=i,this.dna=r,this.context=r.context,this.mcid=r.mcid,this.id=i.id||et(),this.modelId=i.modelId,this.gotContext=!1,this.plugin_channel_class=yr,this.mc_plugin_npm_name="motor-cortex-js-media-playback",Object.prototype.hasOwnProperty.call(i,"plugin_channel_class")&&(this.plugin_channel_class=i.plugin_channel_class),Object.prototype.hasOwnProperty.call(i,"mc_plugin_npm_name")&&(this.mc_plugin_npm_name=i.mc_plugin_npm_name),this.hasIncidents=!1,this.autoGenerated=!1,this.onInitialise(n,i)},d:[{kind:"get",key:"selector",value:function(){return this.props.selector}},{kind:"get",key:"element",value:function(){return this.context.getElementByMCID(this.mcid)}},{kind:"method",decorators:[It],key:"getIncidentsByChannel",value:function(){}},{kind:"method",key:"_onGetContextOnce",value:function(){try{if(!0===this.context.fragment)return;this.gotContext||(this.onGetContext(),this.gotContext=!0)}catch(t){rt.error(t),rt.error(this.mcid)}}},{kind:"method",key:"onGetContext",value:function(){rt.info('Overwritte the "onGetContext" method with the code you want to get executed',"info")}},{kind:"method",key:"lastWish",value:function(){}},{kind:"method",key:"onInitialise",value:function(){rt.info('Overwritte the "onInialise" method with the code you want to get executed',"info")}},{kind:"method",key:"onProgress",value:function(t,e){}},{kind:"method",key:"play",value:function(t){return!0}},{kind:"method",key:"stop",value:function(){}},{kind:"method",decorators:[mt],key:"setBlock",value:function(){}},{kind:"method",decorators:[gt],key:"unblock",value:function(){}}]}})),xr={npm_name:"@kissmybutton/motorcortex-soundsystem",name:"Internal MotorCortex Soundsystem",incidents:[{exportable:function(t){h(n,t);var e=v(n);function n(){return a(this,n),e.apply(this,arguments)}return c(n,[{key:"play",value:function(t){var e=this;if(!this.element.soundLoaded)return this.setBlock("loading sound"),this.element.pubSub.sub(this.id,(function(){e.unblock()})),!1;var n=0;return Object.prototype.hasOwnProperty.call(this.props,"startFrom")&&(n=this.props.startFrom),this.audioNode=F.createBufferSource(),this.audioNode.buffer=this.element.buffer,this.audioNode.connect(this.element.effectsAudioNode.input),this.audioNode.start(0,(t+n)/1e3),!0}},{key:"stop",value:function(){this.audioNode.stop()}}]),n}(br),name:"AudioPlayback"},{exportable:vr,name:"AudioEffect"}],Clip:{exportable:gr},audio:"only"},wr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;a(this,t),this.realArray=[],null!=e&&(this.realArray=e)}return c(t,[{key:"_hasOwnProperty",value:function(t){return Object.prototype.hasOwnProperty.call(this.realArray,t)}},{key:"_get",value:function(t){return this.realArray[t]}},{key:"_set",value:function(t,e){this.realArray[t]=e}},{key:"_keys",value:function(){return Object.keys(this.realArray)}},{key:"_delete",value:function(t){return delete this.realArray[t]}},{key:"_export",value:function(){return this.realArray}}]),t}(),kr=function(){function t(e){a(this,t),this.originalArray=e,this.extraArray={},this.addedKeys=[],this.removedKeys=[]}return c(t,[{key:"_hasOwnProperty",value:function(t){return Object.prototype.hasOwnProperty.call(this.originalArray,t)||Object.prototype.hasOwnProperty.call(this.extraArray,t)}},{key:"_get",value:function(t){return Object.prototype.hasOwnProperty.call(this.extraArray,t)?this.extraArray[t]:Object.prototype.hasOwnProperty.call(this.originalArray,t)?this.originalArray[t]:void 0}},{key:"_set",value:function(t,e){this.extraArray[t]=e,Object.prototype.hasOwnProperty.call(this.originalArray,t)||this.addedKeys.push(t);var n=this.removedKeys.indexOf(t);n>-1&&this.removedKeys.splice(n,1)}},{key:"_keys",value:function(){for(var t=Object.keys(this.originalArray).concat(this.addedKeys),e=0;e<this.removedKeys.length;e++){var n=this.removedKeys.indexOf(this.removedKeys[e]);t.splice(n,1)}return t}},{key:"_delete",value:function(t){var e=this.addedKeys.indexOf(t);return e>-1?(this.addedKeys.splice(e),delete this.extraArray[t]):this.removedKeys.push(t)}},{key:"_export",value:function(){for(var t in this.extraArray)this.originalArray[t]=this.extraArray[t];for(var e=0;e<this.removedKeys.length;e++)delete this.originalArray[this.removedKeys[e]];return this.originalArray}}]),t}();function Cr(t,e,n,i){var r=!1;for(var o in e)Object.prototype.hasOwnProperty.call(n,o)||(r=!0,i[o]=e[o]);return t.animatedAttributeValue=i,r}function Or(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=t[i],s=e._get(o.id);s.setInitialValue(n,r);var a=Cr(s,s.initialValue,s.originalAnimatedAttributeValue,JSON.parse(JSON.stringify(s.animatedAttributeValue)));a&&(s.lastWish(),s.onGetContext()),a&&i<t.length-1&&Or(t,e,s.animatedAttributeValue,i+1,!1)}var Er=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,t),this.lanes={},e.lanes&&(this.lanes=e.lanes),this.comboAttributes={},null!=e.comboAttributes&&(this.comboAttributes=e.comboAttributes),this.belongingLaneKeysByAnimationId={},e.belongingLaneKeysByAnimationId&&(this.belongingLaneKeysByAnimationId=e.belongingLaneKeysByAnimationId),this.incidentsById=new wr({}),e.incidentsById&&(this.incidentsById=e.incidentsById)}return c(t,[{key:"_resize",value:function(t){for(var e=Object.keys(this.lanes),n=0;n<e.length;n++)for(var i=e[n],r=this.lanes[i],o=0;o<r.length;o++)r[o].millisecond=r[o].millisecond*t}},{key:"createTestLanesSanbox",value:function(){var e={lanes:Rt(this.lanes),belongingLaneKeysByAnimationId:Rt(this.belongingLaneKeysByAnimationId),incidentsById:new kr(this.incidentsById._export())};return this.comboAttributes&&(e.comboAttributes=this.comboAttributes),new t(e)}},{key:"getLane",value:function(t,e){return this.lanes[nt(t,e)]}},{key:"applySandboxChanges",value:function(t){this.lanes=t.lanes.exportFlattened(),this.belongingLaneKeysByAnimationId=t.belongingLaneKeysByAnimationId.exportFlattened(),this.incidentsById=new wr(t.incidentsById._export())}},{key:"laneExists",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=nt(t,e);return!!this.lanes.hasOwnProperty(i)||(n&&this.lanes.setValue(i,[]),!1)}},{key:"getOverlappingAnims",value:function(t,e,n){var i=this,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return Array.from(this.lanes[nt(e,n)]||[]).filter((function(e){var n=t.incident.duration;null!=o&&(n=o);var s=i.incidentsById._get(e.id).duration;return e.id!==t.incident.id&&!r.includes(e.id)&&(e.millisecond>=t.millisecond&&e.millisecond<n+t.millisecond||e.millisecond+s>t.millisecond&&e.millisecond+s<=n+t.millisecond||e.millisecond<t.millisecond&&e.millisecond+s>n+t.millisecond)}))}},{key:"addElementToLane",value:function(t,e,n,i){var r=this,o=[],s=nt(t,e);this.incidentsById._set(i.id,i);var a={millisecond:n,id:i.id};this.laneExists(t,e,!0),this.lanes.pushValue(s,a),this.lanes[s].sortBy("millisecond");var l=this.lanes[s],c=this.lanes[s].findIndex((function(t){return t.id===i.id}));return Object.prototype.hasOwnProperty.call(i.id)||this.belongingLaneKeysByAnimationId.setValue(i.id,[]),this.belongingLaneKeysByAnimationId.pushValue(i.id,s),0===c?this.lanes[s].length>1?o.push((function(){i.setInitialValue(r.incidentsById._get(l[1].id).pureInitialValues)})):o.push((function(){i.setInitialValue()})):o.push((function(){i.setInitialValue(r.incidentsById._get(l[c-1].id).animatedAttributeValue)})),Object.prototype.hasOwnProperty.call(this.comboAttributes,e)&&o.push((function(){return Or(l,r.incidentsById,i.initialValue,c)})),c+1<l.length&&o.push((function(){r.incidentsById._get(l[c+1].id).setInitialValue(i.animatedAttributeValue),r.incidentsById._get(l[c+1].id).gotContext&&(r.incidentsById._get(l[c+1].id).lastWish(),r.incidentsById._get(l[c+1].id).onGetContext())})),o}},{key:"updateLane",value:function(t,e){for(var n=this,i={},r=0;r<t.length;r++)for(var o=this.belongingLaneKeysByAnimationId[t[r]],s=0;s<o.length;s++){var a=o[s];Object.prototype.hasOwnProperty.call(i,a)||(i[a]={animations:[],lane:this.lanes[a],laneData:Z(o[s])}),i[a].animations.push(t[r])}for(var l in i){var c=i[l],u=c.laneData,p=c.lane,d=c.animations,h=C(p);h.sort((function(t,e){return t.millisecond-e.millisecond}));for(var f=Object.prototype.hasOwnProperty.call(this.comboAttributes,u.attribute),m=0;m<p.length;m++)d.includes(p[m].id)&&(p[m].millisecond+=e);p.sort((function(t,e){return t.millisecond-e.millisecond})),this.lanes[l]=p;for(var g=function(t){var e=d[t],i=h.findIndex((function(t){return t.id===e})),r=p.findIndex((function(t){return t.id===e}));if(i===r&&r<=1)return"continue";var o=n.incidentsById._get(p[r].id);if(i+1<p.length)if(0===i)if(f)Or(p,n.incidentsById,o.pureInitialValues,0,!0);else{var s=n.incidentsById._get(h[1].id);s.setInitialValue(o.pureInitialValues),s.onGetContext()}else if(f){var a=r>i?i:r;Or(p,n.incidentsById,n.incidentsById._get(h[i-1].id).animatedAttributeValue,a,!0)}else n.incidentsById._get(h[i+1].id).setInitialValue(n.incidentsById._get(h[i-1].id).animatedAttributeValue),n.incidentsById._get(h[i+1].id).onGetContext();if(0===r?f?Or(p,n.incidentsById,n.incidentsById._get(h[0].id).pureInitialValues,r,!0):(o.setInitialValue(n.incidentsById._get(h[0].id).pureInitialValues),o.onGetContext()):f?Or(p,n.incidentsById,n.incidentsById._get(p[r-1].id).animatedAttributeValue,r,!0):(o.setInitialValue(n.incidentsById._get(p[r-1].id).animatedAttributeValue),o.onGetContext()),r+1>=p.length)return"continue";if(f)return Or(p,n.incidentsById,o.animatedAttributeValue,r+1,!0),"continue";var l=n.incidentsById._get(p[r+1].id);l.setInitialValue(o.animatedAttributeValue),l.onGetContext()},v=0;v<d.length;v++)g(v)}}},{key:"deleteAnimations",value:function(t){for(var e={},n=0;n<t.length;n++){for(var i=t[n],r=this.belongingLaneKeysByAnimationId[i],o=0;o<r.length;o++){for(var s=this.lanes[r[o]],a=-1,l=0;l<s.length;l++)if(s[l].id===i){a=l;break}for(var c=d({},s[a]),u=this.incidentsById._get(c.id),p=Z(r[o]),h=[],f=0;f<s.length;f++)s[f].id!==i&&h.push(s[f]);if(this.lanes[r[o]]=h,0!==(s=this.lanes[r[o]]).length){e[r[o]]=Z(r[o]);var m=this.incidentsById._get(c.id).pureInitialValues;if(!(a>=s.length||!1===m))if(Object.prototype.hasOwnProperty.call(this.comboAttributes,p.attribute))Or(s,this.incidentsById,m,a,!0);else{var g=this.incidentsById._get(s[a].id);g.setInitialValue(m),g.onGetContext()}}else u.onProgress(0,0),delete this.lanes[r[o]],Object.prototype.hasOwnProperty.call(e,r[o])&&delete e[r[o]]}delete this.belongingLaneKeysByAnimationId[t[n]]}return e}},{key:"recalcScratchValues",value:function(t){for(var e=Object.keys(this.lanes),n=0;n<e.length;n++){var i=e[n],r=this.lanes[i];if(r.length>0){var o=this.incidentsById._get(r[0].id),s=o.getScratchValue(t),a=Z(i);Object.prototype.hasOwnProperty.call(this.comboAttributes,a.attribute)?Or(r,this.incidentsById,s,0,!0):o.setInitialValue(s),o.lastWish(),o.onGetContext()}}}}]),t}(),Pr=function(t){h(n,t);var e=v(n);function n(t){var i;return a(this,n),(i=e.call(this,t)).comboAttributes={},i.fixedAttributeName="_",null!=t.comboAttributes&&(i.comboAttributes=t.comboAttributes),i.LanesHandler=new Er({comboAttributes:i.comboAttributes}),i}return c(n,[{key:"setComboAttributes",value:function(t){this.comboAttributes=t,this.LanesHandler=new Er({comboAttributes:this.comboAttributes})}},{key:"lanes",get:function(){return this.LanesHandler.lanes}},{key:"incidentsById",get:function(){return this.LanesHandler.incidentsById}},{key:"_resize",value:function(t){this.LanesHandler._resize(t)}},{key:"checkAddition",value:function(t){for(var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all-or-nothing",i=this.LanesHandler.createTestLanesSanbox(),r=[],o=[],s=[],a=function(n){var a=!1,l=t[n],c=l.incident,u=c.mcid,p=c.attribute||e.fixedAttributeName;i.laneExists(u,p),r.push({mcid:u,attribute:p});var d=i.getOverlappingAnims(l,u,p);if(d.length>0&&(a=!0,s.push({type:"unauthorised, overlapping incidents on the same element",meta:{element_mcid:u,attribute:p,incident:l,overlappingAnims:d}})),!a){var h=i.addElementToLane(u,p,l.millisecond,c);o.push((function(){for(var t=0;t<h.length;t++)h[t]();c._onGetContextOnce()}))}},l=0;l<t.length;l++)a(l);if(s.length>0&&"all-or-nothing"===n)return{result:!1,errors:s};var c=this.LanesHandler,u=function(){for(var t=0;t<r.length;t++){var e=nt(r[t].mcid,r[t].attribute),n=i.lanes[e].exportFlattened();n.sort((function(t,e){return t.millisecond-e.millisecond})),i.lanes.setValue(e,n)}for(var s=0;s<o.length;s++)o[s]();c.applySandboxChanges(i)};return{result:!0,errors:s,execute:u}}},{key:"checkEdit",value:function(t,e){for(var n=[],i=0;i<t.length;i++)n.push(t[i].id);for(var r=this.LanesHandler.createTestLanesSanbox(),o=[],s=0;s<t.length;s++)for(var a=t[s].incident.id,l=t[s].incident.mcid,c=t[s].incident.attribute||this.fixedAttributeName,u=r.getLane(l,c),p=0;p<u.length;p++)if(u[p].id===a){var h=d({},u[p]);h.millisecond+=e,h.incident=r.incidentsById._get(h.id);var f=r.getOverlappingAnims(h,l,c,n);f.length>0&&o.push({type:"anauthorised, overlapping animations on the same element",meta:{element_mcid:l,attribute:c,newAnimation:h,overlappingAnims:f}});break}if(o.length>0)return{result:!1,errors:o};var m=this;return{result:!0,execute:function(){m.LanesHandler.updateLane(n,e)}}}},{key:"checkResizedIncidents",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],i=0;i<t.length;i++)n.push(t[i].id);for(var r=this.LanesHandler.createTestLanesSanbox(),o=[],s=0;s<t.length;s++)for(var a=this.LanesHandler.incidentsById._get(t[s].id),l=a.mcid,c=a.attribute||this.fixedAttributeName,u=r.getLane(l,c),p={mcid:l,attribute:c},h=t[s].end-t[s].start,f=0;f<u.length;f++)if(u[f].id===t[s].id){if(!e){var m=u[f],g=d({},m);g.millisecond+=t[s].startDelta,g.incident=r.incidentsById._get(g.id);var v=r.getOverlappingAnims(g,p.mcid,p.attribute,n,h);v.length>0&&o.push({type:"anauthorised overlapping animations on the same element",meta:{element_mcid:p.mcid,attribute:p.attribute,newAnimation:g,overlappingAnims:v}})}break}if(o.length>0)return{result:!1,errors:o};var y=this,b=function(){for(var e=0;e<t.length;e++)y.LanesHandler.updateLane([t[e].id],t[e].startDelta)};return{execute:b,result:!0}}},{key:"checkDelete",value:function(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].id);var i=this;return{result:!0,execute:function(){i.LanesHandler.deleteAnimations(e)}}}},{key:"recalcScratchValues",value:function(t){this.LanesHandler.recalcScratchValues(t)}},{key:"slipIntoLaneForwards",value:function(t,e,n,i){var r=this,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=t.filter((function(t){var i=r.incidentsById._get(t.id).duration+t.millisecond;return i>=e&&i<=n||i>=n&&t.millisecond<=n}));if(0===s.length){if(o&&0===e){var a=this.incidentsById._get(t[0].id);a.onProgress(0,0,i)}return!0}var l=s.length-1,c=this.incidentsById._get(s[l].id),u=s[l].millisecond,p=1,d=c.duration;c.duration+u>n&&(p=(d=n-u)/c.duration),c.onProgress(p,d,i)}},{key:"slipToLaneBackwards",value:function(t,e,n,i){var r=this,o=t.filter((function(t){var i=r.incidentsById._get(t.id).duration+t.millisecond;return i<=n&&i>=e||t.millisecond>=e&&t.millisecond<=n||t.millisecond<e&&i>n}));if(0===o.length)return!0;var s=this.incidentsById._get(o[0].id),a=o[0].millisecond,l=0,c=0;a<n&&(l=(n-a)/s.duration,c=n-a),s.onProgress(l,c,i)}},{key:"moveTo",value:function(t,e,n){for(var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=Object.keys(this.lanes),o=0;o<r.length;o++){var s=this.lanes[r[o]];t<=e?this.slipIntoLaneForwards(s,t,e,n,i):this.slipToLaneBackwards(s,t,e,n,i)}}}]),n}(st);u(Pr,"type","attributes");var Ir=function(){function t(){a(this,t),this.customEntities={}}return c(t,[{key:"calcClipDims",value:function(t){var e={use:!1,width:null,height:null};return Object.prototype.hasOwnProperty.call(t,"originalDims")&&null!==t.originalDims.width&&void 0!==t.originalDims.width&&null!==t.originalDims.height&&void 0!==t.originalDims.height?{use:!0,width:t.originalDims.width.number+t.originalDims.width.unit,height:t.originalDims.height.number+t.originalDims.height.unit}:(Object.prototype.hasOwnProperty.call(t,"containerParams")&&(Object.prototype.hasOwnProperty.call(t.containerParams,"width")&&(e.use=!0,e.width=t.containerParams.width),Object.prototype.hasOwnProperty.call(t.containerParams,"height")&&(e.use=!0,e.height=t.containerParams.height)),e)}},{key:"scalingCalculator",value:function(t){if(!Object.prototype.hasOwnProperty.call(t,"containerParams")||!Object.prototype.hasOwnProperty.call(t,"originalDims"))return{width:1,height:1};if(!(null!==t.originalDims.width&&void 0!==t.originalDims.width||null!==t.originalDims.height&&void 0!==t.originalDims.height))return{width:1,height:1};var e=Q(t.containerParams),n=null,i=null;return null!==e.width&&null!==t.originalDims.width&&(e.width.unit===t.originalDims.width.unit?n=e.width.number/t.originalDims.width.number:rt.warning("containerParams and originalDims width of Incident have different dimensions.\n          containerParams.width will be ignored")),null!==e.height&&null!==t.originalDims.height&&(e.height.unit===t.originalDims.height.unit?i=e.height.number/t.originalDims.height.number:rt.warning("containerParams and originalDims height of Incident have different dimensions.\n          containerParams.width will be ignored")),null===n&&null===i?{width:1,height:1}:(null!==n&null===i?i=n:null!==i&null===n&&(n=i),{width:n,height:i})}},{key:"getElementByMCID",value:function(t){if(Object.prototype.hasOwnProperty.call(this.customEntities,t))return this.customEntities[t];if(Object.prototype.hasOwnProperty.call(this.elementsByMCID,t))return this.elementsByMCID[t];var e=this.context.rootElement.querySelector(this.getElementSelectorByMCID(t));return this.elementsByMCID[t]=e,e}},{key:"getElements",value:function(t){if(null==t||""===t)return[];if("!"===t.charAt(0)){if("#"===(t=t.substr(1)).charAt(0))return[this.customEntities[t.substr(1)]];if("."===t.charAt(0)){var e=[];for(var n in this.customEntities){var i=this.customEntities[n];i.classes.indexOf(t.substr(1))>-1&&e.push(i)}return e}}return Array.from(this.context.rootElement.querySelectorAll(t))}},{key:"getMCID",value:function(t){return!0===t.customEntity?t.id:t.getAttribute(L)}},{key:"setMCID",value:function(t,e){t.setAttribute(L,e)}},{key:"getElementSelectorByMCID",value:function(t){return Object.prototype.hasOwnProperty.call(this.customEntities,t)?"!#".concat(t):"[".concat(L,'="').concat(t,'"]')}},{key:"setCustomEntity",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return Object.prototype.hasOwnProperty.call(this.customEntities,t)?(rt.error("Clip ".concat(this.id," already has custom Entity with id: ").concat(t)),!1):(this.customEntities[t]={id:t,entity:e,classes:n,customEntity:!0},!0)}}]),t}(),Sr=Oe((function(t,e){var n=/[|\\{}()[\]^$+*?.]/g;e.escapeRegExpChars=function(t){return t?String(t).replace(n,"\\$&"):""};var i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},r=/[&<>'"]/g;function o(t){return i[t]||t}e.escapeXML=function(t){return null==t?"":String(t).replace(r,o)},e.escapeXML.toString=function(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'},e.shallowCopy=function(t,e){for(var n in e=e||{})t[n]=e[n];return t},e.shallowCopyFromList=function(t,e,n){for(var i=0;i<n.length;i++){var r=n[i];void 0!==e[r]&&(t[r]=e[r])}return t},e.cache={_data:{},set:function(t,e){this._data[t]=e},get:function(t){return this._data[t]},remove:function(t){delete this._data[t]},reset:function(){this._data={}}},e.hyphenToCamel=function(t){return t.replace(/-[a-z]/g,(function(t){return t[1].toUpperCase()}))}})),Ar=Oe((function(t,e){
/**
   * @file Embedded JavaScript templating engine. {@link http://ejs.co}
   * @author Matthew Eernisse <mde@fleegix.org>
   * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
   * @project EJS
   * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
   */
var n=o.default,i=!1,s="locals",a=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],l=a.concat("cache"),c=/^\uFEFF/;function u(t,n){var i;if(n.some((function(n){return i=e.resolveInclude(t,n,!0),r.default.existsSync(i)})))return i}function p(t,n){var i,r=t.filename,o=arguments.length>1;if(t.cache){if(!r)throw new Error("cache option requires a filename");if(i=e.cache.get(r))return i;o||(n=h(r).toString().replace(c,""))}else if(!o){if(!r)throw new Error("Internal EJS error: no file name or template provided");n=h(r).toString().replace(c,"")}return i=e.compile(n,t),t.cache&&e.cache.set(r,i),i}function d(t,n,i){var r;if(!i){if("function"==typeof e.promiseImpl)return new e.promiseImpl((function(e,i){try{e(r=p(t)(n))}catch(t){i(t)}}));throw new Error("Please provide a callback function")}try{r=p(t)(n)}catch(t){return i(t)}i(null,r)}function h(t){return e.fileLoader(t)}function f(t,n){var i=Sr.shallowCopy({},n);if(i.filename=function(t,n){var i,o,s=n.views,a=/^[A-Za-z]+:\\|^\//.exec(t);if(a&&a.length)t=t.replace(/^\/*/,""),i=Array.isArray(n.root)?u(t,n.root):e.resolveInclude(t,n.root||"/",!0);else if(n.filename&&(o=e.resolveInclude(t,n.filename),r.default.existsSync(o)&&(i=o)),!i&&Array.isArray(s)&&(i=u(t,s)),!i&&"function"!=typeof n.includer)throw new Error('Could not find the include file "'+n.escapeFunction(t)+'"');return i}(t,i),"function"==typeof n.includer){var o=n.includer(t,i.filename);if(o&&(o.filename&&(i.filename=o.filename),o.template))return p(i,o.template)}return p(i)}function m(t,e,n,i,r){var o=e.split("\n"),s=Math.max(i-3,0),a=Math.min(o.length,i+3),l=r(n),c=o.slice(s,a).map((function(t,e){var n=e+s+1;return(n==i?" >> ":"    ")+n+"| "+t})).join("\n");throw t.path=l,t.message=(l||"ejs")+":"+i+"\n"+c+"\n\n"+t.message,t}function g(t){return t.replace(/;(\s*$)/,"$1")}function v(t,n){n=n||{};var i={};this.templateText=t,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",i.client=n.client||!1,i.escapeFunction=n.escape||n.escapeFunction||Sr.escapeXML,i.compileDebug=!1!==n.compileDebug,i.debug=!!n.debug,i.filename=n.filename,i.openDelimiter=n.openDelimiter||e.openDelimiter||"<",i.closeDelimiter=n.closeDelimiter||e.closeDelimiter||">",i.delimiter=n.delimiter||e.delimiter||"%",i.strict=n.strict||!1,i.context=n.context,i.cache=n.cache||!1,i.rmWhitespace=n.rmWhitespace,i.root=n.root,i.includer=n.includer,i.outputFunctionName=n.outputFunctionName,i.localsName=n.localsName||e.localsName||s,i.views=n.views,i.async=n.async,i.destructuredLocals=n.destructuredLocals,i.legacyInclude=void 0===n.legacyInclude||!!n.legacyInclude,i.strict?i._with=!1:i._with=void 0===n._with||n._with,this.opts=i,this.regex=this.createRegex()}e.cache=Sr.cache,e.fileLoader=r.default.readFileSync,e.localsName=s,e.promiseImpl=new Function("return this;")().Promise,e.resolveInclude=function(t,e,i){var r=n.dirname,o=n.extname,s=(0,n.resolve)(i?e:r(e),t);return o(t)||(s+=".ejs"),s},e.compile=function(t,e){return e&&e.scope&&(i||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),i=!0),e.context||(e.context=e.scope),delete e.scope),new v(t,e).compile()},e.render=function(t,e,n){var i=e||{},r=n||{};return 2==arguments.length&&Sr.shallowCopyFromList(r,i,a),p(r,t)(i)},e.renderFile=function(){var t,e,n,i=Array.prototype.slice.call(arguments),r=i.shift(),o={filename:r};return"function"==typeof arguments[arguments.length-1]&&(t=i.pop()),i.length?(e=i.shift(),i.length?Sr.shallowCopy(o,i.pop()):(e.settings&&(e.settings.views&&(o.views=e.settings.views),e.settings["view cache"]&&(o.cache=!0),(n=e.settings["view options"])&&Sr.shallowCopy(o,n)),Sr.shallowCopyFromList(o,e,l)),o.filename=r):e={},d(o,e,t)},e.Template=v,e.clearCache=function(){e.cache.reset()},v.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},v.prototype={createRegex:function(){var t="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",e=Sr.escapeRegExpChars(this.opts.delimiter),n=Sr.escapeRegExpChars(this.opts.openDelimiter),i=Sr.escapeRegExpChars(this.opts.closeDelimiter);return t=t.replace(/%/g,e).replace(/</g,n).replace(/>/g,i),new RegExp(t)},compile:function(){var t,e,i,r=this.opts,o="",s="",a=r.escapeFunction,l=r.filename?JSON.stringify(r.filename):"undefined";if(!this.source){if(this.generateSource(),o+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',r.outputFunctionName&&(o+="  var "+r.outputFunctionName+" = __append;\n"),r.destructuredLocals&&r.destructuredLocals.length){for(var c="  var __locals = ("+r.localsName+" || {}),\n",u=0;u<r.destructuredLocals.length;u++){var p=r.destructuredLocals[u];u>0&&(c+=",\n  "),c+=p+" = __locals."+p}o+=c+";\n"}!1!==r._with&&(o+="  with ("+r.localsName+" || {}) {\n",s+="  }\n"),s+="  return __output;\n",this.source=o+this.source+s}t=r.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+l+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,r.client&&(t="escapeFn = escapeFn || "+a.toString()+";\n"+t,r.compileDebug&&(t="rethrow = rethrow || "+m.toString()+";\n"+t)),r.strict&&(t='"use strict";\n'+t),r.debug&&console.log(t),r.compileDebug&&r.filename&&(t=t+"\n//# sourceURL="+l+"\n");try{if(r.async)try{i=new Function("return (async function(){}).constructor;")()}catch(t){throw t instanceof SyntaxError?new Error("This environment does not support async/await"):t}else i=Function;e=new i(r.localsName+", escapeFn, include, rethrow",t)}catch(t){throw t instanceof SyntaxError&&(r.filename&&(t.message+=" in "+r.filename),t.message+=" while compiling ejs\n\n",t.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",t.message+="https://github.com/RyanZim/EJS-Lint",r.async||(t.message+="\n",t.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),t}var d=r.client?e:function(t){return e.apply(r.context,[t||{},a,function(e,n){var i=Sr.shallowCopy({},t);return n&&(i=Sr.shallowCopy(i,n)),f(e,r)(i)},m])};if(r.filename&&"function"==typeof Object.defineProperty){var h=r.filename,g=n.basename(h,n.extname(h));try{Object.defineProperty(d,"name",{value:g,writable:!1,enumerable:!1,configurable:!0})}catch(t){}}return d},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var t=this,e=this.parseTemplateText(),n=this.opts.delimiter,i=this.opts.openDelimiter,r=this.opts.closeDelimiter;e&&e.length&&e.forEach((function(o,s){var a;if(0===o.indexOf(i+n)&&0!==o.indexOf(i+n+n)&&(a=e[s+2])!=n+r&&a!="-"+n+r&&a!="_"+n+r)throw new Error('Could not find matching close tag for "'+o+'".');t.scanLine(o)}))},parseTemplateText:function(){for(var t,e=this.templateText,n=this.regex,i=n.exec(e),r=[];i;)0!==(t=i.index)&&(r.push(e.substring(0,t)),e=e.slice(t)),r.push(i[0]),e=e.slice(i[0].length),i=n.exec(e);return e&&r.push(e),r},_addOutput:function(t){if(this.truncate&&(t=t.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!t)return t;t=(t=(t=(t=t.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+t+'")\n'},scanLine:function(t){var e,n=this.opts.delimiter,i=this.opts.openDelimiter,r=this.opts.closeDelimiter;switch(e=t.split("\n").length-1,t){case i+n:case i+n+"_":this.mode=v.modes.EVAL;break;case i+n+"=":this.mode=v.modes.ESCAPED;break;case i+n+"-":this.mode=v.modes.RAW;break;case i+n+"#":this.mode=v.modes.COMMENT;break;case i+n+n:this.mode=v.modes.LITERAL,this.source+='    ; __append("'+t.replace(i+n+n,i+n)+'")\n';break;case n+n+r:this.mode=v.modes.LITERAL,this.source+='    ; __append("'+t.replace(n+n+r,n+r)+'")\n';break;case n+r:case"-"+n+r:case"_"+n+r:this.mode==v.modes.LITERAL&&this._addOutput(t),this.mode=null,this.truncate=0===t.indexOf("-")||0===t.indexOf("_");break;default:if(this.mode){switch(this.mode){case v.modes.EVAL:case v.modes.ESCAPED:case v.modes.RAW:t.lastIndexOf("//")>t.lastIndexOf("\n")&&(t+="\n")}switch(this.mode){case v.modes.EVAL:this.source+="    ; "+t+"\n";break;case v.modes.ESCAPED:this.source+="    ; __append(escapeFn("+g(t)+"))\n";break;case v.modes.RAW:this.source+="    ; __append("+g(t)+")\n";break;case v.modes.COMMENT:break;case v.modes.LITERAL:this._addOutput(t)}}else this._addOutput(t)}this.opts.compileDebug&&e&&(this.currentLine+=e,this.source+="    ; __line = "+this.currentLine+"\n")}},e.escapeXML=Sr.escapeXML,e.__express=e.renderFile,e.VERSION="3.1.6",e.name="ejs","undefined"!=typeof window&&(window.ejs=e)}));function Tr(t,e){return W(t)?t(e):Ar.render(t,{initParams:e})}var Mr=function(t){h(n,t);var e=v(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a(this,n),t=e.call(this),!q(i))return rt.error("ContextHandler expects an object on its constructor. ".concat(s(i)," passed")),g(t,!1);if(!Object.prototype.hasOwnProperty.call(i,"html"))return rt.error("ContextHandler expects the html key on its constructor properties which is missing"),g(t,!1);if(!Object.prototype.hasOwnProperty.call(i,"css"))return rt.error("ContextHandler expects the css key on its constructor properties which is missing"),g(t,!1);if(Object.prototype.hasOwnProperty.call(i,"initParams")||rt.info("ContextHandler got null initParams"),!Object.prototype.hasOwnProperty.call(i,"host"))return rt.error("ContextHandler expects the host key on its constructor properties which is missing"),g(t,!1);t.isDOM=!0;var r=i.host.ownerDocument;if(!r.getElementById("@kissmybutton/motorcortex/iframeContextHandler/css")){var o="\n            iframe[seamless]{\n                background-color: transparent;\n                border: 0px none transparent;\n                padding: 0px;\n                overflow: hidden;\n            }\n            ",l=r.createElement("style");l.id="@kissmybutton/motorcortex/iframeContextHandler/css",l.type="text/css";var c=r.head||r.getElementsByTagName("head")[0];l.styleSheet?l.styleSheet.cssText=o:l.appendChild(r.createTextNode(o)),c.appendChild(l)}var u=r.createElement("iframe");i.host.appendChild(u);var p=t.scalingCalculator(i),d=t.calcClipDims(i);u.setAttribute("seamless","seamless"),!0===d.use&&(null!==d.width&&u.setAttribute("width",d.width),null!==d.height&&u.setAttribute("height",d.height)),u.style.transform="scale(".concat(p.width,", ").concat(p.height,")"),u.style.transformOrigin="top left",u.style.position="absolute",u.src="";var h=u.contentWindow||u.contentDocument;h.document&&(h=h.document),h.write(Tr(i.html,i.initParams));var f="\n        body{\n            padding:0;\n            margin:0;\n        }\n        ",v=h.createElement("style");v.type="text/css",v.styleSheet?v.styleSheet.cssText=Tr(i.css,i.initParams)+f:v.appendChild(r.createTextNode(Tr(i.css,i.initParams)+f));var y=h.head||h.getElementsByTagName("head")[0];if(y.appendChild(v),Object.prototype.hasOwnProperty.call(i,"fonts"))for(var b=0;b<i.fonts.length;b++){var x=i.fonts[b];if("google-font"===x.type){var w=h.createElement("link");w.setAttribute("rel","stylesheet"),w.setAttribute("href",x.src),y.appendChild(w)}}return t.rootElement=u,h.close(),t.context={document:h,window:u.contentWindow||u,clipContainer:u,rootElement:h.body,unmount:function(){i.host.removeChild(u)},getElements:t.getElements.bind(m(t)),getMCID:t.getMCID.bind(m(t)),setMCID:t.setMCID.bind(m(t)),getElementSelectorByMCID:t.getElementSelectorByMCID.bind(m(t)),getElementByMCID:t.getElementByMCID.bind(m(t)),setCustomEntity:t.setCustomEntity.bind(m(t))},t.elementsByMCID={},t}return n}(Ir),_r=function(t){h(n,t);var e=v(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a(this,n),t=e.call(this),!q(i))return rt.error("ContextHandler expects an object on its constructor. ".concat(s(i)," passed")),g(t,!1);if(!Object.prototype.hasOwnProperty.call(i,"html"))return rt.error("ContextHandler expects the html key on its constructor properties which is missing"),g(t,!1);if(!Object.prototype.hasOwnProperty.call(i,"css"))return rt.error("ContextHandler expects the css key on its constructor properties which is missing"),g(t,!1);if(!Object.prototype.hasOwnProperty.call(i,"host"))return rt.error("ContextHandler expects the host key on its constructor properties which is missing"),g(t,!1);t.isDOM=!0;var r=i.host.shadowRoot;r||(r=i.host.attachShadow({mode:"open"}));var o=document.createElement("div"),l=t.scalingCalculator(i),c=t.calcClipDims(i);o.setAttribute("data-motorocortex-container","true"),!0===c.use&&(null!==c.width&&(o.style.width=c.width),null!==c.height&&(o.style.height=c.height)),o.style.transform="scale(".concat(l.width,", ").concat(l.height,")"),o.style.transformOrigin="top left",o.style.position="absolute",o.style.overflow="hidden",o.innerHTML=Tr(i.html,i.initParams),r.appendChild(o);var u=document.createElement("slot");r.appendChild(u);var p=document.createElement("style");if(p.type="text/css",p.styleSheet?p.styleSheet.cssText=Tr(i.css,i.initParams):p.appendChild(document.createTextNode("[data-motorocortex-container] { all: initial; }"+Tr(i.css,i.initParams))),r.appendChild(p),t.fontTags=[],Object.prototype.hasOwnProperty.call(i,"fonts"))for(var d=0;d<i.fonts.length;d++){var h=i.fonts[d];if("google-font"===h.type){var f=document.createElement("link");f.setAttribute("rel","stylesheet"),f.setAttribute("href",h.src),document.getElementsByTagName("head")[0].appendChild(f),t.fontTags.push(f)}}return o.style.overflow="hidden",t.rootElement=o,t.context={document:document,window:window,clipContainer:t.rootElement,rootElement:o,unmount:function(){try{r.innerHTML="";for(var t=0;t<this.fontTags.length;t++)document.getElementsByTagName("head")[0].removeChild(this.fontTags[t])}catch(t){rt.warning("The element of the Clip to be removed seems not to exist any more")}},getElements:t.getElements.bind(m(t)),getMCID:t.getMCID.bind(m(t)),setMCID:t.setMCID.bind(m(t)),getElementSelectorByMCID:t.getElementSelectorByMCID.bind(m(t)),getElementByMCID:t.getElementByMCID.bind(m(t)),setCustomEntity:t.setCustomEntity.bind(m(t))},t.elementsByMCID={},t}return n}(Ir),jr=function(t){h(n,t);var e=v(n);function n(){var t,i,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,n),null===s?(i={},r=o):(i=o,r=s),t=e.call(this,i,r),r=d(d({},r),{},{html:""!==t.html?t.html:r.html,css:""!==t.css?t.css:r.css,fonts:t.fonts.length>0?t.fonts:r.fonts});var l=R;t.clipType=l;var c=new(document.head.createShadowRoot||document.head.attachShadow?_r:Mr)(r);return t.ownContext=d(d({},c.context),{},{isHostedClip:t.isHostedClip,initParams:r.initParams}),t.iframe=c.iframeElement,t.forceExportIncidents=!0,t.onAfterRender(),t}return c(n,[{key:"onAfterRender",value:function(){}},{key:"html",get:function(){return""}},{key:"css",get:function(){return""}},{key:"fonts",get:function(){return[]}},{key:"rootElement",get:function(){return this.context.clipContainer}},{key:"exportConstructionArguments",value:function(){return{attrs:this.attrs,props:d(d({},this.props),{},{host:void 0,html:!0===this.DescriptiveIncident.constructor.customClip?"":this.context.rootElement.innerHTML})}}},{key:"setCustomEntity",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.context.setCustomEntity(t,e,n)}}]),n}(ur),Dr=function(t){h(n,t);var e=v(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a(this,n),t=e.call(this);var r=d({},i);if(!q(r))return rt.error("HTMLFragmentContextHandler expects an object on its constructor. ".concat(s(r)," passed")),g(t,!1);Object.prototype.hasOwnProperty.call(r,"html")||(r.html=""),t.isDOM=!0;var o=document.createDocumentFragment(),l=document.createElement("div");return Object.prototype.hasOwnProperty.call(r,"containerParams")&&(Object.prototype.hasOwnProperty.call(r,"width")&&(l.style.width=r.containerParams.width),Object.prototype.hasOwnProperty.call(r,"height")&&(l.style.height=r.containerParams.height)),l.innerHTML=Tr(r.html,r.initParams),o.appendChild(l),l.style.overflow="hidden",t.rootElement=l,t.context={document:document,window:window,clipContainer:t.rootElement,rootElement:l,unmount:function(){r.host.removeChild(o)},getElements:t.getElements.bind(m(t)),getMCID:t.getMCID.bind(m(t)),setMCID:t.setMCID.bind(m(t)),getElementSelectorByMCID:t.getElementSelectorByMCID.bind(m(t)),getElementByMCID:t.getElementByMCID.bind(m(t)),setCustomEntity:t.setCustomEntity.bind(m(t)),fragment:!0},t.elementsByMCID={},t}return n}(Ir),Br=function(t){h(n,t);var e=v(n);function n(){var t,i,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,n),null===s?(i={},r=o):(i=o,r=s),t=e.call(this,i,r);var l=new Dr(d(d({},r),{},{html:Object.prototype.hasOwnProperty.call(r,"html")?r.html:t.html,css:Object.prototype.hasOwnProperty.call(r,"css")?r.css:t.css,fonts:Object.prototype.hasOwnProperty.call(r,"fonts")?r.fonts:t.fonts}));return t.ownContext=d(d({},l.context),{},{isHostedClip:!1}),t.iframe=l.iframeElement,t.forceExportIncidents=!0,t.onDOMCLipInitialise(),t}return c(n,[{key:"exportConstructionArguments",value:function(){return{attrs:this.attrs,props:d(d({},this.props),{},{html:this.context.rootElement.innerHTML})}}},{key:"onDOMCLipInitialise",value:function(){}},{key:"rootElement",get:function(){return this.context.clipContainer}}]),n}(ur),Vr=function(){function t(){a(this,t)}return c(t,[{key:"duration",get:function(){return 0}},{key:"addIncident",value:function(){return{result:!0,execute:function(){}}}},{key:"moveIncident",value:function(){return{result:!0,execute:function(){}}}},{key:"removeIncident",value:function(){return{result:!0,execute:function(){}}}},{key:"resizeIncident",value:function(){return{result:!0,execute:function(){}}}},{key:"getIncidentsByChannel",value:function(){return{}}},{key:"flash",value:function(){}},{key:"_resize",value:function(){}},{key:"onProgress",value:function(){}}]),t}(),Lr=function(){function t(e){a(this,t),this.runTimeInfo={currentMillisecond:0,state:"transitional"},this.id=et(),this.realClip=e.descriptiveIncident.realClip;var n=e.descriptiveIncident.realClip.exportConstructionArguments(),i=d(d({},n.props),{},{selector:void 0,host:e.host,id:this.id});this.ownClip=new e.descriptiveIncident.constructor.Incident(n.attrs,i),e.descriptiveIncident.realClip.addContext({clipId:this.id,context:this.ownClip.context,synchronize:e.synchronize,runTimeInfo:this.runTimeInfo},!0)}return c(t,[{key:"onProgress",value:function(t,e){for(var n in this.realClip.instantiatedChannels)this.realClip.instantiatedChannels[n].moveTo(this.runTimeInfo.currentMillisecond,e,this.id,!0);this.runTimeInfo.currentMillisecond=e}}]),t}(),Rr=T(null,(function(t,e){var n=function(e){h(i,e);var n=v(i);function i(e){var r,o,s,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,i),null===l?(o={},s=e):(o=e,s=l),r=n.call(this,o,s),t(m(r)),r.initParams=s.initParams||{};var c=r._validateProps();if(!c.result)return g(r,c);r.isTheRootClip=!1,r.isExportableToJSONFormat=!0,Object.prototype.hasOwnProperty.call(s,"html")&&W(s.html)&&(r.isExportableToJSONFormat=!1);var u={id:r.id,attrs:o,props:d(d({},s),{},{html:Object.prototype.hasOwnProperty.call(s,"html")?s.html:r.html,css:Object.prototype.hasOwnProperty.call(s,"css")?s.css:r.css,fonts:Object.prototype.hasOwnProperty.call(s,"fonts")?s.fonts:r.fonts,runTimeInfo:r.runTimeInfo,subscribe:r.subscribe.bind(m(r)),repeats:1,delay:0,hiatus:0}),plugin_npm_name:r.constructor.plugin_npm_name,Channel:r.constructor.Channel,DescriptiveIncident:m(r)};if(r.audio="on",Object.prototype.hasOwnProperty.call(r.constructor,"audio")&&(r.audio=r.constructor.audio),Object.prototype.hasOwnProperty.call(s,"audio")&&(r.audio=s.audio),Object.prototype.hasOwnProperty.call(s,"selector")&&void 0!==s.selector&&!0!==r.constructor.customClip)u.Incident=Br;else if(Object.prototype.hasOwnProperty.call(s,"selector")&&void 0!==s.selector&&!0===r.constructor.customClip){delete u.props.selector;var p=new Br({html:'<div id="clip-container"></div>'});u.props.host=p.rootElement,u.Incident=r.constructor.Incident}else"only"===r.audio&&!0!==r.props.root?r.isTheRootClip=!1:(r.isTheRootClip=!0,r.blockingWaitings={},u.Incident=r.constructor.Incident);if("on"===r.audio||"off"===r.audio?r.realClip=Tt(u):r.realClip=new Vr,"on"===r.audio||"only"===r.audio){var h={id:r.id,attrs:{},props:{audioSources:Object.prototype.hasOwnProperty.call(s,"audioSources")?s.audioSources:r.audioSources,runTimeInfo:r.runTimeInfo,subscribe:r.subscribe.bind(m(r))},plugin_npm_name:r.constructor.plugin_npm_name,Channel:r.constructor.Channel,Incident:gr,DescriptiveIncident:m(r)};r.audioClip=Tt(h)}else r.audio="off",r.audioClip=new Vr;return r.attributesStaggers=[],r.propsStaggers=[],r.setupDynamicValues(),r.dynamicDurationValue=null,r.passiveAddition=!0,r._buildTree(),r.passiveAddition=!1,r.constructor.isAnimation&&Object.prototype.hasOwnProperty.call(r.props,"duration")&&r.resize(r.duration),r}return i}(e);return{F:n,d:[{kind:"field",static:!0,key:"isClip",value:function(){return!0}},{kind:"field",static:!0,key:"Incident",value:function(){return jr}},{kind:"field",static:!0,key:"plugin_npm_name",value:function(){return"@kissmybutton/self-contained-incidents"}},{kind:"field",static:!0,key:"version",value:function(){return zt}},{kind:"field",static:!0,key:"Channel",value:function(){return yt}},{kind:"field",static:!0,key:"ClassName",value:function(){return"HTMLClip"}},{kind:"field",static:!0,key:"propsValidationRules",value:function(){return $i}},{kind:"method",key:"_validateProps",value:function(){return rt.validateProps({props:this.props},$i,this.constructor,this.id)}},{kind:"get",key:"selectorToPassToChildren",value:function(){return null}},{kind:"get",key:"inheritedSelector",value:function(){return this._inheritedSelector}},{kind:"set",key:"inheritedSelector",value:function(t){this._inheritedSelector=t}},{kind:"get",key:"html",value:function(){return""}},{kind:"get",key:"css",value:function(){return""}},{kind:"get",key:"fonts",value:function(){return[]}},{kind:"get",key:"audioSources",value:function(){return[]}},{kind:"method",decorators:[rr],key:"setupDynamicValues",value:function(){}},{kind:"get",key:"duration",value:function(){return null!==this.dynamicDurationValue?this.dynamicDurationValue:this.propsStaggers.length>0?"dynamic":Object.prototype.hasOwnProperty.call(this.props,"duration")?this.repeats*(this.delay+this.props.duration+this.hiatus):b(f(n.prototype),"duration",this)}},{kind:"set",key:"duration",value:function(t){if(0!=this.propsStaggers.length){for(var e=0;e<this.propsStaggers.length;e++)if("repeats"!==this.propsStaggers[e].path){var i=this.propsStaggers[e].stagger.resize(t/this.duration);it(this.props,this.propsStaggers[e].path,i)}this.dynamicDurationValue=t}else w(f(n.prototype),"duration",t,this,!0)}},{kind:"method",key:"systoleDiastole",value:function(t){this.constructor.isAnimation&&(this.props.duration?this.props.duration*=t:this.props.duration=t*this.calculatedDuration),this.realClip._resize(t),b(f(n.prototype),"systoleDiastole",this).call(this,t)}},{kind:"method",key:"exportLiveDefinition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=b(f(n.prototype),"exportLiveDefinition",this).call(this,t);return this.constructor.isAnimation&&(e.props.duration=this.props.duration?this.props.duration:this.calculatedDuration),W(this.props.html)&&(e.props.html=this.props.html),W(this.props.css)&&(e.props.css=this.props.css),e}},{kind:"method",key:"_buildTree",value:function(){void 0!==this.realClip&&this.buildTree()}},{kind:"method",key:"resize",value:function(t){if("dynamic"===this.duration)return{result:!1,reason:"Incidents with dynamic duration can't be resized. Once the Incident enters a Clip it'll become resizable"};var e=t/this.duration;return this.realClip._resize(e),this.audioClip._resize(e),this.duration=t,this.constructor.isAnimation&&(this.props.duration?this.props.duration*=e:this.props.duration=this.calculatedDuration),this.putMessageOnPipe("recalcDuration",{},"Groups",{selfExecute:!1,direction:at}),this.putMessageOnPipe("flash",{},"RootClip",{selfExecute:!0,direction:at}),{result:!0}}},{kind:"method",key:"manageEditAttrProps",value:function(t,e){return{result:!1,errors:["Clips attributes and properties can not be edited"]}}},{kind:"method",key:"handleCheckForClip",value:function(t,e){return!0}},{kind:"method",key:"handleGetElements",value:function(t,e){return this.realClip.getElements(e.selector)}},{kind:"method",key:"handleCheckAddition",value:function(t,e){var n=this.realClip.addIncident(e),i=this.audioClip.addIncident(e);return!0===n.result&&!0===i.result?(n.execute(),i.execute(),this.putMessageOnPipe("flash",{},"RootClip",{selfExecute:!0,direction:at}),{result:!0}):n}},{kind:"method",key:"handleCheckMove",value:function(t,e){var n=this.realClip.moveIncident(e),i=this.audioClip.moveIncident(e);return!0===n.result&&!0===i.result?(n.execute(),i.execute(),this.putMessageOnPipe("flash",{},"RootClip",{selfExecute:!0,direction:at}),{result:!0}):n}},{kind:"method",key:"handleCheckDeletion",value:function(t,e){var n=this.realClip.removeIncident(e),i=this.audioClip.removeIncident(e);return!0===n.result&&!0===i.result?(n.execute(),i.execute(),this.putMessageOnPipe("flash",{},"RootClip",{selfExecute:!0,direction:at}),{result:!0}):n}},{kind:"method",key:"handleCheckResize",value:function(t,e){var n=this.realClip.resizeIncident(e),i=this.audioClip.resizeIncident(e);return!0===n.result&&!0===i.result?(n.execute(),i.execute(),this.putMessageOnPipe("flash",{},"RootClip",{selfExecute:!0,direction:at}),{result:!0}):n}},{kind:"method",key:"handleFlash",value:function(t,e){if(!this.isTheRootClip)return this.bypass();this.flash()}},{kind:"method",key:"exportDefinition",value:function(){var t=b(f(n.prototype),"exportDefinition",this).call(this);return this.constructor.isAnimation&&(t.props.duration=this.props.duration?this.props.duration:this.calculatedDuration),t}},{kind:"method",key:"handleSetBlock",value:function(t,e){if(!this.isTheRootClip)return this.bypass();"transitional"!==this.runTimeInfo.state&&("blocked"!==this.runTimeInfo.state&&(this.statusBeforeBlock=this.runTimeInfo.state),this.blockingWaitings[e.id]=e,this.block())}},{kind:"method",key:"handleUnBlock",value:function(t,e){if(!this.isTheRootClip)return this.bypass();Object.prototype.hasOwnProperty.call(this.blockingWaitings,e.id)&&(delete this.blockingWaitings[e.id],0===Object.keys(this.blockingWaitings).length&&("playing"===this.statusBeforeBlock?(this.previousTimeStamp=-1,this.play()):this.arm()))}},{kind:"method",key:"stop",value:function(){b(f(n.prototype),"stop",this).call(this),this.blockingWaitings={}}},{kind:"method",key:"onProgress",value:function(t,e){this.realClip.onProgress(t,e),this.audioClip.onProgress(t,e)}},{kind:"method",key:"paste",value:function(t){return this.isTheRootClip?new Lr({host:t,descriptiveIncident:this}):null}},{kind:"method",key:"flash",value:function(){this.realClip.flash()}},{kind:"method",key:"setVolume",value:function(t){return t<0||t>1?{result:!1,errors:[{type:"invalid volume number"}]}:"off"===this.audio?{result:!1,errors:[{type:"can not set volume of Clip with audio off"}]}:(this.audioClip.setVolume(t),{result:!0})}}]}}),function(t){h(n,t);var e=v(n);function n(t,i){var r;return a(this,n),(r=e.call(this,t,i)).runTimeInfo={currentMillisecond:0,state:"idle"},r.listeners={},r.previousTimeStamp=-1,r.speed=1,r}return c(n,[{key:"_setState",value:function(t){if(t!==this.runTimeInfo.state)for(var e in this.runTimeInfo.state=t,this.putMessageOnPipe("setState",t,"Clips",{selfExecute:!1,direction:lt}),this.listeners)this.listeners[e].funct(this.runTimeInfo.currentMillisecond,t)}},{key:"handleSetState",value:function(t,e){this._setState(e)}},{key:"play",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if("idle"===this.runTimeInfo.state||"paused"===this.runTimeInfo.state||"armed"===this.runTimeInfo.state||"transitional"===this.runTimeInfo.state||"blocked"===this.runTimeInfo.state){if("paused"===this.runTimeInfo.state){var n=(new Date).getTime()-this.pauseMoment;this.previousTimeStamp+=n}this._setState("playing"),this.onPlay(),e||window.requestAnimationFrame((function(e){t.step(e)}))}}},{key:"pause",value:function(){"playing"===this.runTimeInfo.state&&(this._setState("paused"),this.pauseMoment=(new Date).getTime(),this.onWait())}},{key:"arm",value:function(){"transitional"!==this.runTimeInfo.state&&"blocked"!==this.runTimeInfo.state||this._setState("armed")}},{key:"complete",value:function(){this._setState("idle"),this.previousTimeStamp=-1}},{key:"stop",value:function(){this._setState("transitional"),this.previousTimeStamp=-1}},{key:"block",value:function(){this._setState("blocked"),this.previousTimeStamp=-1}},{key:"onPlay",value:function(){}},{key:"onWait",value:function(){}},{key:"playableProgress",value:function(t,e){if(this.isTheRootClip){for(var n in this.listeners){var i=this.listeners[n];!0!==i.onlyOnStateChange&&(Math.abs(e+i.cavaDelta-this.runTimeInfo.currentMillisecond)>i.threshold?(i.funct(Y(e,i.roundTo),this.runTimeInfo.state),i.cavaDelta=0):i.cavaDelta+=Math.abs(e-this.runTimeInfo.currentMillisecond))}return this.onProgress(t,e),this.runTimeInfo.currentMillisecond=e,!0}return!1}},{key:"executionSpeed",set:function(t){if(!this.isTheRootClip)return!1;this.speed=parseFloat(t)}},{key:"step",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if("playing"===this.runTimeInfo.state){var n=this;-1===this.previousTimeStamp&&(this.previousTimeStamp=t);var i={milliseconds:Math.round(this.runTimeInfo.currentMillisecond+(t-this.previousTimeStamp)*this.speed),fraction:(this.runTimeInfo.currentMillisecond+(t-this.previousTimeStamp)*this.speed)/this.duration};if(i.fraction>=1)return this.playableProgress(1,this.duration),void this.complete();if(i.fraction<0)return this.playableProgress(0,0),void this.complete();this.playableProgress(i.fraction,i.milliseconds),this.previousTimeStamp=t,e||window.requestAnimationFrame(n.step.bind(n))}}},{key:"subscribe",value:function(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];n||(n=0),i||(i=1),this.listeners[t]={funct:e,threshold:n,roundTo:i,cavaDelta:0,onlyOnStateChange:r}}},{key:"unsubscribe",value:function(t){Object.prototype.hasOwnProperty.call(this.listeners,t)&&delete this.listeners[t]}},{key:"subscribeToDurationChange",value:function(t){return!!this.isTheRootClip&&(this.realClip.subscribeToDurationChange(t),!0)}}]),n}(or)),zr=Oi.compile({incidents:{type:"array",items:{type:"object",props:{position:{type:"amount",integer:!0,min:0,optional:!1},attrs:{type:"object",optional:!1},props:{type:"object",optional:!1},incidentClass:{type:"any",optional:!1}}}}}),Nr=function(t){h(n,t);var e=v(n);function n(t,i){var r;a(this,n),null!==(r=e.call(this,t,i)).incidents&&(r.attrs.incidents=r.incidents,r.attributesStaggers=[],r.propsStaggers=[],r.setupDynamicValues());var o=rt.validateProps(r.props,Ui,r.constructor);if(!o.result)return g(r,o);var s=zr(r.attrs);if(s.length>0)return rt.error("The provided attributes for Combo Incident are invalid"),g(r,{result:!1,errors:s});for(var l=[],c=0;c<r.attrs.length;c++){var u=r.attrs[c];if(null!==u.incidentClass.attrsValidationRules){var p=u.incidentClass.attrsValidationMethod(u.attrs);p.length>0&&l.concat(p.errors)}var d=rt.validateProps(u.props,u.incidentClass.propsValidationRules,u.incidentClass);!1===d.result&&l.concat(d.errors)}return l.length>0?g(r,{result:!1,errors:l}):(r.dynamicDurationValue=null,r)}return c(n,[{key:"incidents",get:function(){return null}},{key:"duration",get:function(){return null!==this.dynamicDurationValue?this.dynamicDurationValue:"dynamic"}},{key:"addIncident",value:function(){var t="Combos don't accept any Incidents to be added on their timeline externally";return rt.error(t),{result:!1,errors:[t]}}},{key:"moveIncident",value:function(){var t="Combo Incidents don't allow external manipulation of their Incidents";return rt.error(t),{result:!1,errors:[t]}}},{key:"removeIncident",value:function(){var t="Combo Incidents don't allow external manipulation of their Incidents";return rt.error(t),{result:!1,errors:[t]}}},{key:"handleCheckAddition",value:function(t,e){return!1}},{key:"handleCheckMove",value:function(t,e){return!1}},{key:"handleCheckDeletion",value:function(t,e){return!1}},{key:"handleCheckResize",value:function(t,e){return!1}},{key:"exportDefinition",value:function(){var t=d(d({},this.attrs),{},{incidents:function t(e){for(var n=[],i=0;i<e.length;i++){var r=e[i],o=r.attrs;"Combo"===r.incidentClass.ClassName&&(o=d(d({},o),{},{incidents:t(o.incidents)})),n.push({ClassName:r.incidentClass.ClassName||r.incidentClass.targetClass.ClassName,plugin_npm_name:r.incidentClass.plugin_npm_name||r.incidentClass.targetClass.plugin_npm_name,version:r.incidentClass.version||r.incidentClass.targetClass.version,attrs:o,props:JSON.parse(JSON.stringify(r.props)),position:r.position})}return n}(this.attrs.incidents)});return{ClassName:this.constructor.ClassName,version:this.constructor.version,plugin:this.constructor.plugin||this.constructor.plugin_npm_name,plugin_npm_name:this.constructor.plugin_npm_name,attrs:t,props:JSON.parse(JSON.stringify(this.props)),incidents:{},duration:this.duration}}},{key:"exportLiveDefinition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.attrs;null!==this.incidents&&(e=d(d({},this.attrs),{},{incidents:void 0}));var n=JSON.parse(JSON.stringify(this.props));!1===t&&delete n.id;var i={Class:this.constructor,attrs:e,props:n,incidents:{}};return i}}]),n}(or);u(Nr,"isCombo",!0),u(Nr,"ClassName","Combo"),u(Nr,"attrsValidationRules",null),u(Nr,"propsValidationRules",Ui);var Fr=T(null,(function(t,e){var n=function(e){h(i,e);var n=v(i);function i(e,r){var o;a(this,i),void 0===r&&(r=e,e={}),o=n.call(this,r),t(m(o));var s=rt.validateProps(r,zi,o.constructor,o.id);return s.result?(o.inheritedSelector=null,o.attrs=e,Object.prototype.hasOwnProperty.call(r,"duration")||(r.duration=0),o.props=r,o.attributesStaggers=[],o.propsStaggers=[],o.setupDynamicValues(),o.dynamicDurationValue=null,o.passive=!1,o):g(o,s)}return i}(e);return{F:n,d:[{kind:"field",static:!0,key:"Incident",value:function(){return St}},{kind:"field",static:!0,key:"plugin_npm_name",value:function(){return"motor-cortex-js-attribute"}},{kind:"field",static:!0,key:"version",value:function(){return zt}},{kind:"field",static:!0,key:"Channel",value:function(){return Pr}},{kind:"field",static:!0,key:"ClassName",value:function(){return"Incident"}},{kind:"field",static:!0,key:"attrsValidationRules",value:function(){return null}},{kind:"field",static:!0,key:"propsValidationRules",value:function(){return zi}},{kind:"method",decorators:[Ji],key:"editAttributes",value:function(){}},{kind:"method",decorators:[Ki],key:"editProperties",value:function(){}},{kind:"method",decorators:[Xi],key:"resize",value:function(){}},{kind:"method",decorators:[Wi],key:"clone",value:function(){}},{kind:"method",decorators:[Yi],key:"selector",value:function(){}},{kind:"method",decorators:[Qi],key:"getElements",value:function(){}},{kind:"method",decorators:[rr],key:"setupDynamicValues",value:function(){}},{kind:"get",key:"duration",value:function(){return null!==this.dynamicDurationValue?this.dynamicDurationValue:this.propsStaggers.length>0?"dynamic":b(f(n.prototype),"duration",this)}},{kind:"set",key:"duration",value:function(t){if(this.propsStaggers.length>0){for(var e=0;e<this.propsStaggers.length;e++)if("repeats"!==this.propsStaggers[e].path){var i=this.propsStaggers[e].stagger.resize(t/this.duration);it(this.props,this.propsStaggers[e].path,i)}this.dynamicDurationValue=t}else w(f(n.prototype),"duration",t,this,!0)}},{kind:"method",key:"manageEditAttrProps",value:function(t,e){var n=this.parentNode,i=n.getLeafPosition(this.id);n.removeIncident(this.id);var r=JSON.parse(JSON.stringify(this[e]));this[e]=t;var o=n.addIncident(this,i);return o.result||(n.removeIncident(this.id),this[e]=r,n.addIncident(this,i)),o}},{kind:"method",key:"detachFromParent",value:function(){b(f(n.prototype),"detachFromParent",this).call(this),this.inheritedSelector=null}},{kind:"method",key:"handleCheckForInvalidSelectors",value:function(){var t=this.selector();return null===t?{id:this.id,ClassName:this.constructor.ClassName,plugin_npm_name:this.constructor.plugin_npm_name,error:"null selector"}:"&"===t.charAt(0)?{id:this.id,ClassName:this.constructor.ClassName,plugin_npm_name:this.constructor.plugin_npm_name,error:"relative selector with no inherited selector",selector:t}:this.bypass()}},{kind:"method",key:"exportDefinition",value:function(){return{ClassName:this.constructor.ClassName,version:this.constructor.version,plugin:this.constructor.plugin||this.constructor.plugin_npm_name,plugin_npm_name:this.constructor.plugin_npm_name,attrs:this.attrs,props:this.props}}},{kind:"method",key:"exportLiveDefinition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=JSON.parse(JSON.stringify(this.props));return!1===t&&delete e.id,{Class:this.constructor,attrs:JSON.parse(JSON.stringify(this.attrs)),props:e}}}]}}),ut),$r=function(){var t=function(t,e){return t.startsWith("on")&&"function"==typeof e},e=function(t){return t.substr(2).toLowerCase()},n=function(t){return"function"==typeof t};function i(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild}function r(n,i){if(!i)return n;for(var r=0,o=Object.entries(i);r<o.length;r++){var s=k(o[r],2),a=s[0],l=s[1];if(t(a))n.addEventListener(e(a),l);else if("class"===a){var c,u=Array.isArray(l)?l:l.split(" ");(c=n.classList).add.apply(c,C(u))}else n.setAttribute(a,l)}return n}return function(t,e){for(var o=arguments.length,a=new Array(o>2?o-2:0),l=2;l<o;l++)a[l-2]=arguments[l];if(n(t))return t(d(d({},e),{},{children:a}));var c=r(document.createElement(t),e);return a.flat().forEach((function(t){if(!1!==t){var e="object"===s(t)?t:i(t.toString());null!==e&&c.appendChild(e)}})),c.outerHTML}}(),Hr=function(){function t(e){if(a(this,t),!Object.prototype.hasOwnProperty.call(e,"incident"))return rt.error('Journey constructor expects an Incident on its properties on the key "incident"'),!1;this.memory=e.capsuleMemory,this.stations=[],this.incident=e.incident,this.startMillisecond=1*this.incident.runTimeInfo.currentMillisecond,this.startState="".concat(this.incident.runTimeInfo.state),this.incident.stop()}return c(t,[{key:"station",value:function(t){this.stations.length>0&&this.stations[this.stations.length-1],this.stations.push(t),this.incident.playableProgress(t/this.incident.duration,t)}},{key:"destination",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=t?this.station(t):t=this.stations[this.stations.length-1],this.incident.playableProgress(t/this.incident.duration,t),"playing"===this.startState||"blocked"===this.startState&&"playing"===this.incident.statusBeforeBlock?this.incident.play():t>=this.incident.duration?this.incident.complete():this.incident.arm(),this.memory.push(this.exportJourneyLog)}},{key:"exportJourneyLog",value:function(){return{startMillisecond:this.startMillisecond,startState:this.startState,stations:this.stations}}}]),t}(),Ur=function(){function t(){a(this,t),this.memory=[]}return c(t,[{key:"startJourney",value:function(t){return t?new Hr({incident:t,capsuleMemory:this.memory}):(rt.error("startJourney expects an Incident as an argument"),!1)}}]),t}(),qr=function(t){h(n,t);var e=v(n);function n(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;a(this,n);var r={audio:"only",audioSources:t};return null!==i&&(r.id=i),e.call(this,r)}return n}(Rr);function Wr(t){if(Object.prototype.hasOwnProperty.call(t,"default")&&(t=t.default),Object.prototype.hasOwnProperty.call(t,"npm_name")||(t.npm_name="plugin_".concat((new Date).getTime())),!function(t){Object.prototype.hasOwnProperty.call(t,"default")&&(t=t.default);var e=t.npm_name,n=!0;if(Object.prototype.hasOwnProperty.call(t,"name")||rt.notice("Notice on plugin ".concat(e,'. A plugin is always good to have its name on\n        its main.js file, under the key "name". It\'s missing from this plugin')),Object.prototype.hasOwnProperty.call(t,"version")||rt.notice("Notice on ".concat(e,". Plugin should always expose its version number on main.js file.\n      Plugin version is missing")),Object.prototype.hasOwnProperty.call(t,"incidents")||Object.prototype.hasOwnProperty.call(t,"Clip")||(rt.error("Error on plugin ".concat(e,'. A plugin must expose at least one Incident or a Clip.\n        Exposed plugin Incidents should be defined on the "incidents" key of the main.js file while Clips on the "Clip".')),n=!1),Object.prototype.hasOwnProperty.call(t,"incidents")&&!Array.isArray(t.incidents))rt.error("Error on plugin ".concat(e,'. thePlugin exposed Incidents are defined on the "incidents" key of the main.js file in array format.\n        Please refer to the documentation')),n=!1;else if(Object.prototype.hasOwnProperty.call(t,"incidents"))for(var i=0;i<t.incidents.length;i++){var r=t.incidents[i];"object"===s(r.exportable)&&Object.prototype.hasOwnProperty.call(r.exportable,"default")&&(r.exportable=r.exportable.default);var o=r.exportable.prototype;o instanceof or||o instanceof Rr||o instanceof St||o instanceof br||(rt.error("Error on plugin ".concat(e,". Exportable Incidents by any plugin must extend one of the base classes provided by MotorCortex.\n                ").concat(r.exportable.constructor.name," doesn't.\n                Please refer to documentation")),n=!1),o instanceof Rr&&(Object.prototype.hasOwnProperty.call(r,"originalDims")?!1===K(r.originalDims).result&&(rt.error("Error on plugin ".concat(e,". Invalid originalDims value passed on ").concat(r.name)),n=!1):rt.log("Warning on plugin ".concat(e,'. It\'s always good to provide originalDims\n            when exposing Incidents extending DOMClip. By defining their original dims the users\n            of your plugin will be able to define the desired dimensions of your Incident by\n            the "containerParams object"'))),Object.prototype.hasOwnProperty.call(r,"name")||(rt.error("Error on plugin ".concat(e,'. Exportable Incidents by any plugin must have the "name" key which defines the name of the exported Incident.\n                Please refer to documentation')),n=!1)}return n}(t))return!1;var e={};if(Object.prototype.hasOwnProperty.call(t,"Clip"))if(Object.prototype.hasOwnProperty.call(t.Clip,"exportable")){var n,i,r,o=(i=n=function(t){h(n,t);var e=v(n);function n(){return a(this,n),e.apply(this,arguments)}return n}(Rr),u(n,"Incident",t.Clip.exportable),u(n,"plugin",t.npm_name),u(n,"version",t.version||"*"),u(n,"audio",t.audio||"off"),u(n,"customClip",!0),i);Object.prototype.hasOwnProperty.call(t.Clip,"attributesValidationRules")&&(r=Oi.compile(t.Clip.attributesValidationRules)),e.Clip=function e(n,i){a(this,e);var s,l=n,c=i;if(void 0===i&&(l={},c=n),Object.prototype.hasOwnProperty.call(t.Clip,"attributesValidationRules")){var u=r(l);if(u.length>0){for(var p="Error on plugin's \"".concat(t.npm_name,'" Clip instantiation. Errors:'),d=0;d<u.length;d++)p+="\n - ".concat(u[d].message,". ").concat(u[d].actual," provided");return rt.error(p),rt.log("breaking"),{result:!1,errors:u}}rt.log("instantiating"),(s=new o(l,c)).attrsValidationRules=t.Clip.attributesValidationRules,s.attrsValidationMethod=r}else rt.log("instantiating"),(s=new o(l,c)).attrsValidationRules=null,rt.warning("It's always good to provide attributesValidationRules to the exported incidents. ".concat(t.npm_name,".").concat(s.constructor.name," doesn't provide it"));return s}}else{var l,c,p=(c=l=function(t){h(n,t);var e=v(n);function n(){return a(this,n),e.apply(this,arguments)}return n}(Rr),u(l,"Incident",t.Clip),u(l,"plugin",t.npm_name),u(l,"version",t.version||"*"),u(l,"audio",t.audio||"off"),u(l,"customClip",!0),c);rt.warning("It's always good to provide attributesValidationRules to the exported incidents. ".concat(t.npm_name,".Clip doesn't provide it")),e.Clip=p}var d=Pr;if(Object.prototype.hasOwnProperty.call(t,"compositeAttributes")&&(d=function(e){h(i,e);var n=v(i);function i(e){return a(this,i),e.comboAttributes=t.compositeAttributes,n.call(this,e)}return i}(Pr)),Object.prototype.hasOwnProperty.call(t,"incidents"))for(var f=function(n){var i=t.incidents[n].exportable,r=null,o=null,s=!1;if(Object.prototype.hasOwnProperty.call(t.incidents[n],"attributesValidationRules")){s=!0;var l=JSON.parse(JSON.stringify(t.incidents[n].attributesValidationRules));Object.prototype.hasOwnProperty.call(t.incidents[n].attributesValidationRules,"animatedAttrs")&&(l.initialValues=rt.buildInitialValuesValidationRules(l.animatedAttrs)),o=l,r=Oi.compile(l)}var c,p,f=void 0;if(i.prototype instanceof St)p=c=function(t){h(n,t);var e=v(n);function n(){return a(this,n),e.apply(this,arguments)}return n}(Fr),u(c,"Incident",i),u(c,"plugin_npm_name",t.npm_name),u(c,"plugin",t.npm_name),u(c,"version",t.version||"*"),u(c,"ClassName",t.incidents[n].name),u(c,"Channel",d),u(c,"audio",t.audio?t.audio:"off"),u(c,"attrsValidationRules",o),u(c,"attrsValidationMethod",r),f=p;else if(i.prototype instanceof br){var m,g;g=m=function(t){h(n,t);var e=v(n);function n(){return a(this,n),e.apply(this,arguments)}return n}(Fr),u(m,"Incident",i),u(m,"plugin_npm_name","@kissmybutton/media-playback"),u(m,"plugin",t.npm_name),u(m,"version",t.version||"*"),u(m,"ClassName",t.incidents[n].name),u(m,"Channel",yr),u(m,"audio",t.audio?t.audio:"off"),u(m,"attrsValidationRules",o),u(m,"attrsValidationMethod",r),f=g}else if(i.prototype instanceof Rr){var y,b;b=y=function(t){h(n,t);var e=v(n);function n(){return a(this,n),e.apply(this,arguments)}return n}(i),u(y,"plugin",t.npm_name),u(y,"version",t.version||"*"),u(y,"ClassName",t.incidents[n].name),u(y,"audio",t.audio?t.audio:"on"),u(y,"originalDims",K(t.incidents[n].originalDims).analysis),u(y,"attrsValidationRules",o),u(y,"attrsValidationMethod",r),u(y,"isAnimation",!0),f=b}else if(i.prototype instanceof or){var x,w;w=x=function(t){h(n,t);var e=v(n);function n(){return a(this,n),e.apply(this,arguments)}return n}(i),u(x,"plugin",t.npm_name),u(x,"version",t.version||"*"),u(x,"ClassName",t.incidents[n].name),u(x,"attrsValidationRules",o),u(x,"attrsValidationMethod",r),f=w}Object.defineProperty(e,t.incidents[n].name,{enumerable:!0,get:function(){var e=function e(i,o){var l;if(a(this,e),s){var c=r(i);if(c.length>0){for(var u="Error on plugin's \"".concat(t.npm_name,'" "').concat(t.incidents[n].name,'" instantiation. Errors:'),p=0;p<c.length;p++)u+="\n - ".concat(c[p].message,". ").concat(c[p].actual," provided");return rt.error(u),{result:!1,errors:c}}}return(l=new f(i,o)).result&&!s&&rt.warning("It's always good to provide attributesValidationRules to the exported incidents. ".concat(t.npm_name," doesn't provide it")),l};return u(e,"targetClass",f),e}})},m=0;m<t.incidents.length;m++)f(m);return e}window.fs={};var Gr={createDOMElement:$r,easings:Mt,clipFromDefinition:qi},Jr=Wr(xr),Kr=Jr.Clip,Qr=Jr.AudioEffect,Xr=Jr.AudioPlayback,Yr=qr,Zr={version:zt,Effect:St,utils:Gr,HTMLClip:Rr,Group:or,Combo:Nr,BrowserClip:jr,loadPlugin:Wr,AudioClip:Yr,CoreAudioClip:Kr,AudioPlayback:Xr,AudioEffect:Qr,MediaPlayback:br,TimeCapsule:Ur};t.AudioClip=Yr,t.AudioEffect=Qr,t.AudioPlayback=Xr,t.BrowserClip=jr,t.Combo=Nr,t.CoreAudioClip=Kr,t.Effect=St,t.Group=or,t.HTMLClip=Rr,t.MediaPlayback=br,t.TimeCapsule=Ur,t.default=Zr,t.loadPlugin=Wr,t.utils=Gr,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(7),n(8))},function(t,e,n){(function(e){t.exports=function(t){"use strict";var n=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(t);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function d(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=u(t);if(e){var r=u(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return p(this,n)}}var h={},f={duration:1e3,round:0},m=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective"],g={CSS:{}};function v(t,e,n){return Math.min(Math.max(t,e),n)}function y(t,e){return t.indexOf(e)>-1}var b={arr:function(t){return Array.isArray(t)},obj:function(t){return y(Object.prototype.toString.call(t),"Object")},pth:function(t){return b.obj(t)&&t.hasOwnProperty("totalLength")},svg:function(t){return t instanceof SVGElement},inp:function(t){return t instanceof HTMLInputElement},dom:function(t){return t.nodeType||b.svg(t)},str:function(t){return"string"==typeof t},fnc:function(t){return"function"==typeof t},und:function(t){return void 0===t},hex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},rgb:function(t){return/^rgb/.test(t)},hsl:function(t){return/^hsl/.test(t)},col:function(t){return b.hex(t)||b.rgb(t)||b.hsl(t)},key:function(t){return!h.hasOwnProperty(t)&&!f.hasOwnProperty(t)&&"targets"!==t&&"keyframes"!==t}};function x(t,e){for(var n=t.length,i=arguments.length>=2?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in t){var s=t[o];e.call(i,s,o,t)&&r.push(s)}return r}function w(t){return t.reduce((function(t,e){return t.concat(b.arr(e)?w(e):e)}),[])}function k(t){return b.arr(t)?t:(b.str(t)&&(t=function(t){try{return document.querySelectorAll(t)}catch(t){return}}(t)||t),t instanceof NodeList||t instanceof HTMLCollection?[].slice.call(t):[t])}function C(t,e){return t.some((function(t){return t===e}))}function O(t){var e={};for(var n in t)e[n]=t[n];return e}function E(t,e){var n=O(t);for(var i in t)n[i]=e.hasOwnProperty(i)?e[i]:t[i];return n}function P(t,e){var n=O(t);for(var i in e)n[i]=b.und(t[i])?e[i]:t[i];return n}function I(t){var e=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(t);if(e)return e[1]}function S(t,e){return b.fnc(t)?t(e.target,e.id,e.total):t}function A(t,e){return t.getAttribute(e)}function T(t,e,n){if(C([n,"deg","rad","turn"],I(e)))return e;var i=g.CSS[e+n];if(!b.und(i))return i;var r=document.createElement(t.tagName),o=t.parentNode&&t.parentNode!==document?t.parentNode:document.body;o.appendChild(r),r.style.position="absolute",r.style.width=100+n;var s=100/r.offsetWidth;o.removeChild(r);var a=s*parseFloat(e);return g.CSS[e+n]=a,a}function M(t,e,n){if(e in t.style){var i=e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=t.style[e]||getComputedStyle(t).getPropertyValue(i)||"0";return n?T(t,r,n):r}}function _(t,e){return b.dom(t)&&!b.inp(t)&&(A(t,e)||b.svg(t)&&t[e])?"attribute":b.dom(t)&&C(m,e)?"transform":b.dom(t)&&"transform"!==e&&M(t,e)?"css":null!=t[e]?"object":void 0}function j(t){if(b.dom(t)){for(var e,n=t.style.transform||"",i=/(\w+)\(([^)]*)\)/g,r=new Map;e=i.exec(n);)r.set(e[1],e[2]);return r}}function D(t,e,n,i){switch(_(t,e)){case"transform":return function(t,e,n,i){var r=y(e,"scale")?1:0+function(t){return y(t,"translate")||"perspective"===t?"px":y(t,"rotate")||y(t,"skew")?"deg":void 0}(e),o=j(t).get(e)||r;return n&&(n.transforms.list.set(e,o),n.transforms.last=e),i?T(t,o,i):o}(t,e,i,n);case"css":return M(t,e,n);case"attribute":return A(t,e);default:return t[e]||0}}function B(t,e){var n=/^(\*=|\+=|-=)/.exec(t);if(!n)return t;var i=I(t)||0,r=parseFloat(e),o=parseFloat(t.replace(n[0],""));switch(n[0][0]){case"+":return r+o+i;case"-":return r-o+i;case"*":return r*o+i}}function V(t,e){if(b.col(t))return function(t){return b.rgb(t)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e=t))?"rgba("+n[1]+",1)":e:b.hex(t)?function(t){var e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(t,e,n,i){return e+e+n+n+i+i})),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgba("+parseInt(n[1],16)+","+parseInt(n[2],16)+","+parseInt(n[3],16)+",1)"}(t):b.hsl(t)?function(t){var e,n,i,r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(t),o=parseInt(r[1],10)/360,s=parseInt(r[2],10)/100,a=parseInt(r[3],10)/100,l=r[4]||1;function c(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}if(0==s)e=n=i=a;else{var u=a<.5?a*(1+s):a+s-a*s,p=2*a-u;e=c(p,u,o+1/3),n=c(p,u,o),i=c(p,u,o-1/3)}return"rgba("+255*e+","+255*n+","+255*i+","+l+")"}(t):void 0;var e,n}(t);if(/\s/g.test(t))return t;var n=I(t),i=n?t.substr(0,t.length-n.length):t;return e?i+e:i}function L(t,e){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=V(b.pth(t)?t.totalLength:t,e)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:b.str(t)||e?i.split(n):[]}}function R(t){var e=function(t){return x(t?w(b.arr(t)?t.map(k):k(t)):[],(function(t,e,n){return n.indexOf(t)===e}))}(t);return e.map((function(t,n){return{target:t,id:n,total:e.length,transforms:{list:j(t)}}}))}function z(t,e){var n=O(e);if(b.arr(t)){var i=t.length;2!==i||b.obj(t[0])?b.fnc(e.duration)||(n.duration=e.duration/i):t={value:t}}return(b.arr(t)?t:[t]).map((function(t,e){return b.obj(t)&&!b.pth(t)?t:{value:t}})).map((function(t){return P(t,n)}))}var N={css:function(t,e,n){return t.style[e]=n},attribute:function(t,e,n){return t.setAttribute(e,n)},object:function(t,e,n){return t[e]=n},transform:function(t,e,n,i,r){if(i.list.set(e,n),e===i.last||r){var o="";i.list.forEach((function(t,e){o+=e+"("+t+") "})),t.style.transform=o}}};function F(t,e){R(t).forEach((function(t){for(var n in e){var i=S(e[n],t),r=t.target,o=I(i),s=D(r,n,o,t),a=B(V(i,o||I(s)),s),l=_(r,n);N[l](r,n,a,t.transforms,!0)}}))}function $(t,e){return x(w(t.map((function(t){return e.map((function(e){return function(t,e){var n=_(t.target,e.name);if(n){var i=function(t,e){var n;return t.tweens.map((function(i){var r=function(t,e){var n={};for(var i in t){var r=S(t[i],e);b.arr(r)&&1===(r=r.map((function(t){return S(t,e)}))).length&&(r=r[0]),n[i]=r}return n.duration=parseFloat(n.duration),n}(i,e),o=r.value,s=b.arr(o)?o[1]:o,a=I(s),l=D(e.target,t.name,a,e),c=n?n.to.original:l,u=b.arr(o)?o[0]:c,p=I(u)||I(l),d=a||p;return b.und(s)&&(s=c),r.from=L(u,d),r.to=L(B(s,u),d),r.start=n?n.end:0,r.end=r.start+r.duration,r.isPath=!1,r.isColor=b.col(r.from.original),r.isColor&&(r.round=1),n=r,r}))}(e,t),r=i[i.length-1];return{type:n,property:e.name,animatable:t,tweens:i,duration:r.end}}}(t,e)}))}))),(function(t){return!b.und(t)}))}var H=0;function U(t){void 0===t&&(t={});var n,i=0,r=null;function o(t){var n=window.Promise&&new e((function(t){return r=t}));return t.finished=n,n}var s=function(t){var e=E(h,t),n=E(f,t),i=function(t,e){var n=[];for(var i in e)b.key(i)&&n.push({name:i,tweens:z(e[i],t)});return n}(n,t),r=R(t.targets),o=$(r,i),s=function(t,e){var n=t.length,i={};return i.duration=n?Math.max.apply(Math,t.map((function(t){return t.duration}))):e.duration,i}(o,n),a=H;return H++,P(e,{id:a,children:[],animatables:r,animations:o,duration:s.duration})}(t);function a(t,e){e&&e.seek(t)}return o(s),s.reset=function(){s.passThrough=!1,s.currentTime=0,s.progress=0,s.paused=!0,s.began=!1,s.completed=!1,s.reversePlayback=!1,n=s.children;for(var t=i=n.length;t--;)s.children[t].reset()},s.set=function(t,e){return F(t,e),s},s.seek=function(t){!function(t){var e=s.duration,l=t;s.progress=v(l/e*100,0,100),s.reversePlayback=l<s.currentTime,n&&function(t){if(s.reversePlayback)for(var e=i;e--;)a(t,n[e]);else for(var r=0;r<i;r++)a(t,n[r])}(l),!s.began&&s.currentTime>0&&(s.began=!0),function(t){for(var e=0,n=s.animations,i=n.length;e<i;){var r=n[e],o=r.animatable,a=r.tweens,l=a.length-1,c=a[l];l&&(c=x(a,(function(e){return t<e.end}))[0]||c);for(var u=v(t-c.start,0,c.duration)/c.duration,p=c.to.strings,d=c.round,h=[],f=c.to.numbers.length,m=void 0,g=0;g<f;g++){var y=void 0,b=c.to.numbers[g],w=c.from.numbers[g]||0;y=w+u*(b-w),d&&(c.isColor&&g>2||(y=Math.round(y*d)/d)),h.push(y)}var k=p.length;if(k){m=p[0];for(var C=0;C<k;C++){p[C];var O=p[C+1],E=h[C];isNaN(E)||(m+=O?E+O:E+" ")}}else m=h[0];N[r.type](o.target,r.property,m,o.transforms),r.currentValue=m,e++}}(l),s.currentTime=v(l,0,e),t>=e&&(s.paused=!0,s.completed||(s.completed=!0,!s.passThrough&&"Promise"in window&&(r(),o(s))))}(t)},s.reset(),s}function q(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function W(t){for(var e,n=t.points,i=0,r=0;r<n.numberOfItems;r++){var o=n.getItem(r);r>0&&(i+=q(e,o)),e=o}return i}function G(t){if(t.getTotalLength)return t.getTotalLength();switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*A(t,"r")}(t);case"rect":return function(t){return 2*A(t,"width")+2*A(t,"height")}(t);case"line":return function(t){return q({x:A(t,"x1"),y:A(t,"y1")},{x:A(t,"x2"),y:A(t,"y2")})}(t);case"polyline":return W(t);case"polygon":return function(t){var e=t.points;return W(t)+q(e.getItem(e.numberOfItems-1),e.getItem(0))}(t)}}function J(t,e){var n=e||{},i=n.el||function(t){for(var e=t.parentNode;b.svg(e)&&b.svg(e.parentNode);)e=e.parentNode;return e}(t),r=i.getBoundingClientRect(),o=A(i,"viewBox"),s=r.width,a=r.height,l=n.viewBox||(o?o.split(" "):[0,0,s,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:a,vW:l[2],vH:l[3]}}U.version="3.1.0",U.get=D,U.set=F,U.convertPx=T,U.penner={linear:function(){return function(t){return t}}},U.path=function(t){return{el:t,svg:J(t),totalLength:G(t),deltaCorrections:{x:4,y:5}}},U.getPathProgress=function(t,e,n){function i(n){void 0===n&&(n=0);var i=e*t.totalLength,r=i+n>=1?i+n:0;return t.el.getPointAtLength(r)}var r=J(t.el,t.svg),o=i(),s=i(-1),a=i(1);return{x:1*(o.x-r.x),y:1*(o.y-r.y),angle:180*Math.atan2(a.y-s.y,a.x-s.x)/Math.PI}};var K=U,Q={transform:["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skewX","skewY","perspective"]},X=["cm","mm","in","px","pt","pc","em","ex","ch","rem","vw","vh","vmin","vmax","%"],Y=["deg","rad","grad","turn"],Z="measurement",tt="color";return{npm_name:"@kissmybutton/motorcortex-anime",version:"2.1.14",incidents:[{exportable:function(t){c(n,t);var e=d(n);function n(){return i(this,n),e.apply(this,arguments)}return o(n,[{key:"onGetContext",value:function(){var t={};if(Object.prototype.hasOwnProperty.call(Q,this.attributeKey))for(var e=Q[this.attributeKey],n=0;n<e.length;n++)Object.prototype.hasOwnProperty.call(this.targetValue,e[n])&&(t[e[n]]=[this.initialValue[e[n]],this.targetValue[e[n]]]);else t[this.attributeKey]=[this.initialValue,this.targetValue];this.target=K(l(l({autoplay:!1,duration:this.props.duration,easing:"linear",targets:this.element},(this.attrs||{}).attrs||{}),t))}},{key:"getScratchValue",value:function(){if("transform"!==this.attributeKey)return K.get(this.element,this.attributeKey);for(var t={},e=Q[this.attributeKey],n=function(t,e){var n,i,r,o,s,a,l,c,u=t.getComputedStyle(e).transform;return""===u||"none"===u?{}:(n=u.split("(")[1].split(")")[0].split(","),i=Math.atan2(n[1],n[0]),r=Math.pow(n[0],2)+Math.pow(n[1],2),o=Math.pow(n[2],2)+Math.pow(n[3],2),s=Math.sqrt(r),a=(n[0]*n[3]-n[2]*n[1])/s,l=Math.atan2(n[0]*n[2]+n[1]*n[3],r),c=Math.atan2(n[1]*n[3]+n[0]*n[2],o),{rotate:i/(Math.PI/180)+"deg",scaleX:s,scaleY:a,skewX:(1===r?l/(Math.PI/180):0)+"deg",skewY:(1===o?c/(Math.PI/180):0)+"deg",translateX:n[4]+"px",translateY:n[5]+"px"})}(this.context.window,this.element),i=0;i<e.length;i++)t[e[i]]=Object.prototype.hasOwnProperty.call(n,e[i])?n[e[i]]:K.get(this.element,e[i]);return t}},{key:"onProgress",value:function(t){return this.target.seek(this.target.duration*t)}}]),n}(n.default.Effect),name:"Anime",attributesValidationRules:{animatedAttrs:{type:"object",props:{background:{optional:!0,type:tt},backgroundColor:{optional:!0,type:tt},backgroundPosition:{optional:!0,type:"string"},backgroundSize:{optional:!0,type:"string"},border:{optional:!0,type:"string"},borderBottom:{optional:!0,type:"string"},borderBottomColor:{optional:!0,type:tt},borderBottomLeftRadius:{optional:!0,type:Z,units:X},borderBottomRightRadius:{optional:!0,type:Z,units:X},borderBottomWidth:{optional:!0,type:Z,units:X},borderColor:{optional:!0,type:tt},borderEndEndRadius:{optional:!0,type:Z,units:X},borderEndStartRadius:{optional:!0,type:Z,units:X},borderImageOutset:{optional:!0,type:Z,units:X,min:0},borderImageSlice:{optional:!0,type:Z,units:X,min:0},borderImageWidth:{optional:!0,type:Z,units:X,min:0},borderLeft:{optional:!0,type:"string"},borderLeftColor:{optional:!0,type:tt},borderLeftWidth:{optional:!0,type:Z,units:X},borderRadius:{optional:!0,type:Z,units:X},borderRight:{optional:!0,type:"string"},borderRightColor:{optional:!0,type:tt},borderRightWidth:{optional:!0,type:Z,units:X},borderStartEndRadius:{optional:!0,type:Z,units:X},borderStartStartRadius:{optional:!0,type:Z,units:X},borderTop:{optional:!0,type:"string"},borderTopColor:{optional:!0,type:tt},borderTopLeftRadius:{optional:!0,type:Z,units:X},borderTopRightRadius:{optional:!0,type:Z,units:X},borderTopWidth:{optional:!0,type:Z,units:X},borderWidth:{optional:!0,type:Z,units:X},bottom:{optional:!0,type:Z,units:X},boxShadow:{optional:!0,type:"string"},caretColor:{optional:!0,type:tt},color:{optional:!0,type:tt},columnCount:{optional:!0,type:"number",min:0,integer:!0},columnGap:{optional:!0,type:Z,units:X},columnRule:{optional:!0,type:"string"},columnRuleColor:{optional:!0,type:tt},columnRuleWidth:{optional:!0,type:Z,units:X},columns:{optional:!0,type:"number",min:0,integer:!0},columnWidth:{optional:!0,type:Z,units:X},flex:{optional:!0,type:"number",min:0,integer:!0},flexBasis:{optional:!0,type:Z,units:X},flexGrow:{optional:!0,type:"number",min:0,integer:!0},flexShrink:{optional:!0,type:"number",min:0,integer:!0},font:{optional:!0,type:"string"},fontSize:{optional:!0,type:Z,units:X},fontSizeAdjust:{optional:!0,type:Z,units:X,min:0},fontStretch:{optional:!0,type:Z,units:["%"]},fontWeight:{optional:!0,type:"string"},gap:{optional:!0,type:Z,units:X},gridColumnGap:{optional:!0,type:Z,units:X},gridGap:{optional:!0,type:Z,units:X},gridRowGap:{optional:!0,type:Z,units:X},gridTemplateColumns:{optional:!0,type:Z,units:X},gridTemplateRows:{optional:!0,type:Z,units:X},height:{optional:!0,type:Z,units:X,min:0},inset:{optional:!0,type:Z,units:X,min:0},insetBlock:{optional:!0,type:Z,units:X},insetBlockEnd:{optional:!0,type:Z,units:X},insetBlockStart:{optional:!0,type:Z,units:X},insetInline:{optional:!0,type:Z,units:X},insetInlineEnd:{optional:!0,type:Z,units:X},insetInlineStart:{optional:!0,type:Z,units:X},left:{optional:!0,type:Z,units:X},letterSpacing:{optional:!0,type:Z,units:X},lineClamp:{optional:!0,type:"number",min:0,integer:!0},lineHeight:{optional:!0,type:Z,units:X,min:0},margin:{optional:!0,type:"string"},marginBottom:{optional:!0,type:Z,units:X},marginLeft:{optional:!0,type:Z,units:X},marginRight:{optional:!0,type:Z,units:X},marginTop:{optional:!0,type:Z,units:X},maskBorder:{optional:!0,type:Z,units:X,min:0},maskPosition:{optional:!0,type:"string"},maskSize:{optional:!0,type:"string"},maxHeight:{optional:!0,type:Z,units:X,min:0},maxWidth:{optional:!0,type:Z,units:X,min:0},objectPosition:{optional:!0,type:"string"},offset:{optional:!0,type:Z,units:X},offsetAnchor:{optional:!0,type:"string"},offsetDistance:{optional:!0,type:Z,units:X},offsetPath:{optional:!0,type:"string"},offsetPosition:{optional:!0,type:"string"},offsetRotate:{optional:!0,type:Z,units:Y},opacity:{optional:!0,type:"number",min:0,max:1},order:{optional:!0,type:"number",integer:!0},outline:{optional:!0,type:"string"},outlineColor:{optional:!0,type:tt},outlineOffset:{optional:!0,type:Z,units:X},outlineRadius:{optional:!0,type:Z,units:X},outlineRadiusBottomleft:{optional:!0,type:Z,units:X},outlineRadiusBottomright:{optional:!0,type:Z,units:X},outlineRadiusTopleft:{optional:!0,type:Z,units:X},outlineRadiusTopright:{optional:!0,type:Z,units:X},outlineWidth:{optional:!0,type:Z,units:X},padding:{optional:!0,type:Z,units:X},paddingBottom:{optional:!0,type:Z,units:X},paddingLeft:{optional:!0,type:Z,units:X},paddingRight:{optional:!0,type:Z,units:X},paddingTop:{optional:!0,type:Z,units:X},perspective:{optional:!0,type:Z,units:X},perspectiveOrigin:{optional:!0,type:"string"},right:{optional:!0,type:Z,units:X},rotate:{optional:!0,type:Z,units:Y},rowGap:{optional:!0,type:Z,units:X},scale:{optional:!0,type:"number",min:0},scrollbarColor:{optional:!0,type:tt},scrollMargin:{optional:!0,type:Z,units:X},scrollMarginBlock:{optional:!0,type:Z,units:X},scrollMarginBlockEnd:{optional:!0,type:Z,units:X},scrollMarginBlockStart:{optional:!0,type:Z,units:X},scrollMarginBottom:{optional:!0,type:Z,units:X},scrollMarginInline:{optional:!0,type:Z,units:X},scrollMarginInlineEnd:{optional:!0,type:Z,units:X},scrollMarginInlineStart:{optional:!0,type:Z,units:X},scrollMarginLeft:{optional:!0,type:Z,units:X},scrollMarginRight:{optional:!0,type:Z,units:X},scrollMarginTop:{optional:!0,type:Z,units:X},scrollPadding:{optional:!0,type:Z,units:X},scrollPaddingBlock:{optional:!0,type:Z,units:X},scrollPaddingBlockEnd:{optional:!0,type:Z,units:X},scrollPaddingBlockStart:{optional:!0,type:Z,units:X},scrollPaddingBottom:{optional:!0,type:Z,units:X},scrollPaddingInline:{optional:!0,type:Z,units:X},scrollPaddingInlineEnd:{optional:!0,type:Z,units:X},scrollPaddingInlineStart:{optional:!0,type:Z,units:X},scrollPaddingLeft:{optional:!0,type:Z,units:X},scrollPaddingRight:{optional:!0,type:Z,units:X},scrollPaddingTop:{optional:!0,type:Z,units:X},scrollSnapCoordinate:{optional:!0,type:"string"},scrollSnapDestination:{optional:!0,type:Z,units:X},shapeImageThreshold:{optional:!0,type:"string"},shapeMargin:{optional:!0,type:Z,units:X},shapeOutside:{optional:!0,type:"string"},tabSize:{optional:!0,type:"string"},textDecoration:{optional:!0,type:"string"},textDecorationColor:{optional:!0,type:tt},textDecorationThickness:{optional:!0,type:Z,units:X},textEmphasis:{optional:!0,type:"string"},textEmphasisColor:{optional:!0,type:tt},textFillColor:{optional:!0,type:tt},textIndent:{optional:!0,type:Z,units:X},textShadow:{optional:!0,type:"string"},textStroke:{optional:!0,type:"string"},textStrokeColor:{optional:!0,type:tt},textUnderlineOffset:{optional:!0,type:Z,units:X},top:{optional:!0,type:Z,units:X},transform:{optional:!0,type:"object",props:{translateX:{type:Z,units:X,optional:!0},translateY:{type:Z,units:X,optional:!0},translateZ:{type:Z,units:X,optional:!0},rotate:{type:Z,units:Y,optional:!0},rotateX:{type:Z,units:Y,optional:!0},rotateY:{type:Z,units:Y,optional:!0},rotateZ:{type:Z,units:Y,optional:!0},scale:{type:"number",min:0,optional:!0},scaleX:{type:"number",min:0,optional:!0},scaleY:{type:"number",min:0,optional:!0},scaleZ:{type:"number",min:0,optional:!0},skewX:{type:Z,units:Y,optional:!0},skewY:{type:Z,units:Y,optional:!0},perspective:{type:Z,units:X,optional:!0}}},transformOrigin:{optional:!0,type:"string"},verticalAlign:{optional:!0,type:"string"},visibility:{optional:!0,type:"string"},width:{optional:!0,type:Z,units:X},wordSpacing:{optional:!0,type:Z,units:X},zIndex:{optional:!0,type:"number",integer:!0},zoom:{optional:!0,type:Z,units:["%"],min:0}},transformOrigin:{type:"string"},verticalAlign:{type:"string"},visibility:{type:"string"},width:{type:Z,units:X},wordSpacing:{type:Z,units:X},zIndex:{type:"number",integer:!0},zoom:{type:Z,units:["%"],min:0}}}},{exportable:function(t){c(n,t);var e=d(n);function n(){return i(this,n),e.apply(this,arguments)}return o(n,[{key:"onGetContext",value:function(){this.pixelsAccuracy=this.attrs.pixelsAccuracy||4,this.calculatedPoints=[];var t=this.context.getElements(this.targetValue.pathElement)[0];this.path=K.path(t),this.isPathTargetInsideSVG=this.element instanceof SVGElement}},{key:"onProgress",value:function(t){var e,n=Math.round(this.path.totalLength/this.pixelsAccuracy*t)*this.pixelsAccuracy;if(null!==this.calculatedPoints[n]&&void 0!==this.calculatedPoints[n])e=this.calculatedPoints[n];else{var i=K.getPathProgress(this.path,n/this.path.totalLength,this.isPathTargetInsideSVG);e="\n            translateX(".concat(i.x,"px)\n            translateY(").concat(i.y,"px)\n            rotate(").concat(i.angle,"deg)\n        "),this.calculatedPoints[n]=e}this.element.style.transform=e}}]),n}(n.default.Effect),name:"MotionPath",attributesValidationRules:{animatedAttrs:{type:"object",props:{positionOn:{type:"object",props:{pathElement:{type:"string"}}}}}}}],compositeAttributes:Q}}(n(0))}).call(this,n(9))},function(t){t.exports=JSON.parse('{"a":"@kissmybutton/motorcortex-slides","b":"1.0.22"}')},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var l,c=[],u=!1,p=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):p=-1,c.length&&h())}function h(){if(!u){var t=a(d);u=!0;for(var e=c.length;e;){for(l=c,c=[];++p<e;)l&&l[p].run();p=-1,e=c.length}l=null,u=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||u||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e,n){t.exports=function(t){"use strict";var e=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(t);function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var a=function(t){return document.getElementById(t)},l=function(t){return document.createElement(t)},c=function(){var t;return(t=document).addEventListener.apply(t,arguments)},u=function(){var t;return(t=document).removeEventListener.apply(t,arguments)},p=function(t,e){return function(t){var e=t.exports={};e.playSVG='\n  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20">\n    <path fill="#999" fill-rule="nonzero" d="M16.224 8.515L2.582.245A1.7 1.7 0 0 0 0 1.702V18.24a1.7 1.7 0 0 0 2.582 1.455l13.642-8.27a1.7 1.7 0 0 0 0-2.91z"/>\n</svg>\n\n',e.dcSVG='\n  <svg class="svg" style="transform:scale(0.55)" version="1.0" xmlns="http://www.w3.org/2000/svg"\n width="1705.000000pt" height="1903.000000pt" viewBox="0 0 1705.000000 1903.000000"\n preserveAspectRatio="xMidYMid meet">\n<metadata>\nCreated by potrace 1.15, written by Peter Selinger 2001-2017\n</metadata>\n<g transform="translate(0.000000,1903.000000) scale(0.100000,-0.100000)"\nfill="#000000" stroke="none">\n<path d="M0 9515 l0 -9515 1583 0 1582 0 4430 4655 c2437 2561 4457 4687 4490\n4726 33 38 1164 1227 2513 2642 l2452 2572 0 2192 c0 1206 -2 2193 -4 2193 -3\n0 -1597 -1652 -3542 -3671 l-3538 -3671 -31 35 c-16 20 -1497 1683 -3290 3696\nl-3260 3661 -1692 0 -1693 0 0 -9515z m5504 2412 c1253 -1413 2279 -2574 2282\n-2580 3 -9 -3274 -3438 -4597 -4811 -5 -6 -9 1968 -9 4999 l0 5010 24 -25 c13\n-14 1048 -1181 2300 -2593z"/>\n<path d="M13924 7584 c-34 -17 -2029 -2158 -2029 -2178 0 -15 5121 -5400 5141\n-5404 12 -3 14 295 14 2241 l0 2245 -1478 1543 c-813 849 -1490 1550 -1505\n1557 -38 16 -105 15 -143 -4z"/>\n</g>\n</svg>\n',e.pauseSVG='\n  <svg class="svg" style="transform:scale(1.5)" width="100%" height="100%" viewBox="0 0 36 36" >\n    <path id="pause-icon" data-state="playing" d="M11,10 L17,10 17,26 11,26 M20,10 L26,10 26,26 20,26" />\n  </svg>\n',e.replaySVG='\n  <svg class="svg" width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 1000 1000" enable-background="new 0 0 1000 1000" xml:space="preserve">\n    <metadata> Svg Vector Icons : http://www.onlinewebfonts.com/icon </metadata>\n    <g><g transform="translate(0.000000,511.000000) scale(0.100000,-0.100000)">\n      <path d="M5356.3,4203.8c-1247.8-153.1-2324.2-811.3-3000.7-1839.7c-379.4-578.2-596.5-1209-660.5-1933.4l-27.4-294.8H883.9c-431.9,0-783.9-6.9-783.9-18.3c0-9.2,477.6-493.7,1062.7-1078.7l1062.7-1062.7L3288.1-961.1C3873.1-376,4350.8,108.5,4350.8,117.6c0,11.4-356.5,18.3-790.7,18.3h-793l18.3,189.7C2831,876.3,2991,1338,3288.1,1779.1C4122.3,3026.9,5706,3472.5,7065.8,2841.8C7639.4,2578.9,8197,2035,8487.3,1461.4C8581,1274,8709,896.9,8754.7,666.1c48-246.8,54.8-811.3,9.1-1055.8C8567.3-1491.3,7788-2394,6720.7-2750.5c-315.4-107.4-541.6-139.4-941.6-139.4c-287.9,0-415.9,11.4-598.8,50.3c-523.3,112-973.6,335.9-1371.2,681c-75.4,68.6-148.5,123.4-160,123.4c-9.1,0-187.4-169.1-393.1-374.8c-434.2-434.2-420.5-363.4-105.1-628.5c852.4-710.7,1972.3-1055.8,3046.4-937c1627.2,176,2977.8,1257,3489.8,2790.4c457.1,1368.9,169.1,2843-777,3969.7C8322.7,3484,7417.8,4000.4,6503.6,4160.4C6197.4,4213,5619.2,4235.8,5356.3,4203.8z"/>\n      <path d="M4990.7,124.5c0-1503.8,4.6-1794,32-1778c16,9.1,505.1,413.6,1085.6,895.8C7113.8,78.8,7161.8,122.2,7122.9,161c-80,75.4-2109.4,1757.5-2120.8,1757.5C4995.3,1918.5,4990.7,1111.8,4990.7,124.5z"/>\n    </g></g>\n  </svg>\n',e.volumeSVG='\n  <svg class="svg" width="100%" height="100%" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n   viewBox="0 0 286.374 286.374" enable-background="new 0 0 286.374 286.374" xml:space="preserve">\n    <g id="Volume_2">\n      <path style="fill-rule:evenodd;clip-rule:evenodd;" d="M233.636,26.767l-33.372,28.5c25.659,21.07,42.006,52.616,42.006,87.92\n        c0,35.305-16.347,66.851-42.006,87.921l33.372,28.499c32.324-28.869,52.738-70.268,52.738-116.421\n        C286.374,97.034,265.96,55.635,233.636,26.767z M177.737,74.513l-34.69,29.64c15.14,6.818,27.19,21.681,27.19,39.034\n        s-12.05,32.216-27.19,39.034l34.69,29.64c21.294-15.717,36.051-40.586,36.051-68.674C213.788,115.099,199.03,90.23,177.737,74.513z\n         M108.672,48.317L44.746,98.441H17.898C4.671,98.441,0,103.268,0,116.34v53.695c0,13.072,4.951,17.898,17.898,17.898h26.848\n        l63.926,50.068c7.668,4.948,16.558,6.505,16.558-7.365V55.683C125.23,41.813,116.34,43.37,108.672,48.317z"/>\n    </g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\n  </svg>\n',e.volumeMuteSVG='\n  <svg class="svg" width="100%" height="100%" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n   viewBox="0 0 286.277 286.277" enable-background="new 0 0 286.277 286.277" xml:space="preserve">\n    <g id="Volume_none">\n      <path style="fill-rule:evenodd;clip-rule:evenodd;" d="M245.102,143.151l36.98-37.071c5.593-5.605,5.593-14.681,0-20.284\n        l-10.124-10.142c-5.593-5.604-14.655-5.604-20.247,0l-36.98,37.071l-36.977-37.043c-5.594-5.603-14.654-5.603-20.247,0\n        l-10.124,10.143c-5.594,5.603-5.594,14.679,0,20.282l36.987,37.053l-36.961,37.051c-5.591,5.604-5.591,14.681,0,20.284\n        l10.126,10.141c5.593,5.604,14.654,5.604,20.247,0l36.96-37.05l36.97,37.035c5.592,5.605,14.654,5.605,20.247,0l10.124-10.141\n        c5.593-5.603,5.593-14.68,0-20.282L245.102,143.151z M108.674,48.296L44.747,98.42H17.9c-13.228,0-17.899,4.826-17.899,17.898\n        L0,142.719l0.001,27.295c0,13.072,4.951,17.898,17.899,17.898h26.847l63.927,50.068c7.667,4.948,16.557,6.505,16.557-7.365V55.662\n        C125.23,41.792,116.341,43.349,108.674,48.296z"/>\n    </g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g>\n  </svg>\n',e.settingsSVG='\n  <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19">\n    <path fill="#999" fill-rule="nonzero" d="M17.812 7.52h-1.474a7.09 7.09 0 0 0-.604-1.456l1.043-1.042a1.187 1.187 0 0 0 0-1.68l-1.12-1.118a1.188 1.188 0 0 0-1.68 0l-1.043 1.042a7.05 7.05 0 0 0-1.455-.604V1.188C11.48.531 10.948 0 10.292 0H8.708c-.656 0-1.187.532-1.187 1.188v1.474a7.1 7.1 0 0 0-1.456.604L5.022 2.224a1.187 1.187 0 0 0-1.68 0l-1.12 1.12a1.188 1.188 0 0 0 0 1.68l1.044 1.042c-.256.46-.458.949-.604 1.455H1.188C.531 7.52 0 8.052 0 8.708v1.584c0 .656.532 1.187 1.188 1.187h1.474c.146.507.348.995.604 1.456L2.22 13.979a1.188 1.188 0 0 0 0 1.68l1.12 1.119a1.223 1.223 0 0 0 1.68 0l1.043-1.043c.462.255.95.458 1.457.605v1.472c0 .656.531 1.188 1.187 1.188h1.584c.656 0 1.187-.532 1.187-1.188V16.34c.506-.147.995-.35 1.456-.604l1.043 1.043a1.188 1.188 0 0 0 1.68 0l1.119-1.12a1.187 1.187 0 0 0 0-1.679l-1.043-1.043c.256-.461.458-.95.604-1.456h1.474A1.188 1.188 0 0 0 19 10.29V8.709c0-.656-.532-1.187-1.188-1.187zM9.5 13.459a3.958 3.958 0 1 1 0-7.916 3.958 3.958 0 0 1 0 7.916z"/>\n</svg>\n\n',e.arrowRightSVG='\n  <svg class="svg arrow" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="100%" height="100%" viewBox="0 0 50 80" xml:space="preserve">\n    <polyline fill="none" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" points="0.375,0.375 45.63,38.087 0.375,75.8 "/>\n  </svg>\n',e.arrowLeftSVG='\n  <svg class="svg arrow" class="svg" width="100%" height="100%" viewBox="0 0 50 80" xml:space="preserve">\n    <polyline fill="none" stroke-width="10" stroke-linecap="round" stroke-linejoin="round" points="45.63,75.8 0.375,38.087 45.63,0.375 "/>\n  </svg> \n',e.fullScreenSVG='\n <svg xmlns="http://www.w3.org/2000/svg" width="19" height="19" viewBox="0 0 19 19">\n    <g fill="#999" fill-rule="nonzero">\n        <path d="M18.802 1.942A1.746 1.746 0 0 0 17.06.2h-4.537a.99.99 0 1 0 0 1.98h4.102c.11 0 .198.088.198.197v2.588a.99.99 0 1 0 1.98 0V1.942zM.198 4.965a.99.99 0 0 0 1.98 0v-2.59a.198.198 0 0 1 .197-.199h4.102a.99.99 0 0 0 0-1.979H1.944C.983.2.204.978.202 1.94L.198 4.965zM18.802 17.056v-3.023a.99.99 0 1 0-1.98 0v2.592c0 .11-.088.198-.197.198h-4.102a.99.99 0 1 0 0 1.98h4.533c.964-.001 1.746-.783 1.746-1.747zM.198 17.056a1.746 1.746 0 0 0 1.746 1.742h4.533a.99.99 0 1 0 0-1.979H2.375a.198.198 0 0 1-.198-.194v-2.592a.99.99 0 1 0-1.98 0v3.023z"/>\n        <rect width="10.651" height="6.117" x="4.174" y="6.441" rx="1.954"/>\n    </g>\n</svg>\n\n',e.loopSVG='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="22" viewBox="0 0 24 22">\n    <g fill="#999" fill-rule="nonzero">\n        <path d="M16.773 15.476H16.3a1.25 1.25 0 0 0 0 2.5h.478a6.944 6.944 0 0 0 .98-13.823.251.251 0 0 1-.208-.246V1.93A1.25 1.25 0 0 0 15.584.906l-4.778 3.341a1.25 1.25 0 0 0 .717 2.274h4.764c2.829 0 4.963 1.925 4.963 4.478a4.482 4.482 0 0 1-4.477 4.477zM6.247 17.845c.12.02.208.124.208.246v1.976a1.249 1.249 0 0 0 1.966 1.024l4.773-3.34a1.251 1.251 0 0 0-.717-2.275H7.713c-2.829 0-4.963-1.925-4.963-4.476a4.482 4.482 0 0 1 4.477-4.479h.478a1.25 1.25 0 1 0 0-2.5h-.478a6.945 6.945 0 0 0-.98 13.824z"/>\n    </g>\n</svg>\n',e.loadingSVG='<svg class="lds-spinner" style="transform:scale(.3)" width="200px"  height="200px"  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" style="background: none;"><g transform="rotate(0 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.9166666666666666s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(30 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.8333333333333334s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(60 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.75s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(90 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.6666666666666666s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(120 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5833333333333334s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(150 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.5s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(180 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.4166666666666667s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(210 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.3333333333333333s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(240 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.25s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(270 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.16666666666666666s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(300 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="-0.08333333333333333s" repeatCount="indefinite"></animate>\n  </rect>\n</g><g transform="rotate(330 50 50)">\n  <rect x="47" y="24" rx="9.4" ry="4.8" width="6" height="12" fill="#999">\n    <animate attributeName="opacity" values="1;0" keyTimes="0;1" dur="1s" begin="0s" repeatCount="indefinite"></animate>\n  </rect>\n</g></svg>'}(e={exports:{}}),e.exports}(),d={name:"mc-player",set playerName(t){this.name+="-"+t}},h=function(t,e){return{default:{"settings-background-color":"whitesmoke","hms-background-color":"whitesmoke","background-color":"whitesmoke","grad-height":"0px",color:"black","svg-color":"black","loopbar-color":"#808086","speedbar-color":"#999","runningbar-color":"red","cursor-color":"red","speedbar-cursor-color":"red","button-opacity":"1","hover-color":"rgba(200, 200, 200, 0.5)","slider-off-color":"#ccc","slider-on-color":"red","preview-border":"2px solid #fff",border:"1px solid rgba(255,255,255,0.2)","controls-border":"none","svg-selected-color":"red","loopbar-boundaries-style::before":"","loopbar-boundaries-style::after":"","theme-style":"","loopbar-boundaries-color":"#808086"},dark:{"settings-background-color":"black","hms-background-color":"black","background-color":"black","grad-height":"0px",color:"white","svg-color":"white","loopbar-color":"#808086","speedbar-color":"#999","runningbar-color":"red","cursor-color":"red","speedbar-cursor-color":"red","button-opacity":"1","hover-color":"rgba(90, 90, 90, 0.5)","slider-off-color":"#ccc","slider-on-color":"red","preview-border":"2px solid rgba(0,0,0,1)",border:"1px solid rgba(255,255,255,0.2)","controls-border":"none","svg-selected-color":"red","loopbar-boundaries-style::before":"","loopbar-boundaries-style::after":"","theme-style":"","loopbar-boundaries-color":"#808086"},whiteGold:{"settings-background-color":"white","hms-background-color":"white","background-color":"white","grad-height":"0px",color:"#a17f1a","svg-color":"#a17f1a","loopbar-color":"#808086","speedbar-color":"#999","runningbar-color":"#a17f1a","cursor-color":"#a17f1a","speedbar-cursor-color":"#a17f1a","button-opacity":"1","hover-color":"rgba(200, 200, 200, 0.5)","slider-off-color":"#ccc","slider-on-color":"#a17f1a","preview-border":"2px solid #808086",border:"1px solid rgba(255,255,255,0.2)","controls-border":"none","svg-selected-color":"red","loopbar-boundaries-style::before":"","loopbar-boundaries-style::after":"","theme-style":"","loopbar-boundaries-color":"#808086"},darkGold:{"settings-background-color":"black","hms-background-color":"black","background-color":"black","grad-height":"0px",color:"#a17f1a","svg-color":"#a17f1a","loopbar-color":"#808086","speedbar-color":"#999","runningbar-color":"#a17f1a","cursor-color":"#a17f1a","speedbar-cursor-color":"#a17f1a","button-opacity":"1","hover-color":"rgba(90, 90, 90, 0.5)","slider-off-color":"#ccc","slider-on-color":"#a17f1a","preview-border":"2px solid #808086",border:"1px solid rgba(255,255,255,0.2)","controls-border":"none","svg-selected-color":"red","loopbar-boundaries-style::before":"","loopbar-boundaries-style::after":"","theme-style":"","loopbar-boundaries-color":"#808086"},transparent:{"background-color":"transparent","settings-background-color":"rgba(0,0,0,0.9)","hms-background-color":"rgba(0,0,0,0.5)","preview-border":"2px solid #fff",color:"#e8eaeb","grad-height":"200px","svg-color":"#e8eaeb","loopbar-color":"#cfcfd0","totalbar-color":"#797979","speedbar-color":"#999","runningbar-color":"red","cursor-color":"#9e2d11","cursor-style::before":'\n        box-shadow: 0px 0px 6px 6px red;\n        width: 6px;\n        height: 6px;\n        border-radius: 100%;\n        display: block;\n        content: "";\n        background-color: red;\n        position: relative;\n        left: -2px;\n        top: -2px;\n    ',"cursor-style::after":'\n        width: 6px;\n        height: 6px;\n        border-radius: 100%;\n        box-shadow: 0px 0px 6px 6px red;\n        content: "";\n        display: block;\n        position: absolute;\n        background-color: red;\n        right: -2px;\n        bottom: -2px;\n    ',"speedbar-cursor-color":"red","button-opacity":"1","hover-color":"rgba(200, 200, 200, 0.5)","slider-off-color":"#ccc","slider-on-color":"red",border:"1px solid rgba(255,255,255,0.1)","svg-selected-color":"red","loopbar-boundaries-style":"\n        transform: translate(-50%,-37%);\n        position: absolute;\n        width: 18px;\n        background-color: #ff0000;\n        height: 18px;\n        border-radius: 10px;\n        z-index: 40;\n        position: absolute;\n        width: 18px;\n        background-color: #ff0000;\n        height: 18px;\n        border-radius: 10px;\n        z-index: 40;\n        width: 18px;\n        height: 9px;\n        border-radius: 100%;\n        top: 1.5px;\n    ","loopbar-boundaries-style::before":'\n            width: 16px;\n        height: 5px;\n        background: #ff0000;\n        border-radius: 100%;\n        display: block;\n        content: "";\n        position: relative;\n        left: -2px;\n        top: 2px;\n    ',"loopbar-boundaries-style::after":'\n        width: 14px;\n        height: 11px;\n        border-radius: 100%;\n        background: #ff0000;\n        content: "";\n        display: block;\n        position: relative;\n        top: -6px;\n        left: 5px;\n    ',"theme-style":"\n        #".concat(e,"-loopbar-start {\n            left: -9px !important;\n            transform: rotate(180deg);\n            top: -2px;\n        }\n    ")},"mc-green":{"background-color":"#141416","settings-background-color":"rgba(0,0,0,0.9)","hms-background-color":"rgba(0,0,0,0.5)","preview-border":"2px solid #254a42",color:"#999","grad-height":"0px","svg-color":"#999","loopbar-color":"rgba(0,184,139,0.2)","loopbar-boundaries-color":"#00b88b","totalbar-color":"rgba(255, 255, 255, 0.11)","speedbar-color":"#999","runningbar-color":"#00b88b","cursor-color":"#00b88b","speedbar-cursor-color":"#00b88b","button-opacity":"1","hover-color":"rgba(0,184,139,0.2)","slider-off-color":"#ccc","slider-on-color":"#00b88b",border:"1px solid rgba(255,255,255,0.1)","controls-border":"1px solid #151515","svg-selected-color":"#00b88b","loopbar-boundaries-style":"\n        transform: translate(-50%,-37%);\n        position: absolute;\n        width: 18px;\n        background-color: #00b88b;\n        height: 18px;\n        border-radius: 10px;\n        z-index: 40;\n        position: absolute;\n        width: 18px;\n        background-color: #00b88b;\n        height: 18px;\n        border-radius: 10px;\n        z-index: 40;\n        width: 18px;\n        height: 9px;\n        border-radius: 100%;\n        top: 1.5px;\n    ","loopbar-boundaries-style::before":'\n            width: 16px;\n        height: 5px;\n        background: #00b88b;\n        border-radius: 100%;\n        display: block;\n        content: "";\n        position: relative;\n        left: -2px;\n        top: 2px;\n    ',"loopbar-boundaries-style::after":'\n        width: 14px;\n        height: 11px;\n        border-radius: 100%;\n        background: #00b88b;\n        content: "";\n        display: block;\n        position: relative;\n        top: -6px;\n        left: 5px;\n    ',"theme-style":"\n        #".concat(e,"-loopbar-start {\n            left: -9px !important;\n            transform: rotate(180deg);\n            top: -2px;\n        }\n    ")},"mc-blue":{"background-color":"#141416","settings-background-color":"rgba(0,0,0,0.9)","hms-background-color":"rgba(0,0,0,0.5)","preview-border":"2px solid #254453",color:"#999","grad-height":"0px","svg-color":"#999","loopbar-color":"rgba(0,153,225,0.2)","loopbar-boundaries-color":"#0099e1","totalbar-color":"rgba(255, 255, 255, 0.11)","speedbar-color":"#999","runningbar-color":"#0099e1","cursor-color":"#0099e1","speedbar-cursor-color":"#0099e1","button-opacity":"1","hover-color":"rgba(0,153,225,0.2)","slider-off-color":"#ccc","slider-on-color":"#0099e1",border:"1px solid rgba(255,255,255,0.1)","controls-border":"1px solid #151515","svg-selected-color":"#0099e1","loopbar-boundaries-style":"\n        transform: translate(-50%,-37%);\n        position: absolute;\n        width: 18px;\n        background-color: #0099e1;\n        height: 18px;\n        border-radius: 10px;\n        z-index: 40;\n        position: absolute;\n        width: 18px;\n        background-color: #0099e1;\n        height: 18px;\n        border-radius: 10px;\n        z-index: 40;\n        width: 18px;\n        height: 9px;\n        border-radius: 100%;\n        top: 1.5px;\n    ","loopbar-boundaries-style::before":'\n            width: 16px;\n        height: 5px;\n        background: #0099e1;\n        border-radius: 100%;\n        display: block;\n        content: "";\n        position: relative;\n        left: -2px;\n        top: 2px;\n    ',"loopbar-boundaries-style::after":'\n        width: 14px;\n        height: 11px;\n        border-radius: 100%;\n        background: #0099e1;\n        content: "";\n        display: block;\n        position: relative;\n        top: -6px;\n        left: 5px;\n    ',"theme-style":"\n        #".concat(e,"-loopbar-start {\n            left: -9px !important;\n            transform: rotate(180deg);\n            top: -2px;\n        }\n    ")},"on-top":{"background-height":"100%","pointer-event-panel-height":"calc(100% - 44px)","controls-bottom":"0px","settings-panel-bottom":"48px","controls-position":"0px"},"position-bottom":{"background-height":"calc(100% - 44px)","pointer-event-panel-height":"calc(100% - 44px)","controls-bottom":"-0px","settings-panel-bottom":"48px","controls-position":"40px"}}[t]},f=a,m=l,g=c,v=u,y=a,b=function(t,e,i){if(void 0!==n(i)){if(!1===i){t.elements.volumeBarActive.style.width=100*t.settings.previousVolume+"%",t.clip.setVolume(t.settings.previousVolume),t.settings.volumeMute=!1;var r=document.createElement("span");r.innerHTML=p.volumeSVG,t.elements.volumeBtn.getElementsByTagName("svg")[0].replaceWith(r)}else if(!0===i){t.settings.volumeMute=!0,t.elements.volumeBarActive.style.width="0%",t.clip.setVolume(0);var o=document.createElement("span");o.innerHTML=p.volumeMuteSVG,t.elements.volumeBtn.getElementsByTagName("svg")[0].replaceWith(o)}t.options.muted=t.settings.volumeMute,t.eventBroadcast("mute-change",t.settings.volumeMute)}if(void 0!==n(e)){if(t.settings.volume=e,t.settings.volume>0&&(t.settings.previousVolume=e),t.elements.volumeBarActive.style.width=100*t.settings.volume+"%",t.clip.setVolume(t.settings.volume),t.settings.volume>0){t.settings.volumeMute=!1;var s=document.createElement("span");s.innerHTML=p.volumeSVG,t.elements.volumeBtn.getElementsByTagName("svg")[0].replaceWith(s)}else if(0===t.settings.volume){t.settings.volumeMute=!0;var a=document.createElement("span");a.innerHTML=p.volumeMuteSVG,t.elements.volumeBtn.getElementsByTagName("svg")[0].replaceWith(a)}t.options.volume=t.settings.volume,t.eventBroadcast("volume-change",t.settings.volume),t.eventBroadcast("mute-change",t.settings.volumeMute)}},x=c,w=u,k=c,C=u,O=c,E=u,P=a,I=c,S=u,A=function(t,e){e&&e.preventDefault();var n=P("".concat(t.name,"-show-indicator-checkbox"));n.checked?(n.checked=!1,t.elements.indicator.style.visibility="hidden"):(n.checked=!0,t.elements.indicator.style.visibility="visible"),t.eventBroadcast("show-indicator-change",n.checked)},T=function(t,e){e&&e.preventDefault();var n=P("".concat(t.name,"-pointer-events-checkbox"));n.checked?(n.checked=!1,t.elements.mcPlayer.style.pointerEvents="none",t.elements.pointerEventPanel.style.pointerEvents="auto",P("".concat(t.name,"-controls")).style.pointerEvents="auto",t.elements.settingsPanel.style.pointerEvents="auto"):(n.checked=!0,t.options.pointerEvents=!1,t.elements.mcPlayer.style.pointerEvents="none",t.elements.pointerEventPanel.style.pointerEvents="none",P("".concat(t.name,"-controls")).style.pointerEvents="auto",t.elements.settingsPanel.style.pointerEvents="auto"),t.eventBroadcast("show-pointer-events-change",n.checked)},M=function(t,e){e&&e.preventDefault(),t.elements.volumeControl.classList.toggle("".concat(t.name,"-volume-width-transition")),t.elements.volumeControl.classList.toggle("".concat(t.name,"-hide"));var n=P("".concat(t.name,"-show-volume-checkbox"));n.checked?(n.checked=!1,t.elements.volumeControl.style.visibility="hidden",t.elements.timeDisplay.style.left="45px"):(n.checked=!0,t.elements.volumeControl.style.visibility="visible",t.elements.timeDisplay.style.left=""),t.eventBroadcast("show-volume-change",n.checked)},_=function(t,e){e&&e.preventDefault();var n=P("".concat(t.name,"-show-preview-checkbox"));n.checked?(n.checked=!1,P("".concat(t.name,"-hover-display")).style.visibility="hidden",P("".concat(t.name,"-hover-display")).style.display="none",t.options.preview=!1):(t.previewClip||t.createPreviewDisplay(),n.checked=!0,P("".concat(t.name,"-hover-display")).style.visibility="visible",P("".concat(t.name,"-hover-display")).style.display="flex",t.options.preview=!0),t.eventBroadcast("show-preview-change",n.checked)},j=function(t,e){"showIndicator"===e?A(t):"showPointerEvents"===e?T(t):"showVolume"===e?M(t):"showPreview"===e&&_(t)},D=a,B=c,V=u,L=a,R=function(t){t.settings.loopActivated=!t.settings.loopActivated,t.eventBroadcast("loop-change",t.settings.loopActivated),t.elements.loopButton.classList.toggle("svg-selected"),t.elements.loopBarStart.classList.toggle("m-fadeOut"),t.elements.loopBarEnd.classList.toggle("m-fadeOut"),t.elements.loopBarStart.classList.toggle("m-fadeIn"),t.elements.loopBarStart.classList.toggle("".concat(t.name,"-hide")),t.elements.loopBarEnd.classList.toggle("m-fadeIn"),t.elements.loopBarEnd.classList.toggle("".concat(t.name,"-hide")),L("".concat(t.name,"-loop-time")).classList.toggle("m-fadeOut"),L("".concat(t.name,"-loop-time")).classList.toggle("m-fadeIn"),L("".concat(t.name,"-loop-time")).classList.toggle("".concat(t.name,"-hide")),t.elements.loopEndTime.innerHTML=t.settings.loopEndMillisecond,t.elements.loopStartTime.innerHTML=t.settings.loopStartMillisecond,t.settings.needsUpdate=!0,t.settings.loopActivated||(t.elements.loopBar.style.left="0%",t.elements.loopBar.style.width="100%",t.settings.loopStartMillisecond=0,t.settings.loopEndMillisecond=t.clip.duration,t.settings.loopLastPositionXPxls=0,t.settings.loopLastPositionXPercentage=0,t.elements.runningBar.style.width=t.clip.runTimeInfo.currentMillisecond/t.clip.duration*100+"%")},z=R,N=a;function F(t,e){for(var n=e.parentNode;null!=n;){if(n==t)return!0;n=n.parentNode}return!1}var $=function(t){var e=t.clip.props.host.className.includes("full-screen");t.clip.props.host!==t.options.host&&!e&&t.clip.props.host.appendChild(t.elements.mcPlayer),t.clip.props.host!==t.options.host&&e&&t.options.host.appendChild(t.elements.mcPlayer),e?t.exitFullscreen():t.launchIntoFullscreen(t.clip.props.host)},H=$,U=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;t=Math.floor(t/16);var i=Math.random()>.5,r=("x"==e?n:3&n|8).toString(16);return i?r.toUpperCase():r}))},q=a,W=c,G=u,J=function(t){return document.querySelectorAll(t)},K=a,Q=new e.default.TimeCapsule,X=a,Y=function(t){return document.getElementsByTagName(t)},Z=l,tt=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function i(t){return"number"==typeof t&&isFinite(t)}var r=new RegExp("^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)","gi"),o=null,s=null;if(Object.prototype.hasOwnProperty.call(t,"width")){var a=t.width.match(r)[0],l=t.width.substring(a.length);o=!i(Number(a))||"%"!==l&&"px"!==l?null:{number:Number(a),unit:l}}if(Object.prototype.hasOwnProperty.call(t,"height")){var c=t.height.match(r)[0],u=t.height.substring(c.length);s=!i(Number(c))||"%"!==u&&"px"!==u?null:{number:Number(c),unit:u}}var p=1,d=1;null!==o&&"px"===o.unit&&o.number!==e.width&&(p=e.width/o.number),null!==s&&"px"===s.unit&&s.number!==e.height&&(d=e.height/s.number);var h=1;h=n?d>p?d:p:d<=p?d:p;var f={};if(null!==o){var m;m="px"===o.unit?o.number*h:o.number/100*e.width*h;var g=e.width-m;f.left=g/2}if(null!==o){var v;v="px"===s.unit?s.number*h:s.number/100*e.height*h;var y=e.height-v;f.top=y/2}return{scale:h,position:f}};return function(){function t(e){var n,i=this;for(var r in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),e.id=e.id||Date.now(),e.preview=e.preview||!1,e.showVolume=e.showVolume||!1,e.showIndicator=e.showIndicator||!1,e.theme=e.theme||"transparent on-top",e.host=e.host||e.clip.props.host,e.buttons=e.buttons||{},e.timeFormat=e.timeFormat||"ss",e.backgroundColor=e.backgroundColor||"black",e.fullscreen=e.fullscreen||!1,e.scaleToFit=null===(n=e.scaleToFit)||void 0===n||n,void 0===e.pointerEvents||null===e.pointerEvents?e.pointerEvents=!1:e.pointerEvents=Boolean(e.pointerEvents),e.onMillisecondChange=e.onMillisecondChange||null,e.speedValues=e.speedValues||[-2,-1,-.5,0,.5,1,2],e.muted=e.muted||!1,e.controls=0!=e.controls,e.loop=e.loop||!1,e.volume=void 0!==e.volume?e.volume:1,e.currentScript=e.currentScript||null,e.speedValues)isFinite(e.speedValues[r])||e.speedValues.splice(r,1);e.speedValues.sort((function(t,e){return t-e})),this.className=d.name,d.playerName=e.id,this.options=e,this.id=this.options.id,this.name=d.name,this.previewClip=null,this.clip=e.clip,this.clipClass=e.clipClass,this.state=this.clip.runTimeInfo.state,this.listeners={},this.previewScale=.25,this.settings={volume:1,journey:null,previousVolume:1,volumeMute:!1,needsUpdate:!0,resizeLoop:!1,loopJourney:!1,previewJourney:null,loopActivated:!1,requestingLoop:!1,playAfterResize:!1,loopStartMillisecond:0,loopLastPositionXPxls:0,loopLastPositionXPercentage:0,loopEndMillisecond:this.clip.duration,controls:!0},function(t){t.elements={};var e=t.clip.props.host;e.offsetWidth||(e.style.width=t.clip.props.containerParams.width),e.offsetHeight||(e.style.height=t.clip.props.containerParams.height);var n=document.createElement("link");n.rel="preconnect",n.href="https://fonts.gstatic.com";var i=document.createElement("link");i.rel="stylesheet",i.href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300&display=swap";var r=document.getElementsByTagName("head")[0];if(r.appendChild(n),r.appendChild(i),e.style.display="flex",e.style.justifyContent="center",e.style.alignItems="center",e.style.overflow="hidden",t.clip.props.host.style.position="relative",t.clip.props.host.style.zIndex="0",t.elements.mcPlayer=m("div"),t.elements.mcPlayer.id="".concat(t.name),t.elements.mcPlayer.className="".concat(t.className),t.elements.mcPlayer.innerHTML=function(t){return'\n  <div\n    class="pointer-event-panel"\n    id="'.concat(t.name,'-pointer-event-panel"\n  ></div>\n  <div\n    class="pointer-event-panel"\n    id="').concat(t.name,'-listener-helper"\n  ></div>\n  <div class="background"></div>\n  <div id="').concat(t.name,'-controls">\n    <div class="grad"></div>\n    <div id="').concat(t.name,'-totalbar">\n      <div id="').concat(t.name,'-hover-display">\n        <div id="').concat(t.name,'-hover-display-border"> </div>\n        <div id="').concat(t.name,'-hover-display-clip"> </div>\n        <div id="').concat(t.name,'-hover-millisecond"></div>\n      </div>\n      <div id="').concat(t.name,'-loopbar">\n        <div\n          class="').concat(t.name,'-loop-boundaries"\n          id="').concat(t.name,'-loopbar-start"\n        ></div>\n        <div\n          class="').concat(t.name,'-loop-boundaries"\n          id="').concat(t.name,'-loopbar-end"\n        ></div>\n        <div id="').concat(t.name,'-helperbar"></div>\n        <div id="').concat(t.name,'-runningbar">\n          <div id="').concat(t.name,'-cursor"></div>\n        </div>\n      </div>\n    </div>\n    <div id="').concat(t.name,'-left-controls">\n      <div id="').concat(t.name,'-status-btn">\n        ').concat(t.svg.playSVG,'\n        <span id="').concat(t.name,'-indicator"></span>\n      </div>\n      <div id="').concat(t.name,'-volume">\n        <div id="').concat(t.name,'-volume-btn">\n          ').concat(t.svg.volumeSVG,'\n        </div>\n        <div id="').concat(t.name,'-volumebar-helper"></div>\n        <div id="').concat(t.name,'-volumebar">\n            <div id="').concat(t.name,'-volumebar-active">\n              <div id="').concat(t.name,'-volume-cursor"></div>\n            </div>\n        </div>\n      </div>\n      <div id="').concat(t.name,'-time-display">\n        <span id="').concat(t.name,'-time-current"></span>\n        <span id="').concat(t.name,'-time-separator"></span>\n        <span id="').concat(t.name,'-time-total"></span>\n      </div>\n    </div>\n    <div id="').concat(t.name,'-right-controls">\n      <div\n        id="').concat(t.name,'-loop-btn-container"\n      >\n        <div\n          id="').concat(t.name,'-loop-btn"\n        >').concat(t.svg.loopSVG,'</div>\n        <div\n          id="').concat(t.name,'-loop-time"\n        >\n          <span\n            id="').concat(t.name,'-loopbar-start-time"\n            class="').concat(t.name,'-loopbar-time"\n          ></span>\n          <span>:</span>\n          <span\n            id="').concat(t.name,'-loopbar-end-time"\n            class="').concat(t.name,'-loopbar-time"\n          ></span>\n        </div>\n      </div>\n      <div\n        id="').concat(t.name,'-settings-btn"\n      >').concat(t.svg.settingsSVG,'</div>\n      <div\n        id="').concat(t.name,'-dc-btn"\n      >\n        ').concat(t.svg.dcSVG,'\n      </div>\n      \n      <div\n        id="').concat(t.name,'-full-screen-btn"\n      >').concat(t.svg.fullScreenSVG,'</div>\n    </div>\n    \n\n  </div>\n  <div id="').concat(t.name,'-settings-panel">\n    <ul id="').concat(t.name,'-main-settings">\n      <li id="').concat(t.name,'-settings-pointer-events">\n        <label>Pointer Events</label>\n        <label class="switch settings-switch">\n          <input id="').concat(t.name,'-pointer-events-checkbox" type="checkbox">\n          <span class="slider round"></span>\n        </label>\n      </li>\n      <li id="').concat(t.name,'-settings-preview">\n        <label>Show Preview</label>\n        <label class="switch settings-switch">\n          <input id="').concat(t.name,'-show-preview-checkbox" type="checkbox">\n          <span class="slider round"></span>\n        </label>\n      </li>\n      <li id="').concat(t.name,'-settings-indicator">\n        <label>Show Indicator</label>\n        <label class="switch settings-switch">\n          <input id="').concat(t.name,'-show-indicator-checkbox" type="checkbox">\n          <span class="slider round"></span>\n        </label>\n      </li>\n      <li id="').concat(t.name,'-settings-volume">\n        <label>Show Volume</label>\n        <label class="switch settings-switch">\n          <input id="').concat(t.name,'-show-volume-checkbox" type="checkbox">\n          <span class="slider round"></span>\n        </label>\n      </li>\n      <li id="').concat(t.name,'-settings-speed-show">\n        <label>Speed</label>\n        <div class="').concat(t.name,'-speed-btn">').concat(t.svg.arrowRightSVG,'</div>\n        <span id="').concat(t.name,'-speed-current"></span>\n      </li>\n    </ul>\n    <ul id="').concat(t.name,'-speed-settings">\n      <li id="').concat(t.name,'-settings-speed-hide">\n        <div class="').concat(t.name,'-speed-btn">').concat(t.svg.arrowLeftSVG,"</div>\n        <label id=").concat(t.name,'-speed-runtime>Speed</label>\n      </li>\n      <li>\n        <div id="').concat(t.name,'-speed-value-helperbar"></div>\n        <div id="').concat(t.name,'-speed-value-bar">\n          <div\n            class="').concat(t.name,'-speed-value-step"\n            id="').concat(t.name,'-speed-cursor"\n          >\n            <div></div>\n          </div>\n        </div>\n        <div id="').concat(t.name,'-speed-value">\n        </div>\n      </li>\n    </ul>\n  </div>\n')}({svg:p,name:t.name}),"string"==typeof t.options.host){var o=document.querySelectorAll(t.options.host);for(var s in o)isNaN(s)||o[s].appendChild(t.elements.mcPlayer)}else t.options.host.appendChild(t.elements.mcPlayer);for(var a in t.elements.pointerEventPanel=f("".concat(t.name,"-pointer-event-panel")),t.elements.listenerHelper=f("".concat(t.name,"-listener-helper")),t.elements.loopBar=f("".concat(t.name,"-loopbar")),t.elements.totalBar=f("".concat(t.name,"-totalbar")),t.elements.indicator=f("".concat(t.name,"-indicator")),t.elements.loopButton=f("".concat(t.name,"-loop-btn")),t.elements.volumeBar=f("".concat(t.name,"-volumebar")),t.elements.totalTime=f("".concat(t.name,"-time-total")),t.elements.volumeControl=f("".concat(t.name,"-volume")),t.elements.volumeBtn=f("".concat(t.name,"-volume-btn")),t.elements.runningBar=f("".concat(t.name,"-runningbar")),t.elements.loopBarEnd=f("".concat(t.name,"-loopbar-end")),t.elements.statusButton=f("".concat(t.name,"-status-btn")),t.elements.speedBar=f("".concat(t.name,"-speed-value-bar")),t.elements.currentTime=f("".concat(t.name,"-time-current")),t.elements.timeDisplay=f("".concat(t.name,"-time-display")),t.elements.speedCurrent=f("".concat(t.name,"-speed-current")),t.elements.loopBarStart=f("".concat(t.name,"-loopbar-start")),t.elements.volumeCursor=f("".concat(t.name,"-volume-cursor")),t.elements.settingsButton=f("".concat(t.name,"-settings-btn")),t.elements.donkeyclipButton=f("".concat(t.name,"-dc-btn")),t.elements.timeSeparator=f("".concat(t.name,"-time-separator")),t.elements.settingsPanel=f("".concat(t.name,"-settings-panel")),t.elements.settingsMainPanel=f("".concat(t.name,"-main-settings")),t.elements.fullScreenButton=f("".concat(t.name,"-full-screen-btn")),t.elements.volumeBarHelper=f("".concat(t.name,"-volumebar-helper")),t.elements.volumeBarActive=f("".concat(t.name,"-volumebar-active")),t.elements.settingsSpeedPanel=f("".concat(t.name,"-speed-settings")),t.elements.settingsShowVolume=f("".concat(t.name,"-settings-volume")),t.elements.settingsShowPreview=f("".concat(t.name,"-settings-preview")),t.elements.settingsPointerEvents=f("".concat(t.name,"-settings-pointer-events")),t.elements.speedBarHelper=f("".concat(t.name,"-speed-value-helperbar")),t.elements.settingsShowIndicator=f("".concat(t.name,"-settings-indicator")),t.elements.settingsSpeedButtonShow=f("".concat(t.name,"-settings-speed-show")),t.elements.settingsSpeedButtonHide=f("".concat(t.name,"-settings-speed-hide")),t.elements.volumeBarActive.style.width=100*t.settings.volume+"%",t.elements.currentTime.innerHTML=t.timeFormat(0),t.elements.totalTime.innerHTML=t.timeFormat(t.clip.duration),t.elements.timeSeparator.innerHTML="/",t.elements.settingsPanel.classList.add("m-fadeOut","".concat(t.name,"-hide")),t.options.showIndicator?(t.elements.indicator.style.visibility="visible",t.elements.statusButton.style.width="35px",t.elements.statusButton.style.height="20px",t.elements.statusButton.style.bottom="5px"):t.elements.indicator.style.visibility="hidden",t.elements.indicator.innerHTML=t.clip.runTimeInfo.state,t.elements.settingsSpeedPanel.style.display="none",t.elements.settingsSpeedPanel.getElementsByTagName("li")[1].classList.add("no-hover"),t.elements.loopBarStart.style.left="0%",t.elements.loopBarStart.classList.add("m-fadeOut","".concat(t.name,"-hide")),t.elements.loopBarEnd.style.left="100%",t.elements.loopBarEnd.classList.add("m-fadeOut","".concat(t.name,"-hide")),t.elements.loopStartTime=f("".concat(t.name,"-loopbar-start-time")),t.elements.loopEndTime=f("".concat(t.name,"-loopbar-end-time")),t.elements.editableLoopStartTime=document.createElement("input"),t.elements.editableLoopStartTime.type="text",t.elements.editableLoopStartTime.size=f("".concat(t.name,"-time-total")).innerHTML.length+1,t.elements.editableLoopStartTime.maxLength=f("".concat(t.name,"-time-total")).innerHTML.length,t.elements.editableLoopStartTime.style.height=f("".concat(t.name,"-time-total")).offsetHeight,t.elements.editableLoopStartTime.value=f("".concat(t.name,"-loopbar-start-time")).innerHTML,t.elements.editableLoopStartTime.style.fontSize="8px",t.elements.editableLoopEndTime=document.createElement("input"),t.elements.editableLoopEndTime.type="text",t.elements.editableLoopEndTime.size=f("".concat(t.name,"-time-total")).innerHTML.length+1,t.elements.editableLoopEndTime.maxLength=f("".concat(t.name,"-time-total")).innerHTML.length,t.elements.editableLoopEndTime.style.height=f("".concat(t.name,"-time-total")).offsetHeight,t.elements.editableLoopEndTime.value=f("".concat(t.name,"-loopbar-start-time")).innerHTML,t.elements.editableLoopEndTime.pattern="d*",t.elements.editableLoopEndTime.style.fontSize="8px",f("".concat(t.name,"-loop-time")).classList.add("m-fadeOut","".concat(t.name,"-hide")),f("".concat(t.name,"-hover-display")).classList.add("m-fadeOut"),f("".concat(t.name,"-show-volume-checkbox")).checked=t.options.showVolume,f("".concat(t.name,"-show-indicator-checkbox")).checked=t.options.showIndicator,f("".concat(t.name,"-show-preview-checkbox")).checked=t.options.preview,f("".concat(t.name,"-pointer-events-checkbox")).checked=t.options.pointerEvents,t.options.pointerEvents?(t.elements.mcPlayer.style.pointerEvents="none",t.elements.pointerEventPanel.style.pointerEvents="none",f("".concat(t.name,"-controls")).style.pointerEvents="auto",t.elements.settingsPanel.style.pointerEvents="auto"):(t.elements.mcPlayer.style.pointerEvents="none",t.elements.pointerEventPanel.style.pointerEvents="auto",f("".concat(t.name,"-controls")).style.pointerEvents="auto",t.elements.settingsPanel.style.pointerEvents="auto"),t.elements.listenerHelper.style.pointerEvents="none",t.options.showVolume?(t.elements.timeDisplay.style.left="",t.elements.volumeControl.style.visibility="visible"):(t.elements.timeDisplay.style.left="45px",t.elements.volumeControl.style.visibility="hidden",t.elements.volumeControl.classList.toggle("".concat(t.name,"-hide")),t.elements.volumeControl.classList.toggle("".concat(t.name,"-volume-width-transition"))),t.options.speedValues){var l=m("div");l.className="".concat(t.name,"-speed-value-step");var c=m("div");c.className="".concat(t.name,"-speed-value"),c.dataset.speedValue=t.options.speedValues[a],c.innerHTML=t.options.speedValues[a],c.dataset.zone=a,f("".concat(t.name,"-speed-value")).prepend(c),t.elements.speedBar.prepend(l)}!1===t.options.buttons.fullScreen&&t.elements.fullScreenButton.remove(),!1===t.options.buttons.settings&&t.elements.settingsButton.remove(),!1===t.options.buttons.donkeyclip&&t.elements.donkeyclipButton.remove(),!1===t.options.buttons.loop&&t.elements.loopButton.remove()}(this),this.setTheme(),this.setSpeed(),this.subscribeToTimer(),this.subscribeToDurationChange(),this.addEventListeners(),this.scaleClipHost(),this.eventBroadcast("state-change",this.state),this.options.preview&&this.createPreviewDisplay(),this.resizeTimeout=setTimeout((function(){}),20),window.addEventListener("resize",(function(){clearTimeout(i.resizeTimeout),i.resizeTimeout=setTimeout((function(){i.options.preview&&i.setPreviewDimentions(),i.options.scaleToFit&&i.scaleClipHost()}),20)})),this.changeSettings(e,!0)}var e,n;return e=t,(n=[{key:"changeSettings",value:function(t,e){t.theme=t.theme||"transparent on-top",t.speed=t.speed||1,t.volume=t.volume||1,t.clip=t.clip||this.clip,t.clip!==this.options.clip&&(e=!0,this.clip=t.clip,this.options.clip=t.clip),!1===t.controls?X(this.name).style.display="none":!0===t.controls&&(X(this.name).style.display="unset"),void 0!==t.loop&&(this.options.loop!==t.loop||e&&this.options.loop)&&z(this),void 0!==t.fullscreen&&(this.options.fullscreen!==t.fullscreen||e&&this.options.fullscreen)&&H(this),void 0!==t.muted&&(this.options.muted!==t.muted||e&&this.options.muted)&&b(this,void 0,t.mute),void 0!==t.volume&&(this.options.volume!==t.volume||e&&this.options.volume)&&b(this,t.volume,void 0),void 0!==t.speed&&(this.options.speed!==t.speed||e&&this.options.speed)&&function(t,e){var n;e=parseFloat(e)||1,t.eventBroadcast("speed-change",e),n=1==e?"Normal":e,t.clip.executionSpeed=e,t.elements.speedCurrent.innerHTML=n}(this,t.speed),void 0!==t.scaleToFit&&(this.options.scaleToFit!==t.scaleToFit||e&&this.options.scaleToFit)&&(this.options.scaleToFit=t.scaleToFit,this.scaleClipHost()),void 0!==t.showVolume&&this.options.showVolume!==t.showVolume&&j(this,"showVolume"),void 0!==t.preview&&this.options.preview!==t.preview&&j(this,"showPreview"),void 0!==t.theme&&this.options.theme!==t.theme&&(this.options.theme=t.theme,this.setTheme()),this.options=s(s({},this.options),t)}},{key:"scaleClipHost",value:function(){if(this.options.scaleToFit){var t=this.clip.props.containerParams.width,e=this.clip.props.containerParams.height,n=tt({width:t,height:e},{width:this.clip.props.host.offsetWidth,height:this.clip.props.host.offsetHeight},"cover"===this.options.scaleToFit);this.clip.realClip.rootElement.style.transform="scale(".concat(n.scale),this.clip.realClip.rootElement.style.left=n.position.left+"px",this.clip.realClip.rootElement.style.top=n.position.top+"px"}else this.clip.realClip.rootElement.style.transform="scale(1)",this.clip.realClip.rootElement.style.left="0px",this.clip.realClip.rootElement.style.top="0px";this.eventBroadcast("scale-change",this.options.scaleToFit)}},{key:"createLoop",value:function(t,e){this.settings.loopStartMillisecond=t,this.settings.loopEndMillisecond=e,this.elements.loopBar.style.left=t/this.clip.duration*100+"%",this.elements.loopBar.style.width=(e-t)/this.clip.duration*100+"%",this.createJourney(t),this.elements.runningBar.style.width="0%",!this.settings.loopActivated&&z(this)}},{key:"createJourney",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.clip;setTimeout((function(){var r=n.before,o=void 0===r?null:r,s=n.after,a=void 0===s?null:s;o&&i[o](),e.settings.journey=Q.startJourney(i),e.settings.journey.station(t),e.settings.journey.destination(),a&&i[a]()}),0)}},{key:"millisecondChange",value:function(t,e,n,i){var r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this.state!==e&&(this.state=e,this.eventBroadcast("state-change",e)),!this.settings.needsUpdate)return this.clip.pause(),1;var o=this.settings,s=o.loopActivated,a=o.loopEndMillisecond,l=o.loopStartMillisecond,c=this.clip.duration,u=this.elements,p=u.totalBar,d=u.loopBar,h=d.offsetWidth,f=d.offsetLeft/p.offsetWidth,m=t-c*f,g=c/p.offsetWidth*h;return t>=a&&s&&this.clip.speed>=0?(this.createJourney(l+1,{after:this.settings.playAfterResize||"playing"==this.clip.runTimeInfo.state?"play":null}),1):t>=a&&s&&this.clip.speed<0?(this.createJourney(a-1,{after:this.settings.playAfterResize||"playing"==this.clip.runTimeInfo.state?"play":null}),1):t<=l&&s&&this.clip.speed>=0?(this.createJourney(l+1,{after:this.settings.playAfterResize||"playing"==this.clip.runTimeInfo.state?"play":null}),1):t<=l&&s&&this.clip.speed<0?(this.createJourney(a-1,{after:this.settings.playAfterResize||"playing"==this.clip.runTimeInfo.state?"play":null}),1):(i&&this.createJourney(t,{after:this.settings.playAfterResize?"play":null}),this.elements.runningBar.style.width=m/g*100+"%",this.elements.currentTime.innerHTML=this.timeFormat(t),void(this.options.onMillisecondChange&&r&&this.options.onMillisecondChange(t)))}},{key:"eventBroadcast",value:function(t,e){var n=X("".concat(this.name,"-controls"));"state-change"===t?(this.options.currentScript&&(this.options.currentScript.dataset.status=e),"paused"===e||"idle"===e||"transitional"===e||"armed"===e||"blocked"===e?(n.classList.value.includes("force-show-controls")||n.classList.toggle("force-show-controls"),this.elements.statusButton.innerHTML=p.playSVG,this.elements.statusButton.appendChild(this.elements.indicator),this.elements.indicator.innerHTML="".concat(e.charAt(0).toUpperCase()+e.slice(1)),this.elements.pointerEventPanel.innerHTML="blocked"===e?'\n            <div style="width:100%;height:100%;background:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;">'.concat(p.loadingSVG,"</div>"):""):(n.classList.value.includes("force-show-controls")&&n.classList.toggle("force-show-controls"),this.elements.statusButton.innerHTML=p.pauseSVG,this.elements.statusButton.appendChild(this.elements.indicator),this.elements.indicator.innerHTML="Playing",this.elements.pointerEventPanel.innerHTML="","playing"===e&&this.clip.runTimeInfo.currentMillisecond===this.clip.duration&&this.clip.speed>=0?this.createJourney(1,{after:"play"}):("playing"===e&&0===this.clip.runTimeInfo.currentMillisecond&&this.clip.speed<0||"playing"===e&&this.clip.runTimeInfo.currentMillisecond===this.clip.duration&&this.clip.speed<0)&&this.createJourney(this.clip.duration-1,{after:"play"}))):"duration-change"===t?(this.elements.totalTime.innerHTML=this.timeFormat(this.clip.duration),this.settings.loopEndMillisecond=this.clip.duration,this.elements.pointerEventPanel.innerHTML="",this.millisecondChange(this.clip.runTimeInfo.currentMillisecond)):this.options.currentScript&&("volume-change"===t?(this.options.volume=e,this.options.currentScript.dataset.volume=e):"speed-change"===t?(this.options.speed=e,this.options.currentScript.dataset.speed=e):"mute-change"===t?e?(this.options.muted=!0,this.options.currentScript.dataset.muted=""):(this.options.muted=!1,delete this.options.currentScript.dataset.muted):"loop-change"===t?e?(this.options.loop=!0,this.options.currentScript.dataset.loop=""):(this.options.loop=!1,delete this.options.currentScript.dataset.loop):"scale-change"===t?e?(this.options.scaleToFit=!0,this.options.currentScript.dataset.scaleToFit=""):(this.options.scaleToFit=!1,delete this.options.currentScript.dataset.scaleToFit):"show-volume-change"===t?e?(this.options.showVolume=!0,this.options.currentScript.dataset.showVolume=""):(this.options.showVolume=!1,delete this.options.currentScript.dataset.showVolume):"show-preview-change"===t&&(e?(this.options.preview=!0,this.options.currentScript.dataset.preview=""):(this.options.preview=!1,delete this.options.currentScript.dataset.preview)))}},{key:"subscribeToDurationChange",value:function(){this.clip.subscribeToDurationChange(this.subscribeToDurationChangeCallback.bind(this))}},{key:"subscribeToDurationChangeCallback",value:function(){this.eventBroadcast("duration-change")}},{key:"subscribeToTimer",value:function(){this.clip.subscribe(this.id,this.millisecondChange.bind(this))}},{key:"handleDragStart",value:function(){this.settings.needsUpdate=!0,this.settings.journey=Q.startJourney(this.clip)}},{key:"timeFormat",value:function(t){if("ss"===this.options.timeFormat){var e=t/1e3/60/60,n=e%1*60,i=n%1*60,r=("0"+parseInt(e)).slice(-2),o=("0"+parseInt(n)).slice(-2),s=("0"+parseInt(i)).slice(-2);return"".concat("00"===r?"":r+":").concat(o,":").concat(s)}return t}},{key:"handleDrag",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];isFinite(t)||(t=0);var n=this.clip.duration,i=this.settings.journey,r=this.elements,o=r.loopBar,s=r.totalBar,a=r.runningBar,l=r.currentTime,c=t+o.offsetLeft,u=Math.round(n*c/s.offsetWidth);l.innerHTML=this.timeFormat(u),a.style.width=t/o.offsetWidth*100+"%",i.station(u),this.options.onMillisecondChange&&e&&this.options.onMillisecondChange(u)}},{key:"handleDragEnd",value:function(){this.settings.journey.destination()}},{key:"createProgressDrag",value:function(t){this.handleDragStart(),this.handleDrag(t),this.handleDragEnd()}},{key:"addEventListeners",value:function(){var t;(t=this).listeners.onCursorMoveLoopEnd=function(e){e.preventDefault();var n=(e.clientX||((e.touches||[])[0]||{}).clientX)-t.elements.totalBar.getBoundingClientRect().left;n<0?n=0:n>t.elements.totalBar.offsetWidth&&(n=t.elements.totalBar.offsetWidth),t.elements.runningBar.offsetWidth>=t.elements.loopBar.offsetWidth&&(t.elements.runningBar.style.width=t.elements.loopBar.offsetWidth+"px"),t.settings.loopLastPositionXPxls-n<0?t.elements.loopBar.style.width=Math.abs(t.settings.loopLastPositionXPxls-n)+"px":(t.elements.loopBar.style.left=n+"px",t.settings.loopLastPositionXPxls=n),t.settings.loopEndMillisecond=Math.round(t.clip.duration*((parseFloat(t.elements.loopBar.style.left)||0)+parseFloat(t.elements.loopBar.style.width))/t.elements.totalBar.offsetWidth),t.settings.loopEndMillisecond<t.clip.runTimeInfo.currentMillisecond&&(t.settings.loopJourney=!0),t.settings.loopStartMillisecond>t.settings.loopEndMillisecond&&(t.settings.loopStartMillisecond=t.settings.loopEndMillisecond,t.settings.loopJourney=!0),t.elements.loopEndTime.innerHTML=t.settings.loopEndMillisecond,t.elements.loopStartTime.innerHTML=t.settings.loopStartMillisecond},t.listeners.onMouseUpLoopEnd=function(e){if(t.elements.listenerHelper.style.pointerEvents="none",t.settings.resizeLoop=!1,e.preventDefault(),t.elements.runningBar.style.width=t.elements.runningBar.offsetWidth/t.elements.loopBar.offsetWidth*100+"%",t.elements.loopBar.style.left=t.elements.loopBar.offsetLeft/t.elements.totalBar.offsetWidth*100+"%",t.elements.loopBar.style.width=t.elements.loopBar.offsetWidth/t.elements.totalBar.offsetWidth*100+"%",t.settings.loopJourney&&(t.createProgressDrag(t.elements.runningBar.offsetWidth),t.settings.loopJourney=!1),C("mouseup",t.listeners.onMouseUpLoopEnd,!1),C("touchend",t.listeners.onMouseUpLoopEnd,!1),C("mousemove",t.listeners.onCursorMoveLoopEnd,!1),C("touchmove",t.listeners.onCursorMoveLoopEnd,!1),t.elements.loopBar.addEventListener("mousedown",t.listeners.onMouseDown,!1),t.elements.loopBar.addEventListener("touchstart",t.listeners.onMouseDown,{passive:!0},!1),t.settings.playAfterResize){var n;if("idle"===t.clip.runTimeInfo.state)n=t.clip.speed>=0?t.settings.loopStartMillisecond+1:t.settings.loopEndMillisecond-1,t.settings.needsUpdate=!0,t.createJourney(n,{before:"pause",after:"play"});else if("completed"===t.clip.runTimeInfo.state){var i;i=t.clip.speed>=0?t.settings.loopStartMillisecond+1:t.settings.loopEndMillisecond-1,t.settings.needsUpdate=!0,t.createJourney(i,{before:"pause",after:"play"})}else t.clip.play();t.settings.playAfterResize=!1}},t.listeners.onMouseDownLoopEnd=function(e){t.elements.listenerHelper.style.pointerEvents="auto",t.settings.resizeLoop=!0,t.settings.needsUpdate=!0,"playing"===t.clip.runTimeInfo.state&&(t.clip.pause(),t.settings.playAfterResize=!0),e.preventDefault(),t.elements.runningBar.style.width=t.elements.runningBar.offsetWidth+"px",t.elements.loopBar.style.left=t.elements.loopBar.offsetLeft+"px",t.elements.loopBar.style.width=t.elements.loopBar.offsetWidth+"px",t.elements.loopBar.removeEventListener("mousedown",t.listeners.onMouseDown,!1),t.elements.loopBar.removeEventListener("touchstart",t.listeners.onMouseDown,!1),t.listeners.onCursorMoveLoopEnd(e),k("mouseup",t.listeners.onMouseUpLoopEnd,!1),k("touchend",t.listeners.onMouseUpLoopEnd,!1),k("mousemove",t.listeners.onCursorMoveLoopEnd,!1),k("touchmove",t.listeners.onCursorMoveLoopEnd,!1)},t.elements.loopBarEnd.addEventListener("mousedown",t.listeners.onMouseDownLoopEnd,!1),t.elements.loopBarEnd.addEventListener("touchstart",t.listeners.onMouseDownLoopEnd,{passive:!1},!1),function(t){t.listeners.onCursorMove=function(e){e.preventDefault();var n=(e.clientX||((e.touches||[])[0]||{}).clientX)-t.elements.loopBar.getBoundingClientRect().left;n<0?n=0:n>t.elements.loopBar.offsetWidth&&(n=t.elements.loopBar.offsetWidth),t.handleDrag(n)},t.listeners.onMouseUp=function(){t.elements.listenerHelper.style.pointerEvents="none",E("mouseup",t.listeners.onMouseUp,!1),E("touchend",t.listeners.onMouseUp,!1),E("mousemove",t.listeners.onCursorMove,!1),E("touchmove",t.listeners.onCursorMove,!1),t.handleDragEnd(t.settings)},t.listeners.onMouseDown=function(e){t.elements.listenerHelper.style.pointerEvents="auto","playing"===t.clip.runTimeInfo.state&&(t.settings.playAfterResize=!0),t.handleDragStart(t.clip),t.listeners.onCursorMove(e),O("mouseup",t.listeners.onMouseUp,!1),O("touchend",t.listeners.onMouseUp,!1),O("mousemove",t.listeners.onCursorMove,!1),O("touchmove",t.listeners.onCursorMove,!1)},t.elements.loopBar.addEventListener("mousedown",t.listeners.onMouseDown,!1),t.elements.loopBar.addEventListener("touchstart",t.listeners.onMouseDown,{passive:!1},!1)}(this),function(t){t.listeners.onCursorMoveLoopStart=function(e){e.preventDefault();var n=e.clientX||((e.touches||[])[0]||{}).clientX,i=t.elements.totalBar.getBoundingClientRect(),r=Math.round(n-i.left),o=Math.round(t.settings.loopEndMillisecond/t.clip.duration*t.elements.totalBar.offsetWidth);r<0?r=0:r>t.elements.totalBar.offsetWidth&&(r=t.elements.totalBar.offsetWidth);var s=t.clip.runTimeInfo.currentMillisecond/t.clip.duration*t.elements.totalBar.offsetWidth-r;t.elements.loopBar.style.left=r+"px",t.elements.loopBar.style.width=o-r+"px",t.elements.runningBar.style.width=s+"px",t.settings.loopLastPositionXPxls=r,t.settings.loopStartMillisecond=Math.round(t.clip.duration*t.elements.loopBar.offsetLeft/t.elements.totalBar.offsetWidth),t.settings.loopEndMillisecond<t.settings.loopStartMillisecond&&(t.settings.loopEndMillisecond=t.settings.loopStartMillisecond,t.elements.loopBar.style.width="0px",t.elements.runningBar.style.width="0px"),t.elements.loopEndTime.innerHTML=t.settings.loopEndMillisecond,t.elements.loopStartTime.innerHTML=t.settings.loopStartMillisecond,t.settings.loopStartMillisecond>t.clip.runTimeInfo.currentMillisecond&&(t.settings.loopJourney=!0)},t.listeners.onMouseUpLoopStart=function(e){var n;t.elements.listenerHelper.style.pointerEvents="none",t.settings.resizeLoop=!1,e.preventDefault(),t.settings.loopJourney&&(t.createProgressDrag(t.elements.runningBar.offsetWidth),t.settings.loopJourney=!1),t.elements.loopBar.style.left=t.elements.loopBar.offsetLeft/t.elements.totalBar.offsetWidth*100+"%",t.elements.loopBar.style.width=t.elements.loopBar.offsetWidth/t.elements.totalBar.offsetWidth*100+"%",t.settings.loopStartMillisecond=Math.round(t.clip.duration*t.elements.loopBar.offsetLeft/t.elements.totalBar.offsetWidth),t.elements.runningBar.style.width=t.elements.runningBar.offsetWidth/t.elements.loopBar.offsetWidth*100+"%",w("mouseup",t.listeners.onMouseUpLoopStart,!1),w("touchend",t.listeners.onMouseUpLoopStart,!1),w("mousemove",t.listeners.onCursorMoveLoopStart,!1),w("touchmove",t.listeners.onCursorMoveLoopStart,!1),t.elements.loopBar.addEventListener("mousedown",t.listeners.onMouseDown,!1),t.elements.loopBar.addEventListener("touchstart",t.listeners.onMouseDown,{passive:!0},!1),t.settings.playAfterResize&&("idle"===t.clip.runTimeInfo.state?(n=t.clip.speed>=0?t.settings.loopStartMillisecond+1:t.settings.loopEndMillisecond-1,t.settings.needsUpdate=!0,t.createJourney(n,{before:"pause",after:"play"})):t.clip.play(),t.settings.playAfterResize=!1)},t.listeners.onMouseDownLoopStart=function(e){t.elements.listenerHelper.style.pointerEvents="auto",t.settings.resizeLoop=!0,e.preventDefault(),t.settings.needsUpdate=!0,"playing"===t.clip.runTimeInfo.state&&(t.clip.pause(),t.settings.playAfterResize=!0),t.elements.loopBar.removeEventListener("mousedown",t.listeners.onMouseDown,!1),t.elements.loopBar.removeEventListener("touchstart",t.listeners.onMouseDown,!1),t.listeners.onCursorMoveLoopStart(e),x("mouseup",t.listeners.onMouseUpLoopStart,!1),x("touchend",t.listeners.onMouseUpLoopStart,!1),x("mousemove",t.listeners.onCursorMoveLoopStart,!1),x("touchmove",t.listeners.onCursorMoveLoopStart,!1)},t.elements.loopBarStart.addEventListener("mousedown",t.listeners.onMouseDownLoopStart,!1),t.elements.loopBarStart.addEventListener("touchstart",t.listeners.onMouseDownLoopStart,{passive:!1},!1)}(this),function(t){t.listeners.editableLoopStartTime=function(){t.elements.editableLoopStartTime.value=t.elements.loopStartTime.innerHTML,t.elements.loopStartTime.replaceWith(t.elements.editableLoopStartTime),t.elements.editableLoopStartTime.focus()},t.listeners.editableLoopEndTime=function(){t.elements.editableLoopEndTime.value=t.elements.loopEndTime.innerHTML,t.elements.loopEndTime.replaceWith(t.elements.editableLoopEndTime),t.elements.editableLoopEndTime.focus()},t.elements.editableLoopEndTime.onkeydown=t.elements.editableLoopStartTime.onkeydown=function(e){e.preventDefault(),13===e.keyCode&&(t.elements.editableLoopStartTime.onfocusout(),t.elements.editableLoopEndTime.onfocusout()),8===e.keyCode&&(e.target.value=e.target.value.toString().substring(0,e.target.value.toString().length-1)),13===e.keyCode&&e.target.blur();var n=parseFloat((e.target.value||0).toString()+e.key);if(!(n>t.clip.duration))if(e.target.value=n,e.target===t.elements.editableLoopStartTime){var i=t.elements.totalBar.getBoundingClientRect(),r={preventDefault:function(){},clientX:t.elements.totalBar.offsetWidth/t.clip.duration*e.target.value+i.left};t.listeners.onMouseDownLoopStart(r),t.listeners.onCursorMoveLoopStart(r),t.listeners.onMouseUpLoopStart(r)}else if(e.target===t.elements.editableLoopEndTime){var o=t.elements.totalBar.getBoundingClientRect(),s={preventDefault:function(){},clientX:t.elements.totalBar.offsetWidth/t.clip.duration*e.target.value+o.left};t.listeners.onMouseDownLoopEnd(s),t.listeners.onCursorMoveLoopEnd(s),t.listeners.onMouseUpLoopEnd(s)}},t.elements.loopStartTime.onclick=t.listeners.editableLoopStartTime,t.elements.loopEndTime.onclick=t.listeners.editableLoopEndTime,t.elements.editableLoopStartTime.onfocusout=function(){t.elements.editableLoopStartTime.replaceWith(t.elements.loopStartTime)},t.elements.editableLoopEndTime.onfocusout=function(){t.elements.editableLoopEndTime.replaceWith(t.elements.loopEndTime)}}(this),function(t){var e=!1;t.elements.volumeBtn.onclick=function(){if(t.settings.volumeMute){t.elements.volumeBarActive.style.width=100*t.settings.previousVolume+"%",t.clip.setVolume(t.settings.previousVolume),t.settings.volumeMute=!1;var e=document.createElement("span");e.innerHTML=p.volumeSVG,t.elements.volumeBtn.getElementsByTagName("svg")[0].replaceWith(e)}else{t.settings.volumeMute=!0,t.elements.volumeBarActive.style.width="0%",t.clip.setVolume(0);var n=document.createElement("span");n.innerHTML=p.volumeMuteSVG,t.elements.volumeBtn.getElementsByTagName("svg")[0].replaceWith(n)}t.eventBroadcast("volume-change",t.settings.previousVolume),t.eventBroadcast("mute-change",t.settings.volumeMute)};var n=!1;t.elements.volumeBtn.onmouseover=function(){n=!0,t.elements.volumeCursor.classList.add("".concat(t.name,"-volume-cursor-transition")),t.elements.volumeBar.classList.add("".concat(t.name,"-volume-width-transition")),t.elements.volumeBarHelper.classList.add("".concat(t.name,"-volume-width-transition")),t.elements.timeDisplay.classList.add("".concat(t.name,"-time-width-transition"))},y("".concat(t.name,"-left-controls")).onmouseout=function(){if(n&&!e){var i=event.toElement||event.relatedTarget||event.target;(function(t,e){for(var n=e.parentNode;null!=n;){if(n==t)return!0;n=n.parentNode}return!1})(y("".concat(t.name,"-left-controls")),i)||i===y("".concat(t.name,"-left-controls"))||(n=!1,t.elements.volumeCursor.classList.remove("".concat(t.name,"-volume-cursor-transition")),t.elements.volumeBar.classList.remove("".concat(t.name,"-volume-width-transition")),t.elements.volumeBarHelper.classList.remove("".concat(t.name,"-volume-width-transition")),t.elements.timeDisplay.classList.remove("".concat(t.name,"-time-width-transition")))}},t.listeners.onCursorMoveVolumeBar=function(e){e.preventDefault();var n=(e.clientX||((e.touches||[])[0]||{}).clientX)-t.elements.volumeBarHelper.getBoundingClientRect().left;if(n<0?n=0:n>t.elements.volumeBarHelper.offsetWidth&&(n=t.elements.volumeBarHelper.offsetWidth),t.settings.volume=Number((n/t.elements.volumeBarHelper.offsetWidth).toFixed(2)),t.elements.volumeBarActive.style.width=100*t.settings.volume+"%",t.clip.setVolume(t.settings.volume),t.settings.volume>0){t.settings.volumeMute=!1;var i=document.createElement("span");i.innerHTML=p.volumeSVG,t.elements.volumeBtn.getElementsByTagName("svg")[0].replaceWith(i)}else if(0===t.settings.volume){t.settings.volumeMute=!0;var r=document.createElement("span");r.innerHTML=p.volumeMuteSVG,t.elements.volumeBtn.getElementsByTagName("svg")[0].replaceWith(r)}t.eventBroadcast("volume-change",t.settings.volume),t.eventBroadcast("mute-change",t.settings.volumeMute)},t.listeners.onMouseUpVolumeBar=function(n){e=!1,t.elements.listenerHelper.style.pointerEvents="none",n.preventDefault(),t.settings.volume>0&&(t.settings.previousVolume=t.settings.volume),v("mouseup",t.listeners.onMouseUpVolumeBar,!1),v("touchend",t.listeners.onMouseUpVolumeBar,!1),v("mousemove",t.listeners.onCursorMoveVolumeBar,!1),v("touchmove",t.listeners.onCursorMoveVolumeBar,!1)},t.listeners.onMouseDownVolumeBar=function(n){e=!0,t.elements.listenerHelper.style.pointerEvents="auto",n.preventDefault(),t.listeners.onCursorMoveVolumeBar(n),g("mouseup",t.listeners.onMouseUpVolumeBar,!1),g("touchend",t.listeners.onMouseUpVolumeBar,!1),g("mousemove",t.listeners.onCursorMoveVolumeBar,!1),g("touchmove",t.listeners.onCursorMoveVolumeBar,!1)},t.elements.volumeBarHelper.addEventListener("mousedown",t.listeners.onMouseDownVolumeBar,!1),t.elements.volumeCursor.addEventListener("mousedown",t.listeners.onMouseDownVolumeBar,!1),t.elements.volumeBarHelper.addEventListener("touchstart",t.listeners.onMouseDownVolumeBar,{passive:!1},!1),t.elements.volumeCursor.addEventListener("touchstart",t.listeners.onMouseDownVolumeBar,{passive:!1},!1)}(this),function(t){t.elements.statusButton.onclick=function(e){return e.preventDefault(),"playing"===t.clip.runTimeInfo.state?t.clip.pause():"paused"!==t.clip.runTimeInfo.state&&"idle"!==t.clip.runTimeInfo.state&&"transitional"!==t.clip.runTimeInfo.state&&"armed"!==t.clip.runTimeInfo.state||t.clip.play(),!1}}(this),function(t){t.elements.settingsShowIndicator.onclick=function(e){return A(t,e)},t.elements.settingsPointerEvents.onclick=function(e){return T(t,e)},t.elements.settingsShowVolume.onclick=function(e){return M(t,e)},t.elements.settingsShowPreview.onclick=function(e){return _(t,e)},t.elements.settingsButton.onclick=function(e){e.preventDefault();var n=P("".concat(t.name,"-controls")),i=function e(n){if(t.elements.settingsPanel.contains(n.target))return!0;t.elements.settingsPanel.classList.toggle("".concat(t.name,"-hide")),t.elements.settingsPanel.classList.toggle("m-fadeOut"),t.elements.settingsPanel.classList.toggle("m-fadeIn"),t.elements.settingsPanel.className.includes("m-fadeOut")&&(S("click",e,!1),t.eventBroadcast("state-change",t.state))};t.elements.settingsPanel.className.includes("m-fadeOut")?(n.classList.value.includes("force-show-controls")||n.classList.toggle("force-show-controls"),I("click",i,!1)):S("click",i,!1)}}(this),function(t){t.elements.settingsSpeedButtonShow.onclick=t.elements.settingsSpeedButtonHide.onclick=function(e){e.preventDefault(),t.elements.settingsPanel.classList.toggle("".concat(t.name,"-settings-speed-panel")),t.elements.settingsPanel.className.includes("".concat(t.name,"-settings-speed-panel"))?(t.elements.settingsMainPanel.style.display="none",t.elements.settingsSpeedPanel.style.display="block"):(t.elements.settingsSpeedPanel.style.display="none",t.elements.settingsMainPanel.style.display="block")};var e=function(e){e.preventDefault();var n=t.elements.speedBar.getBoundingClientRect(),i=(e.clientY||((e.touches||[])[0]||{}).clientY)-n.top;(i-=8)<0?i=0:i>t.elements.speedBar.offsetHeight-16&&(i=t.elements.speedBar.offsetHeight-16);var r=-1*((i=Math.floor(i))/(16*(t.options.speedValues.length-1))-1),o=1/(t.options.speedValues.length-1),s=t.calculateSpeed(o,t.options.speedValues,r);D("".concat(t.name,"-speed-runtime")).innerHTML=s+"0",D("".concat(t.name,"-speed-cursor")).style.top=i+"px",t.clip.executionSpeed=s,t.eventBroadcast("speed-change",t.clip.executionSpeed)},n=function n(i){var r;t.elements.listenerHelper.style.pointerEvents="none",i.preventDefault(),V("mouseup",n,!1),V("touchend",n,!1),V("mousemove",e,!1),V("touchmove",e,!1),D("".concat(t.name,"-speed-runtime")).innerHTML="Speed",r=1==t.clip.speed?"Normal":t.clip.speed,t.elements.speedCurrent.innerHTML=r},i=function(i){t.elements.listenerHelper.style.pointerEvents="auto",i.preventDefault(),e(i),B("mouseup",n,!1),B("touchend",n,!1),B("mousemove",e,!1),B("touchmove",e,!1)};t.elements.speedBarHelper.addEventListener("mousedown",i,!1),t.elements.speedBarHelper.addEventListener("touchstart",i,{passive:!1},!1)}(this),function(t){t.elements.loopButton.onclick=function(){return R(t)}}(this),function(t){N("".concat(t.name,"-controls")).onmouseover=function(){t.settings.loopActivated&&(t.elements.loopBarStart.classList.remove("m-fadeOut"),t.elements.loopBarEnd.classList.remove("m-fadeOut"),t.elements.loopBarStart.classList.add("m-fadeIn"),t.elements.loopBarEnd.classList.add("m-fadeIn"))},N("".concat(t.name,"-controls")).onmouseout=function(e){var n=e.toElement||e.relatedTarget||e.target;F(this,n)||n===this||t.settings.loopActivated&&(t.elements.loopBarStart.classList.add("m-fadeOut"),t.elements.loopBarEnd.classList.add("m-fadeOut"),t.elements.loopBarStart.classList.remove("m-fadeIn"),t.elements.loopBarEnd.classList.remove("m-fadeIn"))};var e=!1;N("".concat(t.name,"-controls")).ontouchstart=function(n){var i=n.toElement||n.relatedTarget||n.target;F(t.elements.statusButton,i)||i===t.elements.statusButton||F(t.elements.settingsButton,i)||i===t.elements.settingsButton||F(t.elements.fullScreenButton,i)||i===t.elements.fullScreenButton||F(t.elements.loopButton,i)||i===t.elements.loopButton||F(t.elements.totalBar,i)||i===t.elements.totalBar||(t.elements.settings.showVolume&&(t.elements.volumeControl.className="".concat(t.name,"-volume-width-transition"),t.elements.volumeBar.className="".concat(t.name,"-volume-width-transition"),t.elements.volumeBarHelper.className="".concat(t.name,"-volume-width-transition")),t.elements.timeDisplay.className="".concat(t.name,"-time-width-transition"),t.elements.volumeCursor.className="".concat(t.name,"-volume-cursor-transition"),e=!0)},window.addEventListener("touchstart",(function(n){var i=n.toElement||n.relatedTarget||n.target;F(N("".concat(t.name,"-controls")),i)||i===N("".concat(t.name,"-controls"))||e&&(t.elements.volumeControl.className="",t.elements.volumeBar.className="",t.elements.volumeBarHelper.className="",t.elements.timeDisplay.className="",t.elements.volumeCursor.className="")}))}(this),function(t){t.elements.fullScreenButton.onclick=function(){return $(t)}}(this),function(t){t.elements.donkeyclipButton.addEventListener("click",(function(){var e=U(),n=window.open("https://donkeyclip.com?u=".concat(e)),i=t.clip.exportDefinition(),r=t.clipClass;window.addEventListener("message",(function(t){t.data===e&&n.postMessage(JSON.stringify({definition:i,clipClass:r,u:e}),"*")}),!1)}))}(this),function(t){if(!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)){var e=function(){t.options.preview&&(q("".concat(t.name,"-hover-display")).classList.toggle("m-fadeIn"),q("".concat(t.name,"-hover-display")).classList.toggle("m-fadeOut"),t.elements.loopBar.onmousemove=i)},n=function n(){t.options.preview&&(e(),t.elements.loopBar.onmouseover=t.elements.loopBar.onmouseout=e,t.elements.loopBar.onmousemove=i,G("mouseup",n,!1),G("touchend",n,!1),G("mousemove",i,!1),G("touchmove",i,!1))};t.elements.loopBar.onmouseover=t.elements.loopBar.onmouseout=e,t.elements.loopBar.onmousedown=function(){t.options.preview&&(t.elements.loopBar.onmouseover=t.elements.loopBar.onmouseout=null,t.elements.loopBar.onmousemove=null,W("mouseup",n,!1),W("touchend",n,!1),W("mousemove",i,!1),W("touchmove",i,!1))},t.elements.loopBar.onmouseup=function(){t.options.preview&&(G("mouseup",n,!1),G("touchend",n,!1),G("mousemove",i,!1),G("touchmove",i,!1),t.elements.loopBar.onmouseover=t.elements.loopBar.onmouseout=e,t.elements.loopBar.onmousemove=i)};var i=function(e){var n=e.clientX,i=t.elements.loopBar.getBoundingClientRect();if(n-i.left+t.settings.loopLastPositionXPxls>t.settings.loopLastPositionXPxls+t.elements.loopBar.offsetWidth&&!t.settings.resizeLoop)q("".concat(t.name,"-hover-millisecond")).innerHTML=t.timeFormat(t.settings.loopEndMillisecond);else if(n-i.left<0&&!t.settings.resizeLoop)q("".concat(t.name,"-hover-millisecond")).innerHTML=t.timeFormat(t.settings.loopStartMillisecond);else{var r=n-i.left+t.settings.loopLastPositionXPxls;r<0&&(r=0);var o=q("".concat(t.name,"-hover-display")).offsetWidth/2,s=q("".concat(t.name,"-hover-display")).offsetWidth/2,a=r-s;r-o<0?a=0:r+o>t.elements.totalBar.offsetWidth&&(a=t.elements.totalBar.offsetWidth-s-o);var l=Math.round(r/t.elements.totalBar.offsetWidth*t.clip.duration);if(t.options.preview){var c=l/t.clip.duration;t.previewClip.onProgress(c,l)}q("".concat(t.name,"-hover-millisecond")).innerHTML=t.timeFormat(l),q("".concat(t.name,"-hover-display")).style.left=a+"px"}}}}(this),function(t){document.addEventListener("fullscreenchange",(function(){t.elements.mcPlayer.classList.toggle("full-screen"),t.clip.props.host.classList.toggle("full-screen"),t.options.preview&&t.setPreviewDimentions()})),document.addEventListener("webkitfullscreenchange",(function(){t.elements.mcPlayer.classList.toggle("full-screen"),t.clip.props.host.classList.toggle("full-screen"),t.options.preview&&t.setPreviewDimentions()})),document.addEventListener("mozfullscreenchange",(function(){t.elements.mcPlayer.classList.toggle("full-screen"),t.clip.props.host.classList.toggle("full-screen"),t.options.preview&&t.setPreviewDimentions()})),document.addEventListener("MSFullscreenChange",(function(){t.elements.mcPlayer.classList.toggle("full-screen"),t.clip.props.host.classList.toggle("full-screen"),t.options.preview&&t.setPreviewDimentions()})),J("body")[0].addEventListener("click",(function(e){if(e.target.className==="".concat(t.name,"-speed-value")){var n=e.target.dataset.speedValue;t.clip.executionSpeed=e.target.dataset.speedValue,n=1==t.clip.speed?"Normal":t.clip.speed,t.elements.speedCurrent.innerHTML=n;var i=1/(t.options.speedValues.length-1),r=-1*(e.target.dataset.zone*i-1)*(16*(t.options.speedValues.length-1));K("".concat(t.name,"-speed-cursor")).style.top=r+"px"}}))}(this)}},{key:"launchIntoFullscreen",value:function(t){this.options.preview&&this.setPreviewDimentions(),t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},{key:"exitFullscreen",value:function(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}},{key:"setTheme",value:function(){X(this.name+"-style")&&Y("head")[0].removeChild(X(this.name+"-style")),this.options.theme.replace(/\s\s+/g," "),this.options.theme.trim(),this.options.theme.includes("on-top")||this.options.theme.includes("position-bottom")||(this.options.theme+=" on-top");var t={};for(var e in this.options.theme.split(" ")){var n=h(this.options.theme.split(" ")[e],this.name);for(var i in n||{})t[i]=n[i]}var r=function(t,e,n){return"\n#".concat(e,", #").concat(e," *{\n  font-family:'Ubuntu' !important;\n}\n#").concat(e," .background {\n  background-color: ").concat(n.backgroundColor,";\n  width:100%;\n  height:").concat(t["background-height"],";;\n  position:absolute;\n  top:0px;\n  left:0px;\n  z-index:-2000;\n}\n\n#").concat(e," .full-screen #").concat(e,"-controls {\n  position:fixed;\n  left:0px;\n  bottom:0px;\n}\n\n#").concat(e," .full-screen #").concat(e,"-settings-panel {\n  position:fixed;\n  bottom: 45px;\n}\n\n#").concat(e," .svg,#").concat(e," .svg *,#").concat(e," svg,#").concat(e," svg *  {\n  fill: ").concat(t["svg-color"],";\n}\n\n#").concat(e," .svg.arrow * {\n  stroke: ").concat(t["svg-color"],";\n  fill: transparent;\n}\n\n#").concat(e," .pointer-event-panel {\n  height: ").concat(t["pointer-event-panel-height"],";\n  display:flex;\n  align-items:center;\n  justify-content:center;\n}\n#").concat(e,"-pointer-event-panel{\n  width:100%;\n  position:absolute;\n  z-index:100;\n}\n#").concat(e,"-listener-helper{\n  width:100%;\n  height:calc( 100% - 45px );\n  position:absolute;\n  z-index:110;\n}\n#").concat(e," .svg-selected svg{\n  fill: ").concat(t["svg-selected-color"],";\n  stroke: ").concat(t["svg-selected-color"],";\n}\n#").concat(e,"-hover-display{\n  display: flex;\n  visibility:hidden;\n  opacity:0;\n  background-color: black;\n  position: absolute;\n  bottom: 30px;\n  left: 0px;\n  align-items: flex-end;\n  justify-content: center;\n}\n#").concat(e,"-hover-display-clip{\n  width:100%;\n  height:100%;\n  overflow:hidden;\n  position:relative;\n}\n#").concat(e,"-hover-display-border{\n  border: ").concat(t["preview-border"],";\n  position:absolute;\n  width:calc(100% - 4px);\n  height:calc(100% - 4px);\n  z-index:2;\n}\n\n#").concat(e,"-hover-millisecond {\n  font-weight:bold;\n  padding:3px;\n  height:18px;\n  margin:0px;\n  line-height:12px;\n  font-size:10px;\n  text-align: center;\n  min-width:20px;\n  max-width:100px;\n  z-index:2;\n  position:absolute;\n  bottom:-25px;\n}\n#").concat(e,",\n#").concat(e," ::before,\n#").concat(e," :::after,\n#").concat(e," div,\n#").concat(e," p,\n#").concat(e," span,\n#").concat(e," ul,\n#").concat(e," li {\n  font-weight: 400;\n  line-height: 1.9 !important;\n  color: ").concat(t.color,';\n  font-family: "Century Gothic", CenturyGothic, AppleGothic, sans-serif;\n  box-sizing:border-box;\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n#').concat(e," {\n  line-height: 1.9;\n  font-size: 12px;\n  overflow:hidden;\n  height: calc(100% + ").concat(t["controls-position"],");\n  width:100%;\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  color: ").concat(t.color,";\n  pointer-events:auto;\n}\n\n#").concat(e," .force-show-controls {\n  opacity:1 !important;\n}\n\n").concat(n.theme.includes("position-bottom")?"\n    #".concat(e,"-controls {\n      opacity:1 !important;\n    }\n    "):"#".concat(e,":hover #").concat(e,"-controls {\n  opacity:1 !important;\n}\n"),"\n\n#").concat(e,":hover {\n  pointer-events:none;\n}\n\n#").concat(e,"-settings-speed-hide {\n  text-align:right;\n}\n\n#").concat(e," .grad {\n  pointer-events:none !important;\n  background-image: linear-gradient(\n    rgba(0,0,0,00.001),\n    rgba(0,0,0,00.004),\n    rgba(0,0,0,00.007),\n    rgba(0,0,0,00.01),\n    rgba(0,0,0,0.04),\n    rgba(0,0,0,0.07),\n    rgba(0,0,0,0.1),\n    rgba(0,0,0,0.15),\n    rgba(0,0,0,0.2),\n    rgba(0,0,0,0.25),\n    rgba(0,0,0,0.3),\n    rgba(0,0,0,0.35),\n    rgba(0,0,0,0.4),\n    rgba(0,0,0,0.45),\n    rgba(0,0,0,0.5),\n    rgba(0,0,0,0.55),\n    rgba(0,0,0,0.6),\n    rgba(0,0,0,0.65),\n    rgba(0,0,0,0.7),\n    rgba(0,0,0,0.75),\n    rgba(0,0,0,0.8),\n    rgba(0,0,0,0.88)\n  );\n  position:absolute;\n  width:100%;\n  height:").concat(t["grad-height"],";\n  left:0px;\n  bottom:0px;\n  z-index:-1;\n}\n\n#").concat(e," #").concat(e,"-controls {\n  touch-action: none;\n  background-color: ").concat(t["background-color"],";\n  border: ").concat(t["controls-border"],";\n  position: absolute;\n  bottom: ").concat(t["controls-bottom"],";\n  left: 0px;\n  width: 100%;\n  z-index:100;\n  height: 44px;\n  opacity:0;\n  display:flex;\n  border-radius: 6px;\n  align-items:center;\n  -webkit-transition: opacity 0.2s ease;\n  -moz-transition: opacity 0.2s ease;\n  transition: opacity 0.2s ease;\n}\n\n#").concat(e," #").concat(e,"-totalbar {\n  width: calc(100% - 20px);\n  height: 5px;\n  margin: 0px 10px 0px 10px;\n  background-color: ").concat(t["totalbar-color"],";\n  position: absolute;\n  top: 0px;\n  left: 0px;\n}\n\n#").concat(e," #").concat(e,"-loopbar {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0px;\n  left: 0px;\n  background-color: ").concat(t["loopbar-color"],";\n}\n\n#").concat(e," .").concat(e,"-loop-boundaries::before {\n  ").concat(t["loopbar-boundaries-style::before"],"\n\n}\n#").concat(e," .").concat(e,"-loop-boundaries {\n  transform:translate(-50%,-37%);\n  position:absolute;\n  width:18px;\n  background-color:").concat(t["loopbar-boundaries-color"],";\n  height:18px;\n  border-radius:10px;\n  z-index:40;\n  ").concat(t["loopbar-boundaries-style"],"\n}\n\n#").concat(e," .").concat(e,"-loop-boundaries::after {\n  ").concat(t["loopbar-boundaries-style::after"],"\n\n}\n\n#").concat(e," #").concat(e,"-helperbar {\n  position: absolute;\n  height: 20px;\n  top: -10px;\n  left: 0px;\n  right: 0px;\n  z-index:2;\n}\n\n#").concat(e," #").concat(e,"-runningbar {\n  position: relative;\n  width: 0px;\n  max-width:100%;\n  height: 100%;\n  background-color: ").concat(t["runningbar-color"],";\n}\n\n#").concat(e," #").concat(e,"-cursor {\n  transform:translate(50%,-36%);\n  right: 0px;\n  overflow:hidden;\n  top: 0px;\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  background-color: ").concat(t["cursor-color"],";\n  border-radius: 10px;\n  z-index: 5;\n}\n\n#").concat(e," #").concat(e,"-cursor::before {\n  ").concat(t["cursor-style::before"],"\n}\n\n#").concat(e," #").concat(e,"-cursor::after {\n  ").concat(t["cursor-style::after"],"\n}\n\n#").concat(e," #").concat(e,"-left-controls,#").concat(e," #").concat(e,"-right-controls {\n    display: flex;\n    align-items:center;\n    height: 100%;\n    padding: 5px 5px 0px;\n}\n#").concat(e," #").concat(e,"-right-controls {\n  position:absolute;\n  right:0px;\n}\n\n\n#").concat(e," #").concat(e,"-left-controls > div,#").concat(e," #").concat(e,"-right-controls > div {\n  display: inline-flex;\n  align-items:center;\n  margin:0 10px 0 10px;\n  overflow:hidden;\n}\n\n\n#").concat(e," #").concat(e,"-time-display span {\n  display: table-cell;\n  vertical-align: middle;\n}\n\n#").concat(e," #").concat(e,"-status-btn {\n  opacity: ").concat(t["button-opacity"],";\n}\n#").concat(e," #").concat(e,"-status-btn svg{\n  width:20px;\n  height:18px;\n}\n#").concat(e," #").concat(e,"-volume {\n  opacity: ").concat(t["button-opacity"],";\n  position: relative;\n}\n#").concat(e," #").concat(e,"-volume-btn {\n  width: 20px;\n  height: 15px;\n}\n\n#").concat(e," #").concat(e,"-volumebar {\n  width: 0px;\n  height: 3px;\n  background-color: ").concat(t["loopbar-color"],";\n  -webkit-transition: left 0.1s ease;\n  -moz-transition: left 0.1s ease;\n  transition: left 0.1s ease;\n  position:relative;\n  left:5px;\n}\n\n#").concat(e," #").concat(e,"-volumebar-helper {\n  position: absolute;\n    width: 0px;\n    height: 15px;\n    bottom: 0px;\n    z-index: 10;\n    left: 25px;\n}\n\n#").concat(e," #").concat(e,"-volumebar-active {\n  position: relative;\n  width: 0%;\n  height: 100%;\n  background-color: ").concat(t.color,";\n  position:relative;\n  bottom:0px;\n}\n\n#").concat(e," #").concat(e,"-volume-cursor {\n  transform:translate(50%,-36%);\n  right: 0px;\n  top: 0px;\n  width: 0px;\n  height: 0px;\n  position: absolute;\n  background-color: ").concat(t.color,";\n  border-radius: 10px;\n  z-index: 5;\n}\n\n#").concat(e," .").concat(e,"-loopbar-time {\n  width:auto;\n  height:12px;\n  background-color:").concat(t["background-color"],";\n  line-height:10px;\n  font-size:10px;\n}\n\n#").concat(e," #").concat(e,"-loop-time {\n  margin: 7px;\n}\n\n#").concat(e," #").concat(e,"-dc-btn {\n    background-repeat: no-repeat;\n    background-size: 100% 100%;\n    width: 20px;\n    height: 15px;\n    margin: 7px 10px 5px 0px;\n    transform: scale(1.5,1.5);\n}\n\n#").concat(e," #").concat(e,"-loop-btn {\n  opacity: ").concat(t["button-opacity"],";\n  display:flex;\n  align-items:center;\n}\n\n\n#").concat(e," #").concat(e,"-settings-btn {\n  overflow:hidden;\n  opacity: ").concat(t["button-opacity"],";\n}\n\n#").concat(e," #").concat(e,"-full-screen-btn {\n  opacity: ").concat(t["button-opacity"],";\n}\n\n#").concat(e," .").concat(e,"-speed-btn {\n  opacity: ").concat(t["button-opacity"],";\n  height: 14px;\n}\n\n#").concat(e," #").concat(e,"-settings-panel {\n  touch-action: none;\n  box-sizing: border-box;\n  position: absolute;\n  z-index:102;\n  background-color: ").concat(t["settings-background-color"],";\n  bottom: ").concat(t["settings-panel-bottom"],";\n  border: ").concat(t.border,";\n  right: 8px;\n  width: 167px;\n  padding: 5px;\n  margin: 0px;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(e," .").concat(e,"-hide {\n  display:none !important;\n}\n\n#").concat(e," #").concat(e,"-speed-value-bar {\n  position: relative;\n  width: 5px;\n  background-color: ").concat(t["speedbar-color"],";\n  display: inline-block;\n  box-sizing: border-box;\n  height: ").concat(16*n.speedValues.length,"px;\n  float: left;\n  margin-right:15px;\n}\n\n#").concat(e," #").concat(e,"-speed-value-helperbar {\n  position: absolute;\n  width: 25px;\n  height: ").concat(16*n.speedValues.length,"px;\n  float: left;\n  left: 18px;\n  z-index:10;\n}\n\n\n#").concat(e," #").concat(e,"-speed-value-bar:hover,\n#").concat(e," #").concat(e,"-speed-value-helperbar {\n  cursor: pointer;\n}\n\n#").concat(e," #").concat(e,"-volumebar:hover,\n#").concat(e," #").concat(e,"-volumebar-helper:hover,\n#").concat(e," #").concat(e,"-volume-btn:hover,\n#").concat(e," #").concat(e,"-volumebar:active,\n#").concat(e," #").concat(e,"-volumebar-helper:active,\n#").concat(e," #").concat(e,"-volume-btn:active {\n  cursor:pointer;\n}\n\n#").concat(e," #").concat(e,"-speed-cursor {\n  position: absolute;\n  background-color: ").concat(t["speedbar-cursor-color"],";\n  top: 0px;\n  left: 0px;\n}\n\n#").concat(e," #").concat(e,"-speed-cursor div {\n  position: absolute;\n  background-color: ").concat(t["speedbar-cursor-color"],";\n  left: -2.5px;\n  top: -4px;\n  width: 10px;\n  height: 10px;\n  border-radius: 5px;\n}\n\n#").concat(e," #").concat(e,"-time-separator{\n  margin:0 3px;\n}\n#").concat(e," #").concat(e,"-speed-cursor:hover {\n  cursor: pointer;\n}\n\n#").concat(e," .").concat(e,"-speed-value-step {\n  width: 16px;\n  background-color: ").concat(t["speedbar-color"],";\n  display: inline-block;\n  box-sizing: border-box;\n  height: 2px;\n  margin-top: 7px;\n  margin-bottom: 7px;\n  float: left;\n}\n\n#").concat(e," #").concat(e,"-speed-value {\n  display: inline-block;\n  box-sizing: border-box;\n  height: ").concat(16*n.speedValues.length,"px;\n  text-align: left;\n}\n\n#").concat(e," .").concat(e,"-speed-value {\n  box-sizing: border-box;\n  height: 16px;\n  font-size: 12px;\n}\n\n#").concat(e," #").concat(e,"-indicator {\n  font-size: 8px !important;\n  position: absolute;\n  bottom: -3px;\n  color: ").concat(t.color,";\n}\n\n\n#").concat(e," #").concat(e,"-speed-settings li.no-hover { \n  height: ").concat(16*n.speedValues.length+10-2,"px !important; \n}\n\n#").concat(e," #").concat(e,"-settings-panel.").concat(e,"-settings-speed-panel {\n  overflow: hidden;\n  width: 92px;\n  position:absolute;\n  z-index:120;\n  /*height: ").concat(16*n.speedValues.length+32+20,"px;*/\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(e," #").concat(e,"-settings-panel.").concat(e,"-settings-speed-panel .").concat(e,"-speed-btn {\n  float: left;\n}\n\n#").concat(e," .").concat(e,"-settings-speed-panel ul:first-child {\n  text-align: right;\n}\n\n#").concat(e," #").concat(e,"-speed-current {\n  float: right;\n  padding-right: 10px\n}\n\n#").concat(e," #").concat(e,"-settings-panel .").concat(e,"-speed-btn {\n  float: right;\n}\n\n#").concat(e," #").concat(e,"-settings-panel ul {\n  width: 100%;\n  margin: 0px;\n  padding: 0px;\n  overflow: hidden;\n}\n\n#").concat(e," #").concat(e,"-settings-panel.").concat(e,"-settings-speed-panel ul li {\n  min-width: 70px;\n  display: flex;\n  height: 32px;\n  align-items: center;\n  justify-content:center;\n}\n\n#").concat(e," #").concat(e,"-settings-panel ul li.no-hover:hover {\n  background-color: transparent;\n  cursor: default;\n}\n\n#").concat(e," div.").concat(e,"-speed-value:hover {\n  background-color: ").concat(t["hover-color"],";\n  cursor: pointer;\n}\n\n#").concat(e," #").concat(e,"-settings-panel ul li {\n  /*position: relative;\n  width: 100%;\n  min-width: 154px;*/\n  list-style-type: none;\n  margin: 0px;\n  padding: 5px;\n  display: flex;\n  height:32px;\n  align-items:center;\n}\n\n#").concat(e," #").concat(e,"-settings-panel ul li label {\n  margin: 0px;\n}\n\n#").concat(e," .switch {\n  position: relative;\n  display: inline-block;\n  width: 32px;\n  height: 18px;\n}\n\n#").concat(e," .switch input {\n  display: none;\n}\n\n#").concat(e," .settings-switch {\n  position: absolute;\n  right: 24px;\n}\n\n#").concat(e," .settings-switch::after {\n  clear: both;\n}\n\n#").concat(e," .slider {\n  position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: ").concat(t["slider-off-color"],";\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\n#").concat(e,' .slider:before {\n  position: absolute;\n  content: "";\n  height: 16px;\n  width: 16px;\n  left: 1px;\n  bottom: 1px;\n  background-color: white;\n  -webkit-transition: .4s;\n  transition: .4s;\n}\n\n#').concat(e," input:checked+.slider {\n  background-color: ").concat(t["slider-on-color"],";\n}\n\n#").concat(e," input:focus+.slider {\n  box-shadow: 0 0 1px ").concat(t["slider-on-color"],";\n}\n\n#").concat(e," input:checked+.slider:before {\n  -webkit-transform: translateX(16px);\n  -ms-transform: translateX(16px);\n  transform: translateX(16px);\n}\n\n\n/* Rounded sliders */\n\n#").concat(e," .slider.round {\n  border-radius: 34px;\n}\n\n#").concat(e," .slider.round:before {\n  border-radius: 50%;\n}\n\n\n#").concat(e," .m-fadeOut {\n  visibility: hidden !important;\n  opacity: 0 !important;\n}\n\n#").concat(e," .m-fadeIn {\n  visibility: visible !important;\n  opacity: 1 !important;\n}\n\n#").concat(e," #").concat(e,"-settings-panel ul li:hover {\n  background-color: ").concat(t["hover-color"],";\n  cursor: pointer;\n}\n\n#").concat(e," #").concat(e,"-settings-panel ul li label:hover {\n  cursor: pointer;\n}\n\n#").concat(e," #").concat(e,"-loopbar:hover {\n  cursor: pointer;\n}\n\n#").concat(e," #").concat(e,"-status-btn:hover {\n  cursor: pointer;\n}\n\n#").concat(e," #").concat(e,"-controls:active #").concat(e,"-cursor,\n#").concat(e," #").concat(e,"-controls:hover #").concat(e,"-cursor  {\n  width: 16px;\n  height: 16px;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(e," #").concat(e,"-volume .").concat(e,"-volume-cursor-transition {\n  width: 12px;\n  height: 12px;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(e," #").concat(e,"-volume .").concat(e,"-volume-width-transition\n {\n  width: 50px;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(e," #").concat(e,"-time-display.").concat(e,"-time-width-transition {\n  position:relative;\n  left: 10px;\n  -webkit-transition: left 0.3s ease;\n  -moz-transition: left 0.3s ease;\n  transition: left 0.3s ease;\n}\n\n#").concat(e," #").concat(e,"-settings-speed:hover .").concat(e,"-speed-btn {\n  opacity: 1;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(e," #").concat(e,"-status-btn:hover {\n  opacity: 1;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(e," #").concat(e,"-loop-btn:hover,\n#").concat(e," #").concat(e,"-dc-btn:hover\n {\n  cursor: pointer;\n  opacity: 1;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n#").concat(e," #").concat(e,"-settings-btn:hover {\n  cursor: pointer;\n  opacity: 1;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n\n#").concat(e," #").concat(e,"-full-screen-btn:hover {\n  cursor: pointer;\n  opacity: 1;\n  -webkit-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;\n  transition: all 0.3s ease;\n}\n").concat(t["theme-style"],"\n")}(t,this.name,this.options),o=Z("style");o.id=this.name+"-style",o.styleSheet?o.styleSheet.cssText=r:o.appendChild(document.createTextNode(r)),Y("head")[0].appendChild(o),this.eventBroadcast("theme-change",this.options.theme)}},{key:"setSpeed",value:function(){var t,e=this;t=1==this.clip.speed?"Normal":this.clip.speed,this.elements.speedCurrent.innerHTML=t;var n=-1*(function(){for(var t=0;t<e.options.speedValues.length-1;t++)if(e.options.speedValues[t]<=e.clip.speed&&e.options.speedValues[t+1]>e.clip.speed)return t+Math.abs((e.clip.speed-e.options.speedValues[t])/(e.options.speedValues[t]-e.options.speedValues[t+1]))}()*(1/(this.options.speedValues.length-1))-1)*(this.options.speedValues.length-1)*16;X("".concat(this.name,"-speed-cursor")).style.top=n+"px"}},{key:"calculateSpeed",value:function(t,e,n){var i=Math.floor(n/t);if(i===e.length-1)return e[i].toFixed(1);var r=(n/t%1*Math.abs(e[i]-e[i+1])+e[i]).toFixed(1);return 0==r?"0.0":r}},{key:"createPreviewDisplay",value:function(){this.previewClip=this.clip.paste(X("".concat(this.name,"-hover-display-clip")));var t=X("".concat(this.name,"-hover-display"));window.previewClip=this.previewClip,t.style.position="absolute",t.style.background=this.options.backgroundColor,t.style.zIndex=1,this.setPreviewDimentions()}},{key:"setPreviewDimentions",value:function(){var t=this.clip.props.host,e=this.previewClip.ownClip.props.host,n=t.offsetWidth,i=t.offsetHeight,r=n*this.previewScale;r>300&&(r=300,this.previewScale=r/n);var o=n*this.previewScale,s=i*this.previewScale,a=tt({width:this.clip.props.containerParams.width,height:this.clip.props.containerParams.height},{width:o,height:s},"cover"===this.options.scaleToFit);this.previewClip.ownClip.rootElement.style.transform="scale(".concat(a.scale),this.previewClip.ownClip.rootElement.style.left=a.position.left+"px",this.previewClip.ownClip.rootElement.style.top=a.position.top+"px",X("".concat(this.name,"-hover-display")).style.width=o+"px",X("".concat(this.name,"-hover-display")).style.height=s+"px",e.style.boxSizing="border-box"}}])&&i(e.prototype,n),t}()}(n(0))},function(t,e,n){t.exports=function(t){"use strict";var e=function(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}(t);function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=s(t);if(e){var r=s(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return a(this,n)}}var c=function(t){o(i,t);var e=l(i);function i(){return n(this,i),e.apply(this,arguments)}return r(i,[{key:"html",get:function(){var t=this;return'\n        <div>\n            <video id="video" style="width:'.concat(this.attrs.width||640,"px;height:").concat(this.attrs.height||360,'px;" preload="auto">\n                ').concat(this.attrs.sources.map((function(e){return'\n                    <source src="'.concat(e,"#t=").concat(t.attrs.startFrom||0,'"></source>\n                ')})).join(""),'\n            </video>\n            <canvas id="canvas"></canvas>\n        </div>\n        ')}},{key:"css",get:function(){return"\n            #video{\n                display:none;\n            }\n        "}},{key:"onAfterRender",value:function(){var t=this,e=this.context.getElements("video")[0];e.muted=!0;var n=this.context.getElements("canvas")[0],i=n.getContext("2d");e.addEventListener("loadedmetadata",(function(){var i=t.attrs.width||640,r=t.attrs.height||360;n.style.transform="scale(".concat(i/e.videoWidth,", ").concat(r/e.videoHeight,")"),n.width=e.videoWidth,n.height=e.videoHeight}),!1),this.setCustomEntity("video",{video:e,canvas:n,ctx:i,startFrom:1e3*this.attrs.startFrom||0})}}]),i}(e.default.BrowserClip),u=function(t){o(i,t);var e=l(i);function i(){return n(this,i),e.apply(this,arguments)}return r(i,[{key:"play",value:function(){var t=this,e=this.element.entity.video,n=this.element.entity.ctx;return e.play(),!0!==this.hasSetWaitingListener&&(e.addEventListener("waiting",this._waitingHandler.bind(this)),this.hasSetWaitingListener=!0),!0!==this.hasSetCanplayListener&&(e.addEventListener("canplay",this._canplayHandler.bind(this)),this.hasSetCanplayListener=!0),function e(i){n.drawImage(i,0,0),t.timeout=setTimeout((function(){e(i)}),10)}(e),!0}},{key:"_waitingHandler",value:function(){this.setBlock("Video loading")}},{key:"_canplayHandler",value:function(){this.unblock()}},{key:"stop",value:function(){this.element.entity.video.pause(),clearTimeout(this.timeout)}},{key:"onProgress",value:function(t,e){var n=e+this.element.entity.startFrom;this.element.entity.video.currentTime=(n+e)/1e3,this.element.entity.ctx.drawImage(this.element.entity.video,0,0)}}]),i}(e.default.MediaPlayback),p={filter:["blur","brightness","contrast","drop-shadow","grayscale","hue-rotate","invert","opacity","saturate","sepia"]},d=p.filter;return{npm_name:"@kissmybutton/motorcortex-video",version:"1.1.12",incidents:[{exportable:u,name:"Playback"},{exportable:function(t){o(i,t);var e=l(i);function i(){return n(this,i),e.apply(this,arguments)}return r(i,[{key:"getScratchValue",value:function(){return{blur:0,brightness:1,contrast:1,grayscale:0,"hue-rotate":0,invert:0,opacity:1,saturate:1,sepia:0}}},{key:"_effectsUnits",get:function(){return{blur:"px",brightness:"",contrast:"",grayscale:"","hue-rotate":"deg",invert:"",opacity:"",saturate:"",sepia:""}}},{key:"_objToFilterValue",value:function(t){var e="";for(var n in t)e+="".concat(n,"(").concat(t[n]).concat(this._effectsUnits[n],") ");return e}},{key:"onProgress",value:function(t){for(var e=Object.assign({},this.initialValue),n=0;n<d.length;n++){var i=d[n];this.initialValue[i]!==this.targetValue[i]&&(e[i]=t*(this.targetValue[i]-this.initialValue[i])+this.initialValue[i])}this.element.entity.ctx.filter=this._objToFilterValue(e)}}]),i}(e.default.Effect),name:"VideoEffect",attributesValidationRules:{animatedAttrs:{type:"object",props:{filter:{type:"object",props:{blur:{type:"number",min:0,optional:!0},brightness:{type:"number",min:0,max:1,optional:!0},contrast:{type:"number",min:0,optional:!0},grayscale:{type:"number",min:0,max:1,optional:!0},"hue-rotate":{type:"number",optional:!0},invert:{type:"number",min:0,max:1,optional:!0},opacity:{type:"number",min:0,max:1,optional:!0},saturate:{type:"number",min:0,optional:!0},sepia:{type:"number",min:0,max:1,optional:!0}}}}}}}],compositeAttributes:p,Clip:{exportable:c,attributesValidationRules:{sources:{optional:!1,type:"array",min:1,items:{type:"string"}},width:{optional:!0,type:"number",integer:!0,positive:!0},height:{optional:!0,type:"number",integer:!0,positive:!0},startFrom:{optional:!0,type:"number",integer:!0,min:0}}},capabilities:{speed:!1,preview:!1}}}(n(0))},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),o=n(4),s=n.n(o),a=n(11),l=r.a.loadPlugin(a),c=document.getElementById("clip"),u=["#101820D7","#101820FF"],p="#FEE715FF",d=new r.a.HTMLClip({css:"\n  body { \n    background-color : white; \n  }              \n  .container,.container2,.container3,.container4 {\n    width: 1920px;\n    height: 1080px;\n    overflow: hidden;\n    display: flex;\n    position: absolute;\n  }\n",html:' \n  <div class="container container1"></div>\n  <div class="container container3"></div>\n  <div class="container container2"></div>\n  <div class="container container4"></div>\n  <div class="container container6"></div>\n  <div class="container container5"></div>\n  <div class="container container7"></div>\n  <div class="container container8"></div>\n  <div class="container container9"></div>\n  <div class="container container10"></div>\n  <div class="container container11"></div>\n  <div class="container container12"></div>\n  <div class="container container13"></div>\n  <div class="container container14"></div>\n  <div class="container container15"></div>\n  <div class="container container16"></div>\n',host:c,fonts:[{type:"google-font",src:"https://fonts.googleapis.com/css?family=Roboto+Mono:100,300,400,500,700&display=swap"}],containerParams:{width:"1920px",height:"1080px"},id:"root"}),h=new l.Intro({title:"Demo",subtitle:"Promo Plugin",description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Totam\n    eveniet eosdsdawdw numquam facilis libero iure natus, voluptatibus\n    deserunt laboriosam, perspiciatis consequatur nostrum.",month:"December",bgUrl:"https://kissmybutton.github.io/motorcortex-slides/demo/assets/kissmybutonbg.jpg",overlayColor:u,mainColor:p,speed:2},{selector:".container1"}),f=new l.SlideDateOneVid({title:["the","MOTORCORTEX TEAM","Presents"],description:"Lorem ipsum dolor, sit amet consectetur adipisicing elit. Totam\n    eveniet eosdsdawdw numquam facilis libero iure natus, voluptatibus\n    deserunt laboriosam, perspiciatis consequatur nostrum.",bgUrl:"https://kissmybutton.github.io/motorcortex-slides/demo/assets/kissmybutonbg.jpg",overlayColor:u,mainColor:p,bgUrl2:"https://kissmybutton.github.io/motorcortex-slides/demo/assets/bg2.jpg",month:"December",day:"monday",dayNumber:20,year:2019,speed:2,vidDuration:6e3,vidLink:["https://kissmybutton.github.io/motorcortex-slides/demo/assets/vid.mp4"]},{selector:".container3"}),m=new l.Scrolslide({title:"Presenter",name:"name surname",position:"Web developer at kissmybuton",bgUrl:"https://kissmybutton.github.io/motorcortex-slides/demo/assets/bg3.jpg",overlayColor:u,mainColor:p,speed:2},{selector:".container4"}),g=new l.LtRslide({title:"Presenter",name:"name surname",position:"Web developer at kissmybuton",bgUrl:"https://kissmybutton.github.io/motorcortex-slides/demo/assets/bg4.jpg",overlayColor:u,mainColor:p,speed:2},{selector:".container6"}),v=new l.SlideDateTwo({title:"Presenter",name:"name surname",position:"Web developer at kissmybuton",bigTitle:"Event",bgUrl:"https://kissmybutton.github.io/motorcortex-slides/demo/assets/bg5.jpg",overlayColor:u,dateOverlay:"#ff00b3",mainColor:"#00ff40",bgUrl2:"https://kissmybutton.github.io/motorcortex-slides/demo/assets/bg2.jpg",month:"December",day:"monday",dayNumber:22,year:2019,speed:2},{selector:".container7"}),y=new l.BtTslide({title:"Presenter",name:"name surname",position:"Web developer at kissmybuton",bgUrl:"https://kissmybutton.github.io/motorcortex-slides/demo/assets/bg4.jpg",overlayColor:u,mainColor:p,speed:2},{selector:".container16"}),b=new l.BtTslideDate({title:"Presenter",name:"name surname",position:"Web developer at kissmybuton",bgUrl:"https://kissmybutton.github.io/motorcortex-slides/demo/assets/bg3.jpg",overlayColor:u,dateOverlay:"#ff00b3",mainColor:"#00ff40",bgUrl2:"https://kissmybutton.github.io/motorcortex-slides/demo/assets/bg2.jpg",month:"December",day:"monday",dayNumber:21,year:2019,speed:2},{selector:".container10"});d.addIncident(h,0),d.addIncident(f,d.calculatedDuration-2e3),d.addIncident(m,d.calculatedDuration-2e3),d.addIncident(g,d.calculatedDuration-2e3),d.addIncident(v,d.calculatedDuration-2e3),d.addIncident(b,d.calculatedDuration-2e3),d.addIncident(y,d.calculatedDuration-2e3),new s.a({clip:d})},function(t,e){},function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,r="/"===s.charAt(0))}return(r?"/":"")+(e=n(i(e.split("/"),(function(t){return!!t})),!r).join("/"))||"."},e.normalize=function(t){var o=e.isAbsolute(t),s="/"===r(t,-1);return(t=n(i(t.split("/"),(function(t){return!!t})),!o).join("/"))||o||(t="."),t&&s&&(t+="/"),(o?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=i(t.split("/")),o=i(n.split("/")),s=Math.min(r.length,o.length),a=s,l=0;l<s;l++)if(r[l]!==o[l]){a=l;break}var c=[];for(l=a;l<r.length;l++)c.push("..");return(c=c.concat(o.slice(a))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,i=-1,r=!0,o=t.length-1;o>=1;--o)if(47===(e=t.charCodeAt(o))){if(!r){i=o;break}}else r=!1;return-1===i?n?"/":".":n&&1===i?"/":t.slice(0,i)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,i=-1,r=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!r){n=e+1;break}}else-1===i&&(r=!1,i=e+1);return-1===i?"":t.slice(n,i)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,i=-1,r=!0,o=0,s=t.length-1;s>=0;--s){var a=t.charCodeAt(s);if(47!==a)-1===i&&(r=!1,i=s+1),46===a?-1===e?e=s:1!==o&&(o=1):-1!==e&&(o=-1);else if(!r){n=s+1;break}}return-1===e||-1===i||0===o||1===o&&e===i-1&&e===n+1?"":t.slice(e,i)};var r="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(3))},function(t,e,n){(function(e,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var i;i=function(){"use strict";function t(t){return"function"==typeof t}var i=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=0,o=void 0,s=void 0,a=function(t,e){f[r]=t,f[r+1]=e,2===(r+=2)&&(s?s(m):x())},l="undefined"!=typeof window?window:void 0,c=l||{},u=c.MutationObserver||c.WebKitMutationObserver,p="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),d="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var t=setTimeout;return function(){return t(m,1)}}var f=new Array(1e3);function m(){for(var t=0;t<r;t+=2)(0,f[t])(f[t+1]),f[t]=void 0,f[t+1]=void 0;r=0}var g,v,y,b,x=void 0;function w(t,e){var n=this,i=new this.constructor(O);void 0===i[C]&&D(i);var r=n._state;if(r){var o=arguments[r-1];a((function(){return _(r,i,o,n._result)}))}else T(n,i,t,e);return i}function k(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(O);return P(e,t),e}p?x=function(){return e.nextTick(m)}:u?(v=0,y=new u(m),b=document.createTextNode(""),y.observe(b,{characterData:!0}),x=function(){b.data=v=++v%2}):d?((g=new MessageChannel).port1.onmessage=m,x=function(){return g.port2.postMessage(0)}):x=void 0===l?function(){try{var t=Function("return this")().require("vertx");return void 0!==(o=t.runOnLoop||t.runOnContext)?function(){o(m)}:h()}catch(t){return h()}}():h();var C=Math.random().toString(36).substring(2);function O(){}function E(e,n,i){n.constructor===e.constructor&&i===w&&n.constructor.resolve===k?function(t,e){1===e._state?S(t,e._result):2===e._state?A(t,e._result):T(e,void 0,(function(e){return P(t,e)}),(function(e){return A(t,e)}))}(e,n):void 0===i?S(e,n):t(i)?function(t,e,n){a((function(t){var i=!1,r=function(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}(n,e,(function(n){i||(i=!0,e!==n?P(t,n):S(t,n))}),(function(e){i||(i=!0,A(t,e))}),t._label);!i&&r&&(i=!0,A(t,r))}),t)}(e,n,i):S(e,n)}function P(t,e){if(t===e)A(t,new TypeError("You cannot resolve a promise with itself"));else if(r=typeof(i=e),null===i||"object"!==r&&"function"!==r)S(t,e);else{var n=void 0;try{n=e.then}catch(e){return void A(t,e)}E(t,e,n)}var i,r}function I(t){t._onerror&&t._onerror(t._result),M(t)}function S(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&a(M,t))}function A(t,e){void 0===t._state&&(t._state=2,t._result=e,a(I,t))}function T(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+1]=n,r[o+2]=i,0===o&&t._state&&a(M,t)}function M(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?_(n,i,r,o):r(o);t._subscribers.length=0}}function _(e,n,i,r){var o=t(i),s=void 0,a=void 0,l=!0;if(o){try{s=i(r)}catch(t){l=!1,a=t}if(n===s)return void A(n,new TypeError("A promises callback cannot return that same promise."))}else s=r;void 0!==n._state||(o&&l?P(n,s):!1===l?A(n,a):1===e?S(n,s):2===e&&A(n,s))}var j=0;function D(t){t[C]=j++,t._state=void 0,t._result=void 0,t._subscribers=[]}var B=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(O),this.promise[C]||D(this.promise),i(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?S(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&S(this.promise,this._result))):A(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===k){var r=void 0,o=void 0,s=!1;try{r=t.then}catch(t){s=!0,o=t}if(r===w&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===V){var a=new n(O);s?A(a,o):E(a,t,r),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(i(t),e)},t.prototype._settledAt=function(t,e,n){var i=this.promise;void 0===i._state&&(this._remaining--,2===t?A(i,n):this._result[e]=n),0===this._remaining&&S(i,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;T(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),V=function(){function e(t){this[C]=j++,this._result=this._state=void 0,this._subscribers=[],O!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){P(t,e)}),(function(e){A(t,e)}))}catch(e){A(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return V.prototype.then=w,V.all=function(t){return new B(this,t).promise},V.race=function(t){var e=this;return i(t)?new e((function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},V.resolve=k,V.reject=function(t){var e=new this(O);return A(e,t),e},V._setScheduler=function(t){s=t},V._setAsap=function(t){a=t},V._asap=a,V.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var i=null;try{i=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===i&&!e.cast)return}t.Promise=V},V.Promise=V,V},t.exports=i()}).call(this,n(3),n(10))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),o=n(1),s=n.n(o);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=h(t);if(e){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function d(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=r.a.loadPlugin(s.a),m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(o,t);var e,n,i,r=p(o);function o(){return l(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"dinamicFontSize",value:function(t,e){var n;return(n=e/.6/t)>=200&&720===e&&(n=200),n>=100&&360===e&&(n=100),n}},{key:"html",get:function(){return this.attrs.bgUrl=this.attrs.bgUrl?this.attrs.bgUrl:this.attrs.bgUrl="./kissmybutonbg.jpg",this.attrs.overlayColor=this.attrs.overlayColor?this.attrs.overlayColor:this.attrs.overlayColor="#ff00b34d",this.attrs.mainColor=this.attrs.mainColor?this.attrs.mainColor:this.attrs.mainColor="#00ff40",this.attrs.speed=this.attrs.speed?this.attrs.speed:this.attrs.speed=2,'\n      <div class="bg"> \n        <div class="first-slide">\n          <div class="testdiv">\n            <div class="sub">\n              <div class="subtitle">\n                <div class="subtitle-holder">\n                  <div class="subtitle-text">'.concat(this.attrs.subtitle,'</div>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class="title">\n            <div class="date-holder">\n              <div class="date">\n                <span> ').concat(this.attrs.month,'</span>\n              </div>\n            </div>\n            <div class="holder-title">\n              <div class="title-text">').concat(this.attrs.title,'</div>\n            </div>\n          </div>\n          <div class="description">\n            <div class="description-text">\n              <p>').concat(this.attrs.description,"</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"css",get:function(){return"\n      .bg {\n        height: 1080px;\n        width: 1920px;\n        position: relative;\n        background-image: url(".concat(this.attrs.bgUrl,');\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-wrap: wrap;\n        flex: 1 0 auto;\n      }\n\n      .bg:after {\n        content: "";\n        display: block;\n        background: linear-gradient(').concat(this.attrs.overlayColor,");\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: -1;\n      }\n\n      .first-slide {\n        display: flex;\n        width: 90%;\n        white-space: nowrap;\n        overflow: hidden;\n        flex-direction: column;\n        position: relative;\n      }\n\n      .sub {\n        display: flex;\n        overflow: hidden;\n        position: relative;\n        width: 50%;\n      }\n      \n      .title {\n        color: ").concat(this.attrs.mainColor,";\n        font-size: ").concat(this.dinamicFontSize(this.attrs.title.length,864*this.attrs.speed),"px;\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        margin-top:-").concat(this.dinamicFontSize(this.attrs.title.length,864*this.attrs.speed)/2.6,"px;\n        overflow: hidden;\n        display: flex;\n        width: 100%;\n      }\n\n      .subtitle {\n        color: ").concat(this.attrs.mainColor,";\n        font-size: ").concat(this.dinamicFontSize(this.attrs.subtitle.length,864),"px;\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        overflow: hidden;\n      }\n\n      .description-text {\n        position: relative;\n        transform: translateY(-200%);\n      }\n\n      .description {\n        border-top: 15px solid ").concat(this.attrs.mainColor,";\n        overflow: hidden;\n        transform: translateY(200%);\n        font-size: 30px;\n        color: #fff;\n        position: relative;\n        white-space: normal;\n        text-align: left;\n        text-transform: uppercase;\n        font-family: 'Roboto Mono', monospace;\n      }\n\n      .testdiv{\n        width:100%;\n        padding-bottom: 2%;\n      }\n\n      .date-holder{\n        width: 28%;\n        position: absolute;\n        justify-self: center;\n        top: 8%;\n        display: flex;\n        justify-content: flex-end;\n      }\n\n      .date {\n        overflow: hidden;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n      }\n\n      .date span {\n        position: relative;\n        overflow: hidden;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        font-size: 50px;\n        color: #fff ;\n        transform: translateX(200%);\n      }\n\n      .title-text{\n        overflow: hidden;\n        width : 0%;\n      }\n\n      .subtitle-text{\n        overflow: hidden;\n        right: 100%;\n        position: relative;\n      }\n\n      .subtitle-holder{\n        overflow: hidden;\n        position : relative;\n        right: -100%;\n      }\n    ")}},{key:"buildTree",value:function(){var t=new f.Anime({animatedAttrs:{width:"100%"},initialValues:{width:"0%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".title-text",easing:"easeOutQuad"}),e=new f.Anime({animatedAttrs:{backgroundSize:"3000px"},initialValues:{backgroundSize:"1980px"},attrs:{}},{duration:2800*this.attrs.speed,selector:".bg",easing:"easeOutCubic"}),n=new f.Anime({animatedAttrs:{right:"0%"},initialValues:{right:"100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".subtitle-text",easing:"easeOutQuad"}),i=new f.Anime({animatedAttrs:{right:"0%"},initialValues:{right:"-100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".subtitle-holder",easing:"easeOutQuad"}),r=new f.Anime({animatedAttrs:{left:"".concat(864*this.attrs.speed-(this.dinamicFontSize(this.attrs.subtitle.length,864),this.attrs.subtitle.length,864),"px")},initialValues:{},attrs:{}},{duration:1e3*this.attrs.speed,selector:".sub",easing:"easeOutQuad"}),o=new f.Anime({animatedAttrs:{transform:{translateX:"0%"}},initialValues:{transform:{translateX:"200%"}},attrs:{}},{duration:1e3*this.attrs.speed,selector:".date span",easing:"easeOutQuad"}),s=new f.Anime({animatedAttrs:{width:"45%"},initialValues:{width:"28%"},attrs:{}},{duration:10,selector:".date-holder"}),a=new f.Anime({animatedAttrs:{transform:{scale:.5}},initialValues:{transform:{scale:1}},attrs:{}},{duration:1e3*this.attrs.speed,selector:".first-slide",easing:"easeOutQuad"}),l=new f.Anime({animatedAttrs:{transform:{translateY:"0%"}},initialValues:{transform:{translateY:"200%"}},attrs:{}},{duration:1e3*this.attrs.speed,selector:".description",easing:"easeOutQuad"}),c=new f.Anime({animatedAttrs:{transform:{translateY:"0%"}},initialValues:{transform:{translateY:"-200%"}},attrs:{}},{duration:300*this.attrs.speed,selector:".description-text",easing:"easeOutQuad"}),u=new f.Anime({animatedAttrs:{transform:{translateX:"100%"}},initialValues:{transform:{translateX:"0%"}},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutQuad"});this.addIncident(e,0),this.addIncident(t,0),this.addIncident(n,0),this.addIncident(i,0),this.addIncident(r,1500*this.attrs.speed),this.addIncident(a,1500*this.attrs.speed),this.addIncident(l,1500*this.attrs.speed),this.addIncident(o,1800*this.attrs.speed),this.addIncident(s,2050*this.attrs.speed),this.addIncident(c,2500*this.attrs.speed),this.addIncident(u,this.calculatedDuration+1e3*this.attrs.speed)}}])&&c(e.prototype,n),i&&c(e,i),o}(r.a.HTMLClip);function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function v(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=k(t);if(e){var r=k(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return w(this,n)}}function w(t,e){return!e||"object"!==g(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var C=r.a.loadPlugin(s.a),O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(o,t);var e,n,i,r=x(o);function o(){return v(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"dinamicFontSize",value:function(t,e){var n;return(n=e/.6/t)>=200&&720===e&&(n=200),n>=100&&360===e&&(n=100),n}},{key:"html",get:function(){return this.attrs.speed=this.attrs.speed?this.attrs.speed:this.attrs.speed=2,'\n      <div class="transition-container">\n        <p class="transition-text">'.concat(this.attrs.title,"</p>\n      </div>\n    ")}},{key:"css",get:function(){return'\n      .transition-container {\n        color:white; \n        background:rgb(0, 0, 0);\n        mix-blend-mode: multiply;\n        font: bolder 400px "Roboto Mono";\n        text-align: center;\n        position: relative;\n        left: -100%;\n        width: 20%;\n        height: 100%;\n        position: absolute;\n        display: flex;\n        align-content: center;\n        align-items: center;\n        overflow: hidden;\n      }\n\n      .transition-text {\n        position: relative;\n        left: -0%;\n      }\n    '}},{key:"buildTree",value:function(){var t=new C.Anime({animatedAttrs:{left:"-100%"},initialValues:{left:"0%"},attrs:{easing:"linear"}},{duration:1e3*this.attrs.speed,selector:".transition-text"}),e=new C.Anime({animatedAttrs:{left:"100%"},initialValues:{left:"-20%"},attrs:{easing:"linear"}},{duration:1e3*this.attrs.speed,selector:".transition-container"});this.addIncident(t,0),this.addIncident(e,0)}}])&&y(e.prototype,n),i&&y(e,i),o}(r.a.HTMLClip);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function A(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=M(t);if(e){var r=M(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return T(this,n)}}function T(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=r.a.loadPlugin(s.a),j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(s,t);var e,n,i,o=A(s);function s(){return P(this,s),o.apply(this,arguments)}return e=s,(n=[{key:"dinamicFontSize",value:function(t,e){var n;return(n=e/.6/t)>=200&&720===e&&(n=200),n>=100&&360===e&&(n=100),n}},{key:"html",get:function(){return this.attrs.bgUrl=this.attrs.bgUrl?this.attrs.bgUrl:this.attrs.bgUrl="./bg3.jpg",this.attrs.overlayColor=this.attrs.overlayColor?this.attrs.overlayColor:this.attrs.overlayColor="#ff00b34d",this.attrs.bgUrl2=this.attrs.bgUrl2?this.attrs.bgUrl2:this.attrs.bgUrl2="./bg2.jpg",this.attrs.mainColor=this.attrs.mainColor?this.attrs.mainColor:this.attrs.mainColor="#00ff40",this.attrs.speed=this.attrs.speed?this.attrs.speed:this.attrs.speed=2,'\n      <div class="bg ">\n        <div class="second-slide">\n          <div class="second-slide-titleOne">'.concat(this.attrs.title[0],'</div>\n          <div class="second-slide-titleTwo">').concat(this.attrs.title[1],'</div>\n          <div class="word-bg">\n            <div class="word"></div>\n          </div>\n          <div class="short-description">\n            <p>').concat(this.attrs.description,'</p>\n          </div>\n        </div>\n      </div>\n      <div class="bg-second ">\n        <div class="bg-second-slide">\n            <div class="second-date-container">\n            <div class="second-date"><span> ').concat(this.attrs.day||""," ").concat(this.attrs.dayNumber||""," </span>").concat(this.attrs.month||""," ").concat(this.attrs.year||"","</div>\n            </div>\n        </div>\n      </div>\n    ")}},{key:"css",get:function(){return"\n      .bg,.bg-second {\n        width: 1920px;\n        height: 1080px;\n        background-image: url(".concat(this.attrs.bgUrl,');\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n        display: flex;\n        position: absolute;\n        align-items: center;\n        flex-wrap: wrap;\n        flex: 1 0 auto;\n        left: -100%\n      }\n\n      .bg:after,.bg-second:after {\n        content: "";\n        display: block;\n        background: linear-gradient(').concat(this.attrs.overlayColor,");\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: -1;\n      }\n\n      .bg-second{\n        left:100%;\n        background-image: url(").concat(this.attrs.bgUrl2,");\n      }\n\n      .short-description{\n        font-size: 20px;\n        color: #fff;\n        position: relative;\n        white-space: normal;\n        text-align: left;\n        text-transform: uppercase;\n        font-family: 'Roboto Mono', monospace;\n        width: 720px;\n        left: -50%;\n      }\n\n      .word-bg{\n        background-color:").concat(this.attrs.mainColor,";\n        width: 720px;\n        position: relative;\n        left: -50%\n      }\n\n      .word{\n        overflow: hidden;\n        position: relative;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 720px\n      }\n\n      .second-slide-titleTwo,.second-slide-titleOne{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.titleone.length,360),"px;\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: #fff;\n        position: relative;\n        left : -50%;\n      }\n\n      .second-slide-titleTwo{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.subtitle.length,720),"px;\n      }\n\n      .second-slide-titleOne{\n        color :").concat(this.attrs.mainColor,"\n      }\n\n      .second-slide{\n        position : absolute;\n        left : 0%;\n        display: flex;\n        align-content: center;\n        justify-content: center;\n        flex-direction: column;\n        margin-left: 10%;\n      }\n\n      .letter{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.str.length,720),"px;\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: #fff;\n        position: relative;\n        position: relative;\n        text-align: center;\n        top : 300px;\n        width: 100%;\n      }\n\n      .second-date-container{\n        border-left: 100px solid ").concat(this.attrs.mainColor,";\n        overflow: hidden;\n        width: 200%;\n      }\n\n      .second-date{\n        font-size: 100px;\n        color: #fff;\n        position: relative;\n        white-space: nowrap;\n        text-align: left;\n        text-transform: uppercase;\n        font-family: 'Roboto Mono', monospace;\n        width: 720px;\n        left:-100%;\n      }\n      \n      .second-date span{\n        color: ").concat(this.attrs.mainColor,";\n      }\n    ")}},{key:"buildTree",value:function(){for(var t,e=this.attrs.title[2].split(""),n=0;n<e.length;n++)t+="<span class='letter letter".concat(n+1,"'>").concat(e[n],"</span>");var i=new r.a.HTMLClip({css:this.css,html:' <div class="conttitle" >'.concat(t.split("undefined")[1]," </div>"),selector:".word",containerParams:{width:"100%",height:"100%"}});this.addIncident(i,0);for(var o=0;o<e.length;o++){var s=new _.Anime({animatedAttrs:{top:"0px",opacity:1},attrs:{}},{duration:500,selector:".letter"+(o+1),easing:"easeOutQuad"});i.addIncident(s,(2e3+100*(o+1))*this.attrs.speed)}var a=new _.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutQuad"}),l=new _.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-50%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".second-slide-titleOne",easing:"easeOutQuad"}),c=new _.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-50%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".second-slide-titleTwo",easing:"easeOutQuad"}),u=new _.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-50%"},attrs:{}},{duration:1200*this.attrs.speed,selector:".word-bg",easing:"easeOutQuad"}),p=new _.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-50%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".short-description",easing:"easeOutQuad"}),d=new _.Anime({animatedAttrs:{transform:{scale:.5}},initialValues:{transform:{scale:1}},attrs:{}},{duration:500*this.attrs.speed,selector:".bg,.bg-second",easing:"easeOutQuad"}),h=new _.Anime({animatedAttrs:{left:"-25%"},initialValues:{left:"0%"},attrs:{}},{duration:500*this.attrs.speed,selector:".bg",easing:"easeOutQuad"}),f=new _.Anime({animatedAttrs:{left:"25%"},initialValues:{left:"100%"},attrs:{}},{duration:500*this.attrs.speed,selector:".bg-second",easing:"easeOutQuad"}),m=new _.Anime({animatedAttrs:{left:"5%"},initialValues:{left:"-100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".second-date",easing:"easeOutQuad"}),g=new _.Anime({animatedAttrs:{left:"-76%"},initialValues:{},attrs:{}},{duration:800*this.attrs.speed,selector:".bg",easing:"easeOutQuad"}),v=new _.Anime({animatedAttrs:{left:"-76%"},initialValues:{},attrs:{}},{duration:1500*this.attrs.speed,selector:".bg-second",easing:"easeOutQuad"});this.addIncident(a,0),this.addIncident(l,300*this.attrs.speed),this.addIncident(c,500*this.attrs.speed),this.addIncident(u,500*this.attrs.speed),this.addIncident(p,900*this.attrs.speed),this.addIncident(d,3700*this.attrs.speed),this.addIncident(h,3700*this.attrs.speed),this.addIncident(f,3700*this.attrs.speed),this.addIncident(m,3700*this.attrs.speed),this.addIncident(g,6e3*this.attrs.speed),this.addIncident(v,this.calculatedDuration+1e3*this.attrs.speed)}}])&&I(e.prototype,n),i&&I(e,i),s}(r.a.HTMLClip);function D(t){return(D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=N(t);if(e){var r=N(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return z(this,n)}}function z(t,e){return!e||"object"!==D(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var F=r.a.loadPlugin(s.a),$=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&L(t,e)}(o,t);var e,n,i,r=R(o);function o(){return B(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"dinamicFontSize",value:function(t,e){var n;return(n=e/.6/t)>=200&&720===e&&(n=200),n>=100&&360===e&&(n=100),n}},{key:"html",get:function(){return this.attrs.bgUrl=this.attrs.bgUrl?this.attrs.bgUrl:this.attrs.bgUrl="./bg3.jpg",this.attrs.overlayColor=this.attrs.overlayColor?this.attrs.overlayColor:this.attrs.overlayColor="#ff00b34d",this.attrs.mainColor=this.attrs.mainColor?this.attrs.mainColor:this.attrs.mainColor="#00ff40",this.attrs.speed=this.attrs.speed?this.attrs.speed:this.attrs.speed=2,'\n      <div class="third-holder ">\n        <div class="bg">\n          <div class="bg-third-slide">\n            <div class="third-first-presenter-slide">\n              <div class="third-presenter-container">\n                <div class="third-presenter presenter">'.concat(this.attrs.title,'</div>\n              </div>\n              <div class="name-container">').concat(this.attrs.name,'</div>\n              <div class="position-container">').concat(this.attrs.position,'</div>\n            </div>\n          </div>\n        </div>\n        <div class="bg">\n          <div class="bg-third-slide">\n            <div class="third-first-presenter-slide">\n              <div class="third-presenter-container">\n                <div class="third-presenter presenter">').concat(this.attrs.title,'</div>\n              </div>\n              <div class="name-container">').concat(this.attrs.name,'</div>\n              <div class="position-container">').concat(this.attrs.position,'</div>\n            </div>\n          </div>\n        </div>\n        <div class="bg">\n          <div class="bg-third-slide">\n            <div class="third-first-presenter-slide">\n              <div class="third-presenter-container">\n                <div class="third-presenter presenter">').concat(this.attrs.title,'</div>\n              </div>\n              <div class="name-container">').concat(this.attrs.name,'</div>\n              <div class="position-container">').concat(this.attrs.position,"</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"css",get:function(){return"\n      .bg {\n        width: 100%;\n        height: 100%;\n        background-image: url(".concat(this.attrs.bgUrl,');\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n        display: flex;\n        position: relative;\n        align-items: center;\n        flex-wrap: wrap;\n        flex: 1 0 auto;\n        margin-top: 10%;\n        margin-bottom: 10%;\n      }\n\n      .bg:after {\n        content: "";\n        display: block;\n        background: linear-gradient(').concat(this.attrs.overlayColor,");\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: -1;\n      }\n    \n     .bg-third-slide{\n        height: 1080px;\n        width: 1920px;\n        display: flex;\n        align-items: center;\n        margin-left: 5%;\n      }\n\n      .third-first-presenter-slide{\n        position : relative;\n      }\n\n      .third-presenter-container{\n        overflow: hidden;\n        border-top: 15px solid ").concat(this.attrs.mainColor,";\n      }\n\n      .presenter,.big-title{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: ").concat(this.attrs.mainColor,";\n      }\n\n      .third-presenter{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.title.length,720),"px;\n        transform: translateY(-100%);\n      }\n\n      .name-container,.position-container{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: #fff;\n      }\n    \n      .name-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.name.length,360),"px;\n      }\n\n      .position-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.position.length,360),"px;\n      }\n\n      .third-holder{\n        left: 100%;\n        position: relative;\n        top : 0%;\n      }\n    ")}},{key:"buildTree",value:function(){var t=new F.Anime({animatedAttrs:{left:"0%",top:"-200%"},initialValues:{left:"100%",top:"-100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".third-holder",easing:"easeOutQuad"}),e=new F.Anime({animatedAttrs:{transform:{scale:1}},initialValues:{transform:{scale:.5}},attrs:{}},{duration:1500*this.attrs.speed,selector:".third-holder",easing:"easeOutQuad"}),n=new F.Anime({animatedAttrs:{marginTop:"0%",marginBottom:"0%"},initialValues:{marginTop:"10%",marginBottom:"10%"},attrs:{}},{duration:1500*this.attrs.speed,selector:".bg",easing:"easeOutQuad"}),i=new F.Anime({animatedAttrs:{transform:{translateY:"0%"}},initialValues:{transform:{translateY:"-100%"}},attrs:{}},{duration:800*this.attrs.speed,selector:".presenter",easing:"easeOutQuad"}),r=new F.Anime({animatedAttrs:{left:"100%"},initialValues:{left:"0%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".third-holder",easing:"easeOutQuad"});this.addIncident(t,0),this.addIncident(e,0),this.addIncident(n,0),this.addIncident(i,700*this.attrs.speed),this.addIncident(r,this.calculatedDuration+1e3*this.attrs.speed)}}])&&V(e.prototype,n),i&&V(e,i),o}(r.a.HTMLClip);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function q(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=K(t);if(e){var r=K(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return J(this,n)}}function J(t,e){return!e||"object"!==H(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=r.a.loadPlugin(s.a),X=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(o,t);var e,n,i,r=G(o);function o(){return U(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"dinamicFontSize",value:function(t,e){var n;return(n=e/.6/t)>=200&&720===e&&(n=200),n>=100&&360===e&&(n=100),n}},{key:"html",get:function(){return this.attrs.bgUrl=this.attrs.bgUrl?this.attrs.bgUrl:this.attrs.bgUrl="./bg4.jpg",this.attrs.overlayColor=this.attrs.overlayColor?this.attrs.overlayColor:this.attrs.overlayColor="#ff00b34d",this.attrs.mainColor=this.attrs.mainColor?this.attrs.mainColor:this.attrs.mainColor="#00ff40",this.attrs.speed=this.attrs.speed?this.attrs.speed:this.attrs.speed=2,'\n      <div class="bg">\n        <div class="bg-quarter-slide">\n          <div class="quarter-first-presenter-slide">\n            <div class="quarter-left">\n              <div class="quarter-presenter-container">\n                <div class="quarter-presenter presenter">'.concat(this.attrs.title,'</div>\n              </div>\n              <div class="name-container">').concat(this.attrs.name,'</div>\n              <div class="position-container">').concat(this.attrs.position,"</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"css",get:function(){return"\n      .bg {\n        width: 100%;\n        height: 100%;\n        background-image: url(".concat(this.attrs.bgUrl,');\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n        display: flex;\n        position: relative;\n        align-items: center;\n        flex-wrap: wrap;\n        flex: 1 0 auto;\n        left : -100%;\n      }\n\n      .bg:after {\n        content: "";\n        display: block;\n        background: linear-gradient(').concat(this.attrs.overlayColor,");\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: -1;\n      }\n\n      .third-first-presenter-slide,.quarter-first-presenter-slide{\n        position : relative;\n      }\n    \n      .quarter-first-presenter-slide{\n        margin-bottom: 15%;\n        border-right: 15px solid ").concat(this.attrs.mainColor,";\n      }\n\n      .quarter-left{\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n        position : relative;\n        left: -50%;\n      }\n\n      .name-container,.position-container{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: #fff;\n      }\n    \n      .name-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.name.length,360),"px;\n      }\n\n      .position-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.position.length,360),"px;\n      }\n\n      .bg-quarter-slide{\n        height: 1080px;\n        width: 1920px;\n        display: flex;\n        align-items: center;\n      }\n\n      .bg-quarter-slide{\n        align-items: flex-end;\n      }\n\n      .quarter-presenter{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.title.length,720),"px;\n      }\n\n      .presenter,.big-title{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: ").concat(this.attrs.mainColor,";\n      }\n    ")}},{key:"buildTree",value:function(){var t=new Q.Anime({animatedAttrs:{left:"50%"},initialValues:{},attrs:{}},{duration:1e3*this.attrs.speed,selector:".quarter-first-presenter-slide",easing:"easeInSine"}),e=new Q.Anime({animatedAttrs:{left:"-20%"},initialValues:{left:"-50%"},attrs:{}},{duration:1500*this.attrs.speed,selector:".quarter-left",easing:"easeOutQuad"}),n=new Q.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutQuad"}),i=new Q.Anime({animatedAttrs:{left:"100%"},initialValues:{left:"0%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutQuad"});this.addIncident(n,0),this.addIncident(t,0),this.addIncident(e,0),this.addIncident(i,this.calculatedDuration+1e3*this.attrs.speed)}}])&&q(e.prototype,n),i&&q(e,i),o}(r.a.HTMLClip);function Y(t){return(Y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Z(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=rt(t);if(e){var r=rt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return it(this,n)}}function it(t,e){return!e||"object"!==Y(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function rt(t){return(rt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ot=r.a.loadPlugin(s.a),st=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&et(t,e)}(o,t);var e,n,i,r=nt(o);function o(){return Z(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"dinamicFontSize",value:function(t,e){var n;return(n=e/.6/t)>=200&&720===e&&(n=200),n>=100&&360===e&&(n=100),n}},{key:"html",get:function(){return this.attrs.bgUrl=this.attrs.bgUrl?this.attrs.bgUrl:this.attrs.bgUrl="./bg5.jpg",this.attrs.overlayColor=this.attrs.overlayColor?this.attrs.overlayColor:this.attrs.overlayColor="#ff00b34d",this.attrs.bgUrl2=this.attrs.bgUrl2?this.attrs.bgUrl2:this.attrs.bgUrl2="./bg2.jpg",this.attrs.dateOverlay=this.attrs.dateOverlay?this.attrs.dateOverlay:this.attrs.dateOverlay="#ff00b3",this.attrs.mainColor=this.attrs.mainColor?this.attrs.mainColor:this.attrs.mainColor="#00ff40",this.attrs.speed=this.attrs.speed?this.attrs.speed:this.attrs.speed=2,'\n      <div class="bg">\n        <div class="bg-deferi-day-slide">\n          <div class="big-title">'.concat(this.attrs.bigTitle,'</div>\n          <div class="test-mask ">\n            <div class="defter-date-container">\n              <div class="defter-date"><span> ').concat(this.attrs.day||""," ").concat(this.attrs.dayNumber," </span>").concat(this.attrs.month||""," ").concat(this.attrs.year||"",'</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="bg-second bg-small">\n        <div class="bg-second-slide">\n          <div class="quarter-first-presenter-slide">\n          <div class="quarter-left">\n            <div class="quarter-presenter-container">\n              <div class="quarter-presenter presenter">').concat(this.attrs.title,'</div>\n            </div>\n            <div class="name-container">').concat(this.attrs.name,'</div>\n            <div class="position-container">').concat(this.attrs.position,'</div>\n          </div>\n        </div>\n        </div>\n      </div>\n      <div class="bg-second bg-big ">\n        <div class="bg-second-slide">\n          <div class="quarter-first-presenter-slide">\n          <div class="quarter-left">\n            <div class="quarter-presenter-container">\n              <div class="quarter-presenter presenter">').concat(this.attrs.title,'</div>\n            </div>\n            <div class="name-container">').concat(this.attrs.name,'</div>\n            <div class="position-container">').concat(this.attrs.position,"</div>\n          </div>\n        </div>\n        </div>\n      </div>\n    ")}},{key:"css",get:function(){return"\n      .bg,.bg-second {\n        width: 1920px;\n        height: 1080px;\n        background-image: url(".concat(this.attrs.bgUrl,');\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n        display: flex;\n        position: absolute;\n        align-items: center;\n        flex-wrap: wrap;\n        flex: 1 0 auto;\n        left: -100%\n      }\n\n      .bg:after,.bg-second:after {\n        content: "";\n        display: block;\n        background: linear-gradient(').concat(this.attrs.overlayColor,");\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: -1;\n      }\n\n      .bg-second{\n        left:100%;\n        background-image: url(").concat(this.attrs.bgUrl2,");\n      }\n\n      .bg-big{\n        left: 100%;\n      }\n\n      .bg-second-slide,.bg-third-slide,.bg-quarter-slide,.bg-deferi-day-slide{\n        height: 1080px;\n        width: 1920px;\n        display: flex;\n        align-items: center;\n        overflow: hidden;\n      }\n\n      .bg-deferi-day-slide{\n        overflow: hidden;\n      }\n\n      .bg-second-slide{\n        justify-content: center;\n      }\n\n      .presenter,.big-title{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: ").concat(this.attrs.mainColor,";\n      }\n    \n      .big-title{\n        font-size: 1700px;\n        position: relative;\n      }\n\n      .test-mask{\n        position: absolute;\n        left: 0;\n        height: 132.5px;\n        background-size: 1920px;\n        position: absolute;\n        left: 0\n      }\n    \n      .test-mask{\n        height: 132.5px;\n        width: 50%;\n        background-image: url(").concat(this.attrs.bgUrl,');\n        background-size: 1920px;\n        background-position: center;\n        background-position-x: center;\n        transform: scale(1);\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        flex-wrap: wrap;\n        overflow: hidden;\n        left: 25%;\n        background-position-x: center;  \n      }\n\n      .test-mask:after{ \n        content: "";\n        display: block;\n        background: #4e070799;\n        width: 1920px;\n        height: 1080px;\n        position: absolute;\n        top: -458px;\n        left: 0;\n        z-index: -2;\n        background: linear-gradient(').concat(this.attrs.overlayColor,");\n        top: -345%;\n      }\n\n      .defter-date-container{\n        position: absolute;\n        font-size: 60px;\n        color: #fff;\n        white-space: nowrap;\n        text-transform: uppercase;\n        font-family: 'Roboto Mono', monospace;\n        background:").concat(this.attrs.dateOverlay,";   \n        padding: 2% 6%;\n        background-blend-mode: multiply;\n        background-image: url(").concat(this.attrs.bgUrl,");\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n      }\n\n      .quarter-presenter-container{\n        overflow: hidden;\n      }\n\n      .quarter-first-presenter-slide{\n        margin-bottom: 15%;\n        border-top: 15px solid ").concat(this.attrs.mainColor,";\n        position: relative;\n        top: 90%;\n        overflow: hidden;\n      }\n\n      .quarter-left{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        position : relative;\n        top: 90%;\n      }\n\n      .name-container,.position-container{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: #fff;\n      }\n\n      .name-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.name.length,360),"px;\n      }\n\n      .position-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.position.length,360),"px;\n      }\n\n      .bg-quarter-slide{\n        height: 1080px;\n        width: 1920px;\n        display: flex;\n        align-items: center;\n      }\n\n      .bg-quarter-slide{\n        align-items: flex-end;\n      }\n\n      .quarter-presenter{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.title.length,720),"px;\n      }\n    ")}},{key:"buildTree",value:function(){var t=new ot.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutCubic"}),e=new ot.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".second-slide",easing:"easeOutCubic"}),n=new ot.Anime({animatedAttrs:{left:"-1500px"},initialValues:{},attrs:{}},{duration:7400*this.attrs.speed,selector:".big-title",easing:"easeOutCubic"}),i=new ot.Anime({animatedAttrs:{transform:{scale:.5}},initialValues:{transform:{scale:1}},attrs:{}},{duration:500*this.attrs.speed,selector:".bg,.bg-small",easing:"easeOutCubic"}),r=new ot.Anime({animatedAttrs:{left:"-25%"},initialValues:{left:"0%"},attrs:{}},{duration:500,selector:".bg",easing:"easeOutCubic"}),o=new ot.Anime({animatedAttrs:{left:"25%"},initialValues:{left:"100%"},attrs:{}},{duration:500*this.attrs.speed,selector:".bg-small",easing:"easeOutCubic"}),s=new ot.Anime({animatedAttrs:{left:"5%"},initialValues:{left:"-100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".second-date",easing:"easeOutCubic"}),a=new ot.Anime({animatedAttrs:{left:"-175%"},initialValues:{},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg-small,.bg",easing:"easeOutCubic"}),l=new ot.Anime({animatedAttrs:{top:"0%"},initialValues:{top:"90%"},attrs:{}},{duration:1500*this.attrs.speed,selector:".quarter-first-presenter-slide",easing:"easeOutCubic"}),c=new ot.Anime({animatedAttrs:{top:"0%"},initialValues:{top:"90%"},attrs:{}},{duration:1500*this.attrs.speed,selector:".quarter-left",easing:"easeOutCubic"}),u=new ot.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg-big",easing:"easeOutCubic"}),p=new ot.Anime({animatedAttrs:{top:"-100%"},initialValues:{left:"0%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg-big",easing:"easeOutQuad"});this.addIncident(t,0),this.addIncident(e,500*this.attrs.speed),this.addIncident(n,0),this.addIncident(i,3700*this.attrs.speed),this.addIncident(r,3700*this.attrs.speed),this.addIncident(o,3700*this.attrs.speed),this.addIncident(s,3700*this.attrs.speed),this.addIncident(l,3700*this.attrs.speed),this.addIncident(c,4e3*this.attrs.speed),this.addIncident(a,this.calculatedDuration-3e3*this.attrs.speed),this.addIncident(u,this.calculatedDuration-3200*this.attrs.speed),this.addIncident(p,this.calculatedDuration+1e3*this.attrs.speed)}}])&&tt(e.prototype,n),i&&tt(e,i),o}(r.a.HTMLClip);function at(t){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ct(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ut(t,e){return(ut=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=ht(t);if(e){var r=ht(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return dt(this,n)}}function dt(t,e){return!e||"object"!==at(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ht(t){return(ht=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ft=r.a.loadPlugin(s.a),mt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ut(t,e)}(o,t);var e,n,i,r=pt(o);function o(){return lt(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"dinamicFontSize",value:function(t,e){var n;return(n=e/.6/t)>=200&&720===e&&(n=200),n>=100&&360===e&&(n=100),n}},{key:"html",get:function(){return this.attrs.bgUrl=this.attrs.bgUrl?this.attrs.bgUrl:this.attrs.bgUrl="./bg3.jpg",this.attrs.overlayColor=this.attrs.overlayColor?this.attrs.overlayColor:this.attrs.overlayColor="#ff00b34d",this.attrs.mainColor=this.attrs.mainColor?this.attrs.mainColor:this.attrs.mainColor="#00ff40",this.attrs.speed=this.attrs.speed?this.attrs.speed:this.attrs.speed=2,'\n      <div class="bg">\n        <div class="bg-quarter-slide">\n          <div class="quarter-first-presenter-slide">\n            <div class="quarter-left">\n              <div class="quarter-presenter-container">\n                <div class="quarter-presenter presenter">'.concat(this.attrs.title,'</div>\n              </div>\n              <div class="name-container">').concat(this.attrs.name,'</div>\n              <div class="position-container">').concat(this.attrs.position,"</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"css",get:function(){return"\n      .bg {\n        width: 100%;\n        height: 100%;\n        background-image: url(".concat(this.attrs.bgUrl,');\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n        display: flex;\n        position: relative;\n        align-items: center;\n        flex-wrap: wrap;\n        flex: 1 0 auto;\n      \n        top : 100%;\n        \n      }\n      .bg:after {\n        content: "";\n        display: block;\n        background: linear-gradient(').concat(this.attrs.overlayColor,");\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: -1;\n      }\n      .third-first-presenter-slide,.quarter-first-presenter-slide{\n        position : relative;\n      }\n    \n      .quarter-first-presenter-slide{\n        margin-bottom: 15%;\n        border-top: 15px solid ").concat(this.attrs.mainColor,";\n        align-items: center;\n        justify-content: center;\n        \n      }\n\n      .quarter-left{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        position : relative;\n        top: 90%;\n        \n      }\n      .name-container,.position-container{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: #fff;\n      }\n    \n      .name-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.name.length,360),"px;\n      }\n      .position-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.position.length,360),"px;\n      }\n      .bg-quarter-slide{\n        height: 1080px;\n        width: 1920px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .quarter-presenter{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.title.length,720),"px;\n      }\n      .presenter,.big-title{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: ").concat(this.attrs.mainColor,";\n      }\n    ")}},{key:"buildTree",value:function(){var t=new ft.Anime({animatedAttrs:{top:"0%"},initialValues:{top:"90%"},attrs:{easing:"linear"}},{duration:1500*this.attrs.speed,selector:".quarter-first-presenter-slide"}),e=new ft.Anime({animatedAttrs:{top:"0%"},initialValues:{top:"90%"},attrs:{easing:"linear"}},{duration:2e3*this.attrs.speed,selector:".quarter-left"}),n=new ft.Anime({animatedAttrs:{top:"0%"},initialValues:{top:"100%"},attrs:{easing:"linear"}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutQuad"}),i=new ft.Anime({animatedAttrs:{top:"-100%"},initialValues:{top:"0%"},attrs:{easing:"linear"}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutQuad"});this.addIncident(n,0),this.addIncident(t,0),this.addIncident(e,0),this.addIncident(i,this.calculatedDuration+1e3*this.attrs.speed)}}])&&ct(e.prototype,n),i&&ct(e,i),o}(r.a.HTMLClip);function gt(t){return(gt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function bt(t,e){return(bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=kt(t);if(e){var r=kt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return wt(this,n)}}function wt(t,e){return!e||"object"!==gt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function kt(t){return(kt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ct=r.a.loadPlugin(s.a),Ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bt(t,e)}(o,t);var e,n,i,r=xt(o);function o(){return vt(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"dinamicFontSize",value:function(t,e){var n;return(n=e/.6/t)>=200&&720===e&&(n=200),n>=100&&360===e&&(n=100),n}},{key:"html",get:function(){return this.attrs.bgUrl=this.attrs.bgUrl?this.attrs.bgUrl:this.attrs.bgUrl="./bg3.jpg",this.attrs.overlayColor=this.attrs.overlayColor?this.attrs.overlayColor:this.attrs.overlayColor="#ff00b34d",this.attrs.bgUrl2=this.attrs.bgUrl2?this.attrs.bgUrl2:this.attrs.bgUrl2="./bg2.jpg",this.attrs.dateOverlay=this.attrs.dateOverlay?this.attrs.dateOverlay:this.attrs.dateOverlay="#ff00b3",this.attrs.mainColor=this.attrs.mainColor?this.attrs.mainColor:this.attrs.mainColor="#00ff40",this.attrs.speed=this.attrs.speed?this.attrs.speed:this.attrs.speed=2,'\n      <div class="bg">\n        <div class="bg-quarter-slide">\n          <div class="quarter-first-presenter-slide">\n            <div class="quarter-left">\n              <div class="quarter-presenter-container">\n                <div class="quarter-presenter presenter">'.concat(this.attrs.title,'</div>\n              </div>\n              <div class="name-container">').concat(this.attrs.name,'</div>\n              <div class="position-container">').concat(this.attrs.position,'</div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="bg-next">\n        <div class="bg-quarter-slide">\n          <div class="test-mask">\n            <div class="defter-date-container">\n              <div class="defter-date"><span> ').concat(this.attrs.day||""," ").concat(this.attrs.dayNumber||""," </span>").concat(this.attrs.month||""," ").concat(this.attrs.year||"","</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"css",get:function(){return"\n      .bg {\n        width: 100%;\n        height: 100%;\n        background-image: url(".concat(this.attrs.bgUrl,');\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n        display: flex;\n        position: relative;\n        align-items: center;\n        flex-wrap: wrap;\n        flex: 1 0 auto;\n        top : 100%; \n      }\n\n      .bg:after,.bg-next {\n        content: "";\n        display: block;\n        background: linear-gradient(').concat(this.attrs.overlayColor,");\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: -1;\n      }\n\n      .bg-next {\n        width: 100%;\n        height: 100%;\n        background-image: url(").concat(this.attrs.bgUrl2,");\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n        display: flex;\n        position: relative;\n        align-items: center;\n        flex-wrap: wrap;\n        flex: 1 0 auto;\n        top : -100%;\n        left : -100%\n       \n      }\n\n      .defter-date-container{\n        position: absolute;\n        font-size: 60px;\n        color:#fff;\n        white-space: nowrap;\n        text-transform: uppercase;\n        font-family: 'Roboto Mono', monospace;\n        background: ").concat(this.attrs.dateOverlay,";\n        padding: 2% 6%;\n        background-blend-mode: multiply;\n        background-image: url(").concat(this.attrs.bgUrl2,");\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n      }\n\n      .defter-date span{\n        color: ").concat(this.attrs.mainColor,";\n      }\n\n      .third-first-presenter-slide,.quarter-first-presenter-slide{\n        position : relative;\n      }\n    \n      .quarter-first-presenter-slide{\n        margin-bottom: 15%;\n        border-top: 15px solid ").concat(this.attrs.mainColor,";\n        align-items: center;\n        justify-content: center;\n      }\n\n      .quarter-left{\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        position : relative;\n        top: 90%;\n      }\n\n      .name-container,.position-container{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: #fff;\n      }\n    \n      .name-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.name.length,360),"px;\n      }\n\n      .position-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.position.length,360),"px;\n      }\n\n      .bg-quarter-slide{\n        height: 1080px;\n        width: 1920px;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n\n      .quarter-presenter{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.title.length,720),"px;\n      }\n\n      .presenter,.big-title{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: ").concat(this.attrs.mainColor,";\n      }\n\n      .test-mask{\n        position: absolute;\n        left: 0;\n        height: 132.5px;\n        background-size: 1920px;\n        position: absolute;\n        left: 0;\n        display: flex;\n        justify-content: center;\n        align-content: center;\n        width: 100%;\n      }\n    ")}},{key:"buildTree",value:function(){var t=new Ct.Anime({animatedAttrs:{top:"0%"},initialValues:{top:"90%"},attrs:{}},{duration:1500*this.attrs.speed,selector:".quarter-first-presenter-slide",easing:"easeOutCubic"}),e=new Ct.Anime({animatedAttrs:{top:"0%"},initialValues:{top:"90%"},attrs:{}},{duration:2e3*this.attrs.speed,selector:".quarter-left",easing:"easeOutCubic"}),n=new Ct.Anime({animatedAttrs:{top:"0%"},initialValues:{top:"100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutQuad"}),i=new Ct.Anime({animatedAttrs:{transform:{scale:.5}},initialValues:{transform:{scale:1}},attrs:{}},{duration:500*this.attrs.speed,selector:".bg,.bg-next",easing:"easeOutCubic"}),r=new Ct.Anime({animatedAttrs:{left:"25%"},initialValues:{left:"0%"},attrs:{}},{duration:500*this.attrs.speed,selector:".bg",easing:"easeOutCubic"}),o=new Ct.Anime({animatedAttrs:{left:"-25%"},initialValues:{left:"-100%"},attrs:{}},{duration:500*this.attrs.speed,selector:".bg-next",easing:"easeOutCubic"}),s=new Ct.Anime({animatedAttrs:{transform:{scale:1}},initialValues:{transform:{scale:.5}},attrs:{}},{duration:500*this.attrs.speed,selector:".bg,.bg-next",easing:"easeOutCubic"}),a=new Ct.Anime({animatedAttrs:{left:"100%"},initialValues:{left:"25%"},attrs:{}},{duration:500*this.attrs.speed,selector:".bg",easing:"easeOutCubic"}),l=new Ct.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-25%"},attrs:{}},{duration:500*this.attrs.speed,selector:".bg-next",easing:"easeOutCubic"}),c=new Ct.Anime({animatedAttrs:{left:"100%"},initialValues:{left:"0%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg-next",easing:"easeOutQuad"});this.addIncident(n,0),this.addIncident(t,0),this.addIncident(e,0),this.addIncident(i,3e3*this.attrs.speed),this.addIncident(o,3e3*this.attrs.speed),this.addIncident(r,3e3*this.attrs.speed),this.addIncident(s,4e3*this.attrs.speed),this.addIncident(a,4e3*this.attrs.speed),this.addIncident(l,4e3*this.attrs.speed),this.addIncident(c,this.calculatedDuration+1e3*this.attrs.speed)}}])&&yt(e.prototype,n),i&&yt(e,i),o}(r.a.HTMLClip);function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function It(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function St(t,e){return(St=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function At(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Mt(t);if(e){var r=Mt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Tt(this,n)}}function Tt(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Mt(t){return(Mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _t=r.a.loadPlugin(s.a),jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&St(t,e)}(o,t);var e,n,i,r=At(o);function o(){return Pt(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"dinamicFontSize",value:function(t,e){var n;return(n=e/.6/t)>=200&&720===e&&(n=200),n>=100&&360===e&&(n=100),Math.round(n)}},{key:"html",get:function(){return this.attrs.bgUrl=this.attrs.bgUrl?this.attrs.bgUrl:this.attrs.bgUrl="./bg2.jpg",this.attrs.overlayColor=this.attrs.overlayColor?this.attrs.overlayColor:this.attrs.overlayColor="#ff00b34d",this.attrs.mainColor=this.attrs.mainColor?this.attrs.mainColor:this.attrs.mainColor="#00ff40",this.attrs.speed=this.attrs.speed?this.attrs.speed:this.attrs.speed=2,'\n      <div class="bg">\n        <div class="bg-quarter-slide">\n            <div class="quarter-left">\n              <div class="quarter-presenter-container">\n                <div class="quarter-presenter presenter">'.concat(this.attrs.title,'</div>\n              </div>\n              <div class="name-container">').concat(this.attrs.name,'</div>\n              <div class="position-container">').concat(this.attrs.position,"</div>\n            </div>\n        </div>\n      </div>\n    ")}},{key:"css",get:function(){return"\n      .bg {\n        width: 100%;\n        height: 100%;\n        background-image: url(".concat(this.attrs.bgUrl,');\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n        display: flex;\n        position: relative;\n        align-items: center;\n        flex-wrap: wrap;\n        flex: 1 0 auto;\n        left : -100%;\n      }\n\n      .bg:after {\n        content: "";\n        display: block;\n        background: linear-gradient(').concat(this.attrs.overlayColor,");\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: -1;\n      }\n\n      .quarter-left{\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n        position : relative;\n        top: -100%;\n        border-top: 15px solid ").concat(this.attrs.mainColor,";\n        padding-top: 25%;\n        margin-left: 4%;\n      }\n\n      .name-container,.position-container{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: #fff;\n      }\n    \n      .name-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.name.length,360),"px;\n      }\n\n      .position-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.position.length,360),"px;\n      }\n\n      .bg-quarter-slide{\n        height: 1080px;\n        width: 1920px;\n        display: flex;\n        align-items: center;\n      }\n\n      .quarter-presenter{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.title.length,720),"px;\n      }\n\n      .presenter,.big-title{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: ").concat(this.attrs.mainColor,";\n      }\n    ")}},{key:"buildTree",value:function(){var t=new _t.Anime({animatedAttrs:{paddingTop:"0%"},initialValues:{paddingTop:"40%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".quarter-left",easing:"easeOutCubic"}),e=new _t.Anime({animatedAttrs:{top:"25%"},initialValues:{top:"-100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".quarter-left",easing:"easeOutCubic"}),n=new _t.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutCubic"}),i=new _t.Anime({animatedAttrs:{left:"100%"},initialValues:{left:"0%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutCubic"});this.addIncident(n,0),this.addIncident(t,0),this.addIncident(e,0),this.addIncident(i,this.calculatedDuration+1e3*this.attrs.speed)}}])&&It(e.prototype,n),i&&It(e,i),o}(r.a.HTMLClip);function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Lt(t,e){return(Lt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Nt(t);if(e){var r=Nt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return zt(this,n)}}function zt(t,e){return!e||"object"!==Dt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ft=r.a.loadPlugin(s.a),$t=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lt(t,e)}(o,t);var e,n,i,r=Rt(o);function o(){return Bt(this,o),r.apply(this,arguments)}return e=o,(n=[{key:"dinamicFontSize",value:function(t,e){var n;return(n=e/.6/t)>=200&&720===e&&(n=200),n>=100&&360===e&&(n=100),n}},{key:"html",get:function(){return this.attrs.bgUrl=this.attrs.bgUrl?this.attrs.bgUrl:this.attrs.bgUrl="./bg4.jpg",this.attrs.overlayColor=this.attrs.overlayColor?this.attrs.overlayColor:this.attrs.overlayColor="#ff00b34d",this.attrs.mainColor=this.attrs.mainColor?this.attrs.mainColor:this.attrs.mainColor="#00ff40",this.attrs.speed=this.attrs.speed?this.attrs.speed:this.attrs.speed=2,'\n      <div class="bg">\n        <div class="bg-quarter-slide">\n            <div class="quarter-left">\n              <div class="quarter-presenter-container">\n                <div class="quarter-presenter presenter">'.concat(this.attrs.title,'</div>\n              </div>\n              <div class="name-container">').concat(this.attrs.name,'</div>\n              <div class="position-container">').concat(this.attrs.position,"</div>\n            </div>\n        </div>\n      </div>\n    ")}},{key:"css",get:function(){return"\n      .bg {\n        width: 100%;\n        height: 100%;\n        background-image: url(".concat(this.attrs.bgUrl,');\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n        display: flex;\n        position: relative;\n        align-items: center;\n        flex-wrap: wrap;\n        flex: 1 0 auto;\n        right: -100%;\n      }\n\n      .bg:after {\n        content: "";\n        display: block;\n        background: linear-gradient(').concat(this.attrs.overlayColor,");\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: -1;\n      }\n\n      .quarter-left{\n        display: flex;\n        flex-direction: column;\n        align-items: flex-end;\n        position : relative;\n        top: 100%;\n        border-bottom: 15px solid ").concat(this.attrs.mainColor,";\n        padding-bottom: 25%;\n        margin-right: 4%;\n      }\n\n      .name-container,.position-container{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: #fff;\n      }\n    \n      .name-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.name.length,360),"px;\n      }\n\n      .position-container{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.position.length,360),"px;\n      }\n\n      .bg-quarter-slide{\n        height: 1080px;\n        width: 1920px;\n        display: flex;\n        align-items: center;\n        justify-content: flex-end;\n      }\n\n      .quarter-presenter{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.title.length,720),"px;\n      }\n\n      .presenter,.big-title{\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: ").concat(this.attrs.mainColor,";\n      }\n    ")}},{key:"buildTree",value:function(){var t=new Ft.Anime({animatedAttrs:{paddingBottom:"0%"},initialValues:{paddingBottom:"40%"},attrs:{easing:"linear"}},{duration:1e3*this.attrs.speed,selector:".quarter-left"}),e=new Ft.Anime({animatedAttrs:{top:"25%"},initialValues:{top:"100%"},attrs:{easing:"linear"}},{duration:1e3*this.attrs.speed,selector:".quarter-left"}),n=new Ft.Anime({animatedAttrs:{right:"0%"},initialValues:{right:"-100%"},attrs:{easing:"linear"}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutQuad"}),i=new Ft.Anime({animatedAttrs:{right:"100%"},initialValues:{right:"0%"},attrs:{easing:"linear"}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutQuad"});this.addIncident(n,0),this.addIncident(t,0),this.addIncident(e,0),this.addIncident(i,this.calculatedDuration+1e3*this.attrs.speed)}}])&&Vt(e.prototype,n),i&&Vt(e,i),o}(r.a.HTMLClip),Ht=n(5),Ut=n.n(Ht);function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Gt(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Jt(t,e){return(Jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=Xt(t);if(e){var r=Xt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return Qt(this,n)}}function Qt(t,e){return!e||"object"!==qt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Xt(t){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Yt=r.a.loadPlugin(s.a),Zt=r.a.loadPlugin(Ut.a),te=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jt(t,e)}(s,t);var e,n,i,o=Kt(s);function s(){return Wt(this,s),o.apply(this,arguments)}return e=s,(n=[{key:"dinamicFontSize",value:function(t,e){var n;return(n=e/.6/t)>=200&&720===e&&(n=200),n>=100&&360===e&&(n=100),n}},{key:"html",get:function(){return this.attrs.bgUrl=this.attrs.bgUrl?this.attrs.bgUrl:this.attrs.bgUrl="./bg3.jpg",this.attrs.overlayColor=this.attrs.overlayColor?this.attrs.overlayColor:this.attrs.overlayColor="#ff00b34d",this.attrs.bgUrl2=this.attrs.bgUrl2?this.attrs.bgUrl2:this.attrs.bgUrl2="./bg2.jpg",this.attrs.mainColor=this.attrs.mainColor?this.attrs.mainColor:this.attrs.mainColor="#00ff40",this.attrs.speed=this.attrs.speed?this.attrs.speed:this.attrs.speed=2,this.attrs.vidDuration=this.attrs.vidDuration?this.attrs.vidDuration:this.attrs.vidDuration=6e3,'\n      <div class="parent">\n        <div class="bg ">\n          <div class ="vid"></div>\n          <div class="second-slide">\n            <div class="second-slide-titleOne">'.concat(this.attrs.title[0],'</div>\n            <div class="second-slide-titleTwo">').concat(this.attrs.title[1],'</div>\n            <div class="second-slide-titleTwo">').concat(this.attrs.title[2],'</div>\n            <div class="word-bg">\n              <div class="word"></div>\n            </div>\n            <div class="short-description">\n              <p>\n               ').concat(this.attrs.description,'\n              </p>\n            </div>\n          </div>\n        </div>\n        <div class="bg-second ">\n          <div class="bg-second-slide">\n              <div class="second-date-container">\n                  <div class="second-date"><span> ').concat(this.attrs.day||""," ").concat(this.attrs.dayNumber||""," </span>").concat(this.attrs.month||""," ").concat(this.attrs.year||"","</div>\n              </div>\n          </div>\n        </div>\n      </div>\n    ")}},{key:"css",get:function(){return"\n      .bg,.bg-second {\n        width: 1920px;\n        height: 1080px;\n        background-image: url(".concat(this.attrs.bgUrl,');\n        background-size: 1920px;\n        background-position: center;\n        transform: scale(1);\n        display: flex;\n        position: absolute;\n        align-items: center;\n        flex-wrap: wrap;\n        flex: 1 0 auto;\n        left: -100%\n      }\n\n      .parent{\n        position:relative;\n        width: 1920px;\n        height: 1080px;\n        left:0%;\n      }\n\n      .bg:after,.bg-second:after {\n        content: "";\n        display: block;\n        background: linear-gradient(').concat(this.attrs.overlayColor,");\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        z-index: -1;\n      }\n\n      .bg-second{\n        left:100%;\n        background-image: url(").concat(this.attrs.bgUrl2,");\n      }\n\n      .vid{\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 1920px;\n        height: 1080px;\n      }\n\n      .short-description{\n        font-size: 20px;\n        color: #fff;\n        position: relative;\n        white-space: normal;\n        text-align: left;\n        text-transform: uppercase;\n        font-family: 'Roboto Mono', monospace;\n        width: 720px;\n        left: -50%;\n      }\n\n      .word-bg{\n        background-color:").concat(this.attrs.mainColor,";\n        width: 720px;\n        position: relative;\n        left: -50%\n      }\n\n      .word{\n        overflow: hidden;\n        position: relative;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        width: 720px\n      }\n\n      .second-slide-titleTwo,.second-slide-titleOne{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.title[0].length,360),"px;\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: #fff;\n        position: relative;\n        left : -50%;\n      }\n\n      .second-slide-titleTwo{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.title[1].length,720),"px;\n      }\n\n      .second-slide-titleOne{\n        color :").concat(this.attrs.mainColor,"\n      }\n\n      .second-slide{\n        position: absolute;\n        left: 10%;\n        display: flex;\n        align-content: center;\n        justify-content: center;\n        flex-direction: column;\n        top: 20%;\n        transform: scale(1);\n      }\n\n      .letter{\n        font-size: ").concat(this.dinamicFontSize(this.attrs.title[2].length,720),"px;\n        font-weight: 700;\n        font-family: 'Roboto Mono', monospace;\n        text-transform: uppercase;\n        color: #fff;\n        position: relative;\n        position: relative;\n        text-align: center;\n        top : 300px;\n        width: 100%;\n      }\n\n      .second-date-container{\n        border-left: 100px solid ").concat(this.attrs.mainColor,";\n        overflow: hidden;\n        width: 200%;\n      }\n\n      .second-date{\n        font-size: 100px;\n        color: #fff;\n        position: relative;\n        white-space: nowrap;\n        text-align: left;\n        text-transform: uppercase;\n        font-family: 'Roboto Mono', monospace;\n        width: 720px;\n        left:-100%;\n      }\n    \n      .second-date span{\n        color: ").concat(this.attrs.mainColor,";\n      }\n    ")}},{key:"buildTree",value:function(){var t=new Zt.Clip({sources:this.attrs.vidLink,width:1920,height:1080,startFrom:0},{selector:".vid"}),e=new Zt.Playback({selector:"!#video",duration:this.attrs.vidDuration});this.addIncident(t,0),t.addIncident(e,0);for(var n,i=this.attrs.vidDuration-3e3*this.attrs.speed,o=this.attrs.title[2].split(""),s=0;s<o.length;s++)n+="<span class='letter letter".concat(s+1,"'>").concat(o[s],"</span>");var a=new r.a.HTMLClip({css:this.css,html:' <div class="conttitle" >'.concat(n.split("undefined")[1]," </div>"),selector:".word",containerParams:{width:"100%",height:"100%"}});this.addIncident(a,0);for(var l=0;l<o.length;l++){var c=new Yt.Anime({animatedAttrs:{top:"0px",opacity:1},attrs:{}},{duration:500,selector:".letter"+(l+1),easing:"easeOutQuad"});a.addIncident(c,(2e3+100*(l+1))*this.attrs.speed)}var u=new Yt.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".bg",easing:"easeOutQuad"}),p=new Yt.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-50%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".second-slide-titleOne",easing:"easeOutQuad"}),d=new Yt.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-50%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".second-slide-titleTwo",easing:"easeOutQuad"}),h=new Yt.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-50%"},attrs:{}},{duration:1200*this.attrs.speed,selector:".word-bg",easing:"easeOutQuad"}),f=new Yt.Anime({animatedAttrs:{left:"0%"},initialValues:{left:"-50%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".short-description",easing:"easeOutQuad"}),m=new Yt.Anime({animatedAttrs:{transform:{scale:.5}},initialValues:{transform:{scale:1}},attrs:{}},{duration:500*this.attrs.speed,selector:".bg,.bg-second",easing:"easeOutQuad"}),g=new Yt.Anime({animatedAttrs:{left:"-25%"},initialValues:{left:"0%"},attrs:{}},{duration:500*this.attrs.speed,selector:".bg",easing:"easeOutQuad"}),v=new Yt.Anime({animatedAttrs:{left:"25%"},initialValues:{left:"100%"},attrs:{}},{duration:500*this.attrs.speed,selector:".bg-second",easing:"easeOutQuad"}),y=new Yt.Anime({animatedAttrs:{left:"5%"},initialValues:{left:"-100%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".second-date",easing:"easeOutQuad"}),b=new Yt.Anime({animatedAttrs:{left:"-100%"},initialValues:{left:"0%"},attrs:{}},{duration:1e3*this.attrs.speed,selector:".parent",easing:"easeOutQuad"});this.addIncident(u,0),this.addIncident(p,300*this.attrs.speed),this.addIncident(d,500*this.attrs.speed),this.addIncident(h,500*this.attrs.speed),this.addIncident(f,900*this.attrs.speed),this.addIncident(m,3700*this.attrs.speed+i),this.addIncident(g,3700*this.attrs.speed+i),this.addIncident(v,3700*this.attrs.speed+i),this.addIncident(y,3700*this.attrs.speed+i),this.addIncident(b,this.calculatedDuration+1e3*this.attrs.speed)}}])&&Gt(e.prototype,n),i&&Gt(e,i),s}(r.a.HTMLClip),ee={title:{optional:!1,type:"string"},subtitle:{optional:!1,type:"string"},month:{optional:!1,type:"string"},bgUrl:{optional:!0,type:"string"},mainColor:{optional:!0,type:"color"},description:{optional:!1,type:"string"},speed:{optional:!0,type:"number",min:0},overlayColor:{optional:!0,type:"array",min:2,items:{optional:!0,type:"color"}}},ne={title:{optional:!1,type:"array",min:3,max:3,items:{optional:!1,type:"string"}},description:{optional:!1,type:"string"},month:{optional:!0,type:"string"},day:{optional:!0,type:"string"},dayNumber:{optional:!0,type:"number"},year:{optional:!0,type:"number"},vidDuration:{optional:!0,type:"number"},vidLink:{optional:!0,type:"array",min:1,items:{optional:!0,type:"string"}},bgUrl:{optional:!0,type:"string"},bgUrl2:{optional:!0,type:"string"},overlayColor:{optional:!0,type:"array",min:2,items:{optional:!0,type:"color"}},mainColor:{optional:!0,type:"color"},speed:{optional:!0,type:"number",min:0}},ie={title:{optional:!1,type:"array",min:3,max:3,items:{optional:!1,type:"string"}},description:{optional:!1,type:"string"},month:{optional:!0,type:"string"},day:{optional:!0,type:"string"},dayNumber:{optional:!0,type:"number"},year:{optional:!0,type:"number"},bgUrl:{optional:!0,type:"string"},bgUrl2:{optional:!0,type:"string"},overlayColor:{optional:!0,type:"array",min:2,items:{optional:!0,type:"color"}},mainColor:{optional:!0,type:"color"},speed:{optional:!0,type:"number",min:0}},re={title:{optional:!1,type:"string"},name:{optional:!1,type:"string"},position:{optional:!1,type:"string"},bgUrl:{optional:!0,type:"string"},overlayColor:{optional:!0,type:"array",min:2,items:{optional:!0,type:"color"}},mainColor:{optional:!0,type:"color"},speed:{optional:!0,type:"number",min:0}},oe={title:{optional:!1,type:"string"},bigTitle:{optional:!1,type:"string"},name:{optional:!1,type:"string"},position:{optional:!1,type:"string"},month:{optional:!0,type:"string"},day:{optional:!0,type:"string"},dayNumber:{optional:!0,type:"number"},year:{optional:!0,type:"number"},bgUrl:{optional:!0,type:"string"},bgUrl2:{optional:!0,type:"string"},overlayColor:{optional:!0,type:"array",min:2,items:{optional:!0,type:"color"}},mainColor:{optional:!0,type:"color"},dateOverlay:{optional:!0,type:"color"},speed:{optional:!0,type:"number",min:0}},se={title:{optional:!1,type:"string"},name:{optional:!1,type:"string"},position:{optional:!1,type:"string"},month:{optional:!0,type:"string"},day:{optional:!0,type:"string"},dayNumber:{optional:!0,type:"number"},year:{optional:!0,type:"number"},bgUrl:{optional:!0,type:"string"},bgUrl2:{optional:!0,type:"string"},overlayColor:{optional:!0,type:"array",min:2,items:{optional:!0,type:"color"}},mainColor:{optional:!0,type:"color"},dateOverlay:{optional:!0,type:"color"},speed:{optional:!0,type:"number",min:0}},ae=n(2);e.default={npm_name:ae.a,version:ae.b,incidents:[{exportable:m,name:"Intro",attributesValidationRules:ee,originalDims:{width:"1920px",height:"1080px"}},{exportable:O,name:"Transition",attributesValidationRules:{title:{optional:!0,type:"string"},speed:{optional:!0,type:"number",min:0}},originalDims:{width:"1920px",height:"1080px"}},{exportable:j,name:"SlideDateOne",attributesValidationRules:ie,originalDims:{width:"1920px",height:"1080px"}},{exportable:te,name:"SlideDateOneVid",attributesValidationRules:ne,originalDims:{width:"1920px",height:"1080px"}},{exportable:st,name:"SlideDateTwo",attributesValidationRules:oe,originalDims:{width:"1920px",height:"1080px"}},{exportable:$,name:"Scrolslide",attributesValidationRules:re,originalDims:{width:"1920px",height:"1080px"}},{exportable:X,name:"LtRslide",attributesValidationRules:re,originalDims:{width:"1920px",height:"1080px"}},{exportable:mt,name:"BtTslide",attributesValidationRules:re,originalDims:{width:"1920px",height:"1080px"}},{exportable:Ot,name:"BtTslideDate",attributesValidationRules:se,originalDims:{width:"1920px",height:"1080px"}},{exportable:jt,name:"LtRslideTop",attributesValidationRules:re,originalDims:{width:"1920px",height:"1080px"}},{exportable:$t,name:"RtLslide",attributesValidationRules:re,originalDims:{width:"1920px",height:"1080px"}}]}}]);